(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();function Nv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yf={exports:{}},na={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function oS(){if(uy)return na;uy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:r,type:n,key:c,ref:l!==void 0?l:null,props:o}}return na.Fragment=t,na.jsx=e,na.jsxs=e,na}var cy;function uS(){return cy||(cy=1,yf.exports=oS()),yf.exports}var Rt=uS(),bf={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function cS(){if(hy)return pt;hy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function M(T,P,Z){this.props=T,this.context=P,this.refs=A,this.updater=Z||E}M.prototype.isReactComponent={},M.prototype.setState=function(T,P){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,P,"setState")},M.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function R(){}R.prototype=M.prototype;function H(T,P,Z){this.props=T,this.context=P,this.refs=A,this.updater=Z||E}var k=H.prototype=new R;k.constructor=H,S(k,M.prototype),k.isPureReactComponent=!0;var Y=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function $(T,P,Z,W,st,yt){return Z=yt.ref,{$$typeof:r,type:T,key:P,ref:Z!==void 0?Z:null,props:yt}}function J(T,P){return $(T.type,P,void 0,void 0,void 0,T.props)}function ut(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function dt(T){var P={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return P[Z]})}var gt=/\/+/g;function Et(T,P){return typeof T=="object"&&T!==null&&T.key!=null?dt(""+T.key):P.toString(36)}function Dt(){}function Xt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Dt,Dt):(T.status="pending",T.then(function(P){T.status==="pending"&&(T.status="fulfilled",T.value=P)},function(P){T.status==="pending"&&(T.status="rejected",T.reason=P)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function q(T,P,Z,W,st){var yt=typeof T;(yt==="undefined"||yt==="boolean")&&(T=null);var ct=!1;if(T===null)ct=!0;else switch(yt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(T.$$typeof){case r:case t:ct=!0;break;case m:return ct=T._init,q(ct(T._payload),P,Z,W,st)}}if(ct)return st=st(T),ct=W===""?"."+Et(T,0):W,Y(st)?(Z="",ct!=null&&(Z=ct.replace(gt,"$&/")+"/"),q(st,P,Z,"",function(Me){return Me})):st!=null&&(ut(st)&&(st=J(st,Z+(st.key==null||T&&T.key===st.key?"":(""+st.key).replace(gt,"$&/")+"/")+ct)),P.push(st)),1;ct=0;var Zt=W===""?".":W+":";if(Y(T))for(var zt=0;zt<T.length;zt++)W=T[zt],yt=Zt+Et(W,zt),ct+=q(W,P,Z,yt,st);else if(zt=v(T),typeof zt=="function")for(T=zt.call(T),zt=0;!(W=T.next()).done;)W=W.value,yt=Zt+Et(W,zt++),ct+=q(W,P,Z,yt,st);else if(yt==="object"){if(typeof T.then=="function")return q(Xt(T),P,Z,W,st);throw P=String(T),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ct}function C(T,P,Z){if(T==null)return T;var W=[],st=0;return q(T,W,"","",function(yt){return P.call(Z,yt,st++)}),W}function V(T){if(T._status===-1){var P=T._result;P=P(),P.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=P)}if(T._status===1)return T._result.default;throw T._result}var X=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function rt(){}return pt.Children={map:C,forEach:function(T,P,Z){C(T,function(){P.apply(this,arguments)},Z)},count:function(T){var P=0;return C(T,function(){P++}),P},toArray:function(T){return C(T,function(P){return P})||[]},only:function(T){if(!ut(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},pt.Component=M,pt.Fragment=e,pt.Profiler=l,pt.PureComponent=H,pt.StrictMode=n,pt.Suspense=d,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,pt.__COMPILER_RUNTIME={__proto__:null,c:function(T){return Q.H.useMemoCache(T)}},pt.cache=function(T){return function(){return T.apply(null,arguments)}},pt.cloneElement=function(T,P,Z){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var W=S({},T.props),st=T.key,yt=void 0;if(P!=null)for(ct in P.ref!==void 0&&(yt=void 0),P.key!==void 0&&(st=""+P.key),P)!K.call(P,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&P.ref===void 0||(W[ct]=P[ct]);var ct=arguments.length-2;if(ct===1)W.children=Z;else if(1<ct){for(var Zt=Array(ct),zt=0;zt<ct;zt++)Zt[zt]=arguments[zt+2];W.children=Zt}return $(T.type,st,void 0,void 0,yt,W)},pt.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:o,_context:T},T},pt.createElement=function(T,P,Z){var W,st={},yt=null;if(P!=null)for(W in P.key!==void 0&&(yt=""+P.key),P)K.call(P,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(st[W]=P[W]);var ct=arguments.length-2;if(ct===1)st.children=Z;else if(1<ct){for(var Zt=Array(ct),zt=0;zt<ct;zt++)Zt[zt]=arguments[zt+2];st.children=Zt}if(T&&T.defaultProps)for(W in ct=T.defaultProps,ct)st[W]===void 0&&(st[W]=ct[W]);return $(T,yt,void 0,void 0,null,st)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(T){return{$$typeof:f,render:T}},pt.isValidElement=ut,pt.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:V}},pt.memo=function(T,P){return{$$typeof:p,type:T,compare:P===void 0?null:P}},pt.startTransition=function(T){var P=Q.T,Z={};Q.T=Z;try{var W=T(),st=Q.S;st!==null&&st(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(rt,X)}catch(yt){X(yt)}finally{Q.T=P}},pt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},pt.use=function(T){return Q.H.use(T)},pt.useActionState=function(T,P,Z){return Q.H.useActionState(T,P,Z)},pt.useCallback=function(T,P){return Q.H.useCallback(T,P)},pt.useContext=function(T){return Q.H.useContext(T)},pt.useDebugValue=function(){},pt.useDeferredValue=function(T,P){return Q.H.useDeferredValue(T,P)},pt.useEffect=function(T,P,Z){var W=Q.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(T,P)},pt.useId=function(){return Q.H.useId()},pt.useImperativeHandle=function(T,P,Z){return Q.H.useImperativeHandle(T,P,Z)},pt.useInsertionEffect=function(T,P){return Q.H.useInsertionEffect(T,P)},pt.useLayoutEffect=function(T,P){return Q.H.useLayoutEffect(T,P)},pt.useMemo=function(T,P){return Q.H.useMemo(T,P)},pt.useOptimistic=function(T,P){return Q.H.useOptimistic(T,P)},pt.useReducer=function(T,P,Z){return Q.H.useReducer(T,P,Z)},pt.useRef=function(T){return Q.H.useRef(T)},pt.useState=function(T){return Q.H.useState(T)},pt.useSyncExternalStore=function(T,P,Z){return Q.H.useSyncExternalStore(T,P,Z)},pt.useTransition=function(){return Q.H.useTransition()},pt.version="19.1.0",pt}var fy;function kd(){return fy||(fy=1,bf.exports=cS()),bf.exports}var Yr=kd();const ud=Nv(Yr);var vf={exports:{}},sa={},wf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function hS(){return dy||(dy=1,function(r){function t(C,V){var X=C.length;C.push(V);t:for(;0<X;){var rt=X-1>>>1,T=C[rt];if(0<l(T,V))C[rt]=V,C[X]=T,X=rt;else break t}}function e(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var V=C[0],X=C.pop();if(X!==V){C[0]=X;t:for(var rt=0,T=C.length,P=T>>>1;rt<P;){var Z=2*(rt+1)-1,W=C[Z],st=Z+1,yt=C[st];if(0>l(W,X))st<T&&0>l(yt,W)?(C[rt]=yt,C[st]=X,rt=st):(C[rt]=W,C[Z]=X,rt=Z);else if(st<T&&0>l(yt,X))C[rt]=yt,C[st]=X,rt=st;else break t}}return V}function l(C,V){var X=C.sortIndex-V.sortIndex;return X!==0?X:C.id-V.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var d=[],p=[],m=1,y=null,v=3,E=!1,S=!1,A=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function Y(C){for(var V=e(p);V!==null;){if(V.callback===null)n(p);else if(V.startTime<=C)n(p),V.sortIndex=V.expirationTime,t(d,V);else break;V=e(p)}}function Q(C){if(A=!1,Y(C),!S)if(e(d)!==null)S=!0,K||(K=!0,Et());else{var V=e(p);V!==null&&q(Q,V.startTime-C)}}var K=!1,$=-1,J=5,ut=-1;function dt(){return M?!0:!(r.unstable_now()-ut<J)}function gt(){if(M=!1,K){var C=r.unstable_now();ut=C;var V=!0;try{t:{S=!1,A&&(A=!1,H($),$=-1),E=!0;var X=v;try{e:{for(Y(C),y=e(d);y!==null&&!(y.expirationTime>C&&dt());){var rt=y.callback;if(typeof rt=="function"){y.callback=null,v=y.priorityLevel;var T=rt(y.expirationTime<=C);if(C=r.unstable_now(),typeof T=="function"){y.callback=T,Y(C),V=!0;break e}y===e(d)&&n(d),Y(C)}else n(d);y=e(d)}if(y!==null)V=!0;else{var P=e(p);P!==null&&q(Q,P.startTime-C),V=!1}}break t}finally{y=null,v=X,E=!1}V=void 0}}finally{V?Et():K=!1}}}var Et;if(typeof k=="function")Et=function(){k(gt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Xt=Dt.port2;Dt.port1.onmessage=gt,Et=function(){Xt.postMessage(null)}}else Et=function(){R(gt,0)};function q(C,V){$=R(function(){C(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(C){C.callback=null},r.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<C?Math.floor(1e3/C):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(C){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var X=v;v=V;try{return C()}finally{v=X}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var X=v;v=C;try{return V()}finally{v=X}},r.unstable_scheduleCallback=function(C,V,X){var rt=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?rt+X:rt):X=rt,C){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=X+T,C={id:m++,callback:V,priorityLevel:C,startTime:X,expirationTime:T,sortIndex:-1},X>rt?(C.sortIndex=X,t(p,C),e(d)===null&&C===e(p)&&(A?(H($),$=-1):A=!0,q(Q,X-rt))):(C.sortIndex=T,t(d,C),S||E||(S=!0,K||(K=!0,Et()))),C},r.unstable_shouldYield=dt,r.unstable_wrapCallback=function(C){var V=v;return function(){var X=v;v=V;try{return C.apply(this,arguments)}finally{v=X}}}}(Af)),Af}var gy;function fS(){return gy||(gy=1,wf.exports=hS()),wf.exports}var Ef={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function dS(){if(py)return Be;py=1;var r=kd();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:p,implementation:m}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Be.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,m)},Be.flushSync=function(d){var p=c.T,m=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=p,n.p=m,n.d.f()}},Be.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},Be.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Be.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,y=f(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:E}):m==="script"&&n.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Be.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=f(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},Be.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=f(m,p.crossOrigin);n.d.L(d,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Be.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=f(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},Be.requestFormReset=function(d){n.d.r(d)},Be.unstable_batchedUpdates=function(d,p){return d(p)},Be.useFormState=function(d,p,m){return c.H.useFormState(d,p,m)},Be.useFormStatus=function(){return c.H.useHostTransitionStatus()},Be.version="19.1.0",Be}var my;function gS(){if(my)return Ef.exports;my=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ef.exports=dS(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function pS(){if(yy)return sa;yy=1;var r=fS(),t=kd(),e=gS();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var a=i,u=s;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return f(h),i;if(g===u)return f(h),s;g=g.sibling}throw Error(n(188))}if(a.return!==u.return)a=h,u=g;else{for(var b=!1,w=h.child;w;){if(w===a){b=!0,a=h,u=g;break}if(w===u){b=!0,u=h,a=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===a){b=!0,a=g,u=h;break}if(w===u){b=!0,u=g,a=h;break}w=w.sibling}if(!b)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function Et(i){return i===null||typeof i!="object"?null:(i=gt&&i[gt]||i["@@iterator"],typeof i=="function"?i:null)}var Dt=Symbol.for("react.client.reference");function Xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Dt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case Q:return"Suspense";case K:return"SuspenseList";case ut:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case k:return(i.displayName||"Context")+".Provider";case H:return(i._context.displayName||"Context")+".Consumer";case Y:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:Xt(i.type)||"Memo";case J:s=i._payload,i=i._init;try{return Xt(i(s))}catch{}}return null}var q=Array.isArray,C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},rt=[],T=-1;function P(i){return{current:i}}function Z(i){0>T||(i.current=rt[T],rt[T]=null,T--)}function W(i,s){T++,rt[T]=i.current,i.current=s}var st=P(null),yt=P(null),ct=P(null),Zt=P(null);function zt(i,s){switch(W(ct,s),W(yt,i),W(st,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?km(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=km(s),i=Pm(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(st),W(st,i)}function Me(){Z(st),Z(yt),Z(ct)}function Bi(i){i.memoizedState!==null&&W(Zt,i);var s=st.current,a=Pm(s,i.type);s!==a&&(W(yt,i),W(st,a))}function ns(i){yt.current===i&&(Z(st),Z(yt)),Zt.current===i&&(Z(Zt),Wl._currentValue=X)}var Pe=Object.prototype.hasOwnProperty,Ri=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Ha=r.unstable_shouldYield,Ga=r.unstable_requestPaint,Li=r.unstable_now,F1=r.unstable_getCurrentPriorityLevel,y0=r.unstable_ImmediatePriority,b0=r.unstable_UserBlockingPriority,Va=r.unstable_NormalPriority,I1=r.unstable_LowPriority,v0=r.unstable_IdlePriority,Q1=r.log,q1=r.unstable_setDisableYieldValue,ll=null,Ke=null;function An(i){if(typeof Q1=="function"&&q1(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ll,i)}catch{}}var Je=Math.clz32?Math.clz32:K1,j1=Math.log,Y1=Math.LN2;function K1(i){return i>>>=0,i===0?32:31-(j1(i)/Y1|0)|0}var Fa=256,Ia=4194304;function ss(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qa(i,s,a){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?h=ss(u):(b&=w,b!==0?h=ss(b):a||(a=w&~i,a!==0&&(h=ss(a))))):(w=u&~g,w!==0?h=ss(w):b!==0?h=ss(b):a||(a=u&~i,a!==0&&(h=ss(a)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:h}function al(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function J1(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(){var i=Fa;return Fa<<=1,(Fa&4194048)===0&&(Fa=256),i}function A0(){var i=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),i}function rc(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function ol(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function X1(i,s,a,u,h,g){var b=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,x=i.expirationTimes,_=i.hiddenUpdates;for(a=b&~a;0<a;){var z=31-Je(a),F=1<<z;w[z]=0,x[z]=-1;var U=_[z];if(U!==null)for(_[z]=null,z=0;z<U.length;z++){var D=U[z];D!==null&&(D.lane&=-536870913)}a&=~F}u!==0&&E0(i,u,0),g!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function E0(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Je(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194090}function S0(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var u=31-Je(a),h=1<<u;h&s|i[u]&s&&(i[u]|=s),a&=~h}}function lc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ac(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function x0(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:ny(i.type))}function Z1(i,s){var a=V.p;try{return V.p=i,s()}finally{V.p=a}}var En=Math.random().toString(36).slice(2),Ne="__reactFiber$"+En,He="__reactProps$"+En,js="__reactContainer$"+En,oc="__reactEvents$"+En,W1="__reactListeners$"+En,$1="__reactHandles$"+En,T0="__reactResources$"+En,ul="__reactMarker$"+En;function uc(i){delete i[Ne],delete i[He],delete i[oc],delete i[W1],delete i[$1]}function Ys(i){var s=i[Ne];if(s)return s;for(var a=i.parentNode;a;){if(s=a[js]||a[Ne]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Fm(i);i!==null;){if(a=i[Ne])return a;i=Fm(i)}return s}i=a,a=i.parentNode}return null}function Ks(i){if(i=i[Ne]||i[js]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function cl(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Js(i){var s=i[T0];return s||(s=i[T0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[ul]=!0}var O0=new Set,M0={};function rs(i,s){Xs(i,s),Xs(i+"Capture",s)}function Xs(i,s){for(M0[i]=s,i=0;i<s.length;i++)O0.add(s[i])}var tA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),N0={},C0={};function eA(i){return Pe.call(C0,i)?!0:Pe.call(N0,i)?!1:tA.test(i)?C0[i]=!0:(N0[i]=!0,!1)}function qa(i,s,a){if(eA(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function ja(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Qi(i,s,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+u)}}var cc,B0;function Zs(i){if(cc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);cc=s&&s[1]||"",B0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cc+i+B0}var hc=!1;function fc(i,s){if(!i||hc)return"";hc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(D){var U=D}Reflect.construct(i,[],F)}else{try{F.call()}catch(D){U=D}i.call(F.prototype)}}else{try{throw Error()}catch(D){U=D}(F=i())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(D){if(D&&U&&typeof D.stack=="string")return[D.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var x=b.split(`
`),_=w.split(`
`);for(h=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;h<_.length&&!_[h].includes("DetermineComponentFrameRoot");)h++;if(u===x.length||h===_.length)for(u=x.length-1,h=_.length-1;1<=u&&0<=h&&x[u]!==_[h];)h--;for(;1<=u&&0<=h;u--,h--)if(x[u]!==_[h]){if(u!==1||h!==1)do if(u--,h--,0>h||x[u]!==_[h]){var z=`
`+x[u].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=u&&0<=h);break}}}finally{hc=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Zs(a):""}function iA(i){switch(i.tag){case 26:case 27:case 5:return Zs(i.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 15:return fc(i.type,!1);case 11:return fc(i.type.render,!1);case 1:return fc(i.type,!0);case 31:return Zs("Activity");default:return""}}function R0(i){try{var s="";do s+=iA(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function li(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function L0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nA(i){var s=L0(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ya(i){i._valueTracker||(i._valueTracker=nA(i))}function _0(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return i&&(u=L0(i)?i.checked?"true":"false":i.value),i=u,i!==a?(s.setValue(i),!0):!1}function Ka(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var sA=/[\n"\\]/g;function ai(i){return i.replace(sA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dc(i,s,a,u,h,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+li(s)):i.value!==""+li(s)&&(i.value=""+li(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?gc(i,b,li(s)):a!=null?gc(i,b,li(a)):u!=null&&i.removeAttribute("value"),h==null&&g!=null&&(i.defaultChecked=!!g),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+li(w):i.removeAttribute("name")}function U0(i,s,a,u,h,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;a=a!=null?""+li(a):"",s=s!=null?""+li(s):a,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function gc(i,s,a){s==="number"&&Ka(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ws(i,s,a,u){if(i=i.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=s.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+li(a),s=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function D0(i,s,a){if(s!=null&&(s=""+li(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+li(a):""}function z0(i,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(n(92));if(q(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=li(s),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function $s(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var rA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function k0(i,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,a):typeof a!="number"||a===0||rA.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function P0(i,s,a){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&a[h]!==u&&k0(i,h,u)}else for(var g in s)s.hasOwnProperty(g)&&k0(i,g,s[g])}function pc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(i){return aA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var mc=null;function yc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tr=null,er=null;function H0(i){var s=Ks(i);if(s&&(i=s.stateNode)){var a=i[He]||null;t:switch(i=s.stateNode,s.type){case"input":if(dc(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ai(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==i&&u.form===i.form){var h=u[He]||null;if(!h)throw Error(n(90));dc(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===i.form&&_0(u)}break t;case"textarea":D0(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ws(i,!!a.multiple,s,!1)}}}var bc=!1;function G0(i,s,a){if(bc)return i(s,a);bc=!0;try{var u=i(s);return u}finally{if(bc=!1,(tr!==null||er!==null)&&(Do(),tr&&(s=tr,i=er,er=tr=null,H0(s),i)))for(s=0;s<i.length;s++)H0(i[s])}}function hl(i,s){var a=i.stateNode;if(a===null)return null;var u=a[He]||null;if(u===null)return null;a=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(qi)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){vc=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{vc=!1}var Sn=null,wc=null,Xa=null;function V0(){if(Xa)return Xa;var i,s=wc,a=s.length,u,h="value"in Sn?Sn.value:Sn.textContent,g=h.length;for(i=0;i<a&&s[i]===h[i];i++);var b=a-i;for(u=1;u<=b&&s[a-u]===h[g-u];u++);return Xa=h.slice(i,1<u?1-u:void 0)}function Za(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Wa(){return!0}function F0(){return!1}function Ge(i){function s(a,u,h,g,b){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wa:F0,this.isPropagationStopped=F0,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Ge(ls),dl=m({},ls,{view:0,detail:0}),oA=Ge(dl),Ac,Ec,gl,to=m({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gl&&(gl&&i.type==="mousemove"?(Ac=i.screenX-gl.screenX,Ec=i.screenY-gl.screenY):Ec=Ac=0,gl=i),Ac)},movementY:function(i){return"movementY"in i?i.movementY:Ec}}),I0=Ge(to),uA=m({},to,{dataTransfer:0}),cA=Ge(uA),hA=m({},dl,{relatedTarget:0}),Sc=Ge(hA),fA=m({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),dA=Ge(fA),gA=m({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pA=Ge(gA),mA=m({},ls,{data:0}),Q0=Ge(mA),yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=vA[i])?!!s[i]:!1}function xc(){return wA}var AA=m({},dl,{key:function(i){if(i.key){var s=yA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Za(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(i){return i.type==="keypress"?Za(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Za(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),EA=Ge(AA),SA=m({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=Ge(SA),xA=m({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),TA=Ge(xA),OA=m({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),MA=Ge(OA),NA=m({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),CA=Ge(NA),BA=m({},ls,{newState:0,oldState:0}),RA=Ge(BA),LA=[9,13,27,32],Tc=qi&&"CompositionEvent"in window,pl=null;qi&&"documentMode"in document&&(pl=document.documentMode);var _A=qi&&"TextEvent"in window&&!pl,j0=qi&&(!Tc||pl&&8<pl&&11>=pl),Y0=" ",K0=!1;function J0(i,s){switch(i){case"keyup":return LA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ir=!1;function UA(i,s){switch(i){case"compositionend":return X0(s);case"keypress":return s.which!==32?null:(K0=!0,Y0);case"textInput":return i=s.data,i===Y0&&K0?null:i;default:return null}}function DA(i,s){if(ir)return i==="compositionend"||!Tc&&J0(i,s)?(i=V0(),Xa=wc=Sn=null,ir=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return j0&&s.locale!=="ko"?null:s.data;default:return null}}var zA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!zA[i.type]:s==="textarea"}function W0(i,s,a,u){tr?er?er.push(u):er=[u]:tr=u,s=Vo(s,"onChange"),0<s.length&&(a=new $a("onChange","change",null,a,u),i.push({event:a,listeners:s}))}var ml=null,yl=null;function kA(i){Lm(i,0)}function eo(i){var s=cl(i);if(_0(s))return i}function $0(i,s){if(i==="change")return s}var tg=!1;if(qi){var Oc;if(qi){var Mc="oninput"in document;if(!Mc){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),Mc=typeof eg.oninput=="function"}Oc=Mc}else Oc=!1;tg=Oc&&(!document.documentMode||9<document.documentMode)}function ig(){ml&&(ml.detachEvent("onpropertychange",ng),yl=ml=null)}function ng(i){if(i.propertyName==="value"&&eo(yl)){var s=[];W0(s,yl,i,yc(i)),G0(kA,s)}}function PA(i,s,a){i==="focusin"?(ig(),ml=s,yl=a,ml.attachEvent("onpropertychange",ng)):i==="focusout"&&ig()}function HA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eo(yl)}function GA(i,s){if(i==="click")return eo(s)}function VA(i,s){if(i==="input"||i==="change")return eo(s)}function FA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Xe=typeof Object.is=="function"?Object.is:FA;function bl(i,s){if(Xe(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!Pe.call(s,h)||!Xe(i[h],s[h]))return!1}return!0}function sg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rg(i,s){var a=sg(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=s&&u>=s)return{node:a,offset:s-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sg(a)}}function lg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?lg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ag(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ka(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ka(i.document)}return s}function Nc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var IA=qi&&"documentMode"in document&&11>=document.documentMode,nr=null,Cc=null,vl=null,Bc=!1;function og(i,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||nr==null||nr!==Ka(u)||(u=nr,"selectionStart"in u&&Nc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&bl(vl,u)||(vl=u,u=Vo(Cc,"onSelect"),0<u.length&&(s=new $a("onSelect","select",null,s,a),i.push({event:s,listeners:u}),s.target=nr)))}function as(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var sr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Rc={},ug={};qi&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function os(i){if(Rc[i])return Rc[i];if(!sr[i])return i;var s=sr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in ug)return Rc[i]=s[a];return i}var cg=os("animationend"),hg=os("animationiteration"),fg=os("animationstart"),QA=os("transitionrun"),qA=os("transitionstart"),jA=os("transitioncancel"),dg=os("transitionend"),gg=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function wi(i,s){gg.set(i,s),rs(s,[i])}var pg=new WeakMap;function oi(i,s){if(typeof i=="object"&&i!==null){var a=pg.get(i);return a!==void 0?a:(s={value:i,source:s,stack:R0(s)},pg.set(i,s),s)}return{value:i,source:s,stack:R0(s)}}var ui=[],rr=0,_c=0;function io(){for(var i=rr,s=_c=rr=0;s<i;){var a=ui[s];ui[s++]=null;var u=ui[s];ui[s++]=null;var h=ui[s];ui[s++]=null;var g=ui[s];if(ui[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}g!==0&&mg(a,h,g)}}function no(i,s,a,u){ui[rr++]=i,ui[rr++]=s,ui[rr++]=a,ui[rr++]=u,_c|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Uc(i,s,a,u){return no(i,s,a,u),so(i)}function lr(i,s){return no(i,null,null,s),so(i)}function mg(i,s,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,g=i.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(h=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,h&&s!==null&&(h=31-Je(a),i=g.hiddenUpdates,u=i[h],u===null?i[h]=[s]:u.push(s),s.lane=a|536870912),g):null}function so(i){if(50<Ql)throw Ql=0,Gh=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ar={};function YA(i,s,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(i,s,a,u){return new YA(i,s,a,u)}function Dc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ji(i,s){var a=i.alternate;return a===null?(a=Ze(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function yg(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ro(i,s,a,u,h,g){var b=0;if(u=i,typeof i=="function")Dc(i)&&(b=1);else if(typeof i=="string")b=JE(i,a,st.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case ut:return i=Ze(31,a,s,h),i.elementType=ut,i.lanes=g,i;case S:return us(a.children,h,g,s);case A:b=8,h|=24;break;case M:return i=Ze(12,a,s,h|2),i.elementType=M,i.lanes=g,i;case Q:return i=Ze(13,a,s,h),i.elementType=Q,i.lanes=g,i;case K:return i=Ze(19,a,s,h),i.elementType=K,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case k:b=10;break t;case H:b=9;break t;case Y:b=11;break t;case $:b=14;break t;case J:b=16,u=null;break t}b=29,a=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=Ze(b,a,s,h),s.elementType=i,s.type=u,s.lanes=g,s}function us(i,s,a,u){return i=Ze(7,i,u,s),i.lanes=a,i}function zc(i,s,a){return i=Ze(6,i,null,s),i.lanes=a,i}function kc(i,s,a){return s=Ze(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var or=[],ur=0,lo=null,ao=0,ci=[],hi=0,cs=null,Yi=1,Ki="";function hs(i,s){or[ur++]=ao,or[ur++]=lo,lo=i,ao=s}function bg(i,s,a){ci[hi++]=Yi,ci[hi++]=Ki,ci[hi++]=cs,cs=i;var u=Yi;i=Ki;var h=32-Je(u)-1;u&=~(1<<h),a+=1;var g=32-Je(s)+h;if(30<g){var b=h-h%5;g=(u&(1<<b)-1).toString(32),u>>=b,h-=b,Yi=1<<32-Je(s)+h|a<<h|u,Ki=g+i}else Yi=1<<g|a<<h|u,Ki=i}function Pc(i){i.return!==null&&(hs(i,1),bg(i,1,0))}function Hc(i){for(;i===lo;)lo=or[--ur],or[ur]=null,ao=or[--ur],or[ur]=null;for(;i===cs;)cs=ci[--hi],ci[hi]=null,Ki=ci[--hi],ci[hi]=null,Yi=ci[--hi],ci[hi]=null}var Re=null,Wt=null,Bt=!1,fs=null,_i=!1,Gc=Error(n(519));function ds(i){var s=Error(n(418,""));throw El(oi(s,i)),Gc}function vg(i){var s=i.stateNode,a=i.type,u=i.memoizedProps;switch(s[Ne]=i,s[He]=u,a){case"dialog":xt("cancel",s),xt("close",s);break;case"iframe":case"object":case"embed":xt("load",s);break;case"video":case"audio":for(a=0;a<jl.length;a++)xt(jl[a],s);break;case"source":xt("error",s);break;case"img":case"image":case"link":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"input":xt("invalid",s),U0(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ya(s);break;case"select":xt("invalid",s);break;case"textarea":xt("invalid",s),z0(s,u.value,u.defaultValue,u.children),Ya(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||zm(s.textContent,a)?(u.popover!=null&&(xt("beforetoggle",s),xt("toggle",s)),u.onScroll!=null&&xt("scroll",s),u.onScrollEnd!=null&&xt("scrollend",s),u.onClick!=null&&(s.onclick=Fo),s=!0):s=!1,s||ds(i)}function wg(i){for(Re=i.return;Re;)switch(Re.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Re=Re.return}}function wl(i){if(i!==Re)return!1;if(!Bt)return wg(i),Bt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||nf(i.type,i.memoizedProps)),a=!a),a&&Wt&&ds(i),wg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){Wt=Ei(i.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}Wt=null}}else s===27?(s=Wt,Hn(i.type)?(i=af,af=null,Wt=i):Wt=s):Wt=Re?Ei(i.stateNode.nextSibling):null;return!0}function Al(){Wt=Re=null,Bt=!1}function Ag(){var i=fs;return i!==null&&(Ie===null?Ie=i:Ie.push.apply(Ie,i),fs=null),i}function El(i){fs===null?fs=[i]:fs.push(i)}var Vc=P(null),gs=null,Ji=null;function xn(i,s,a){W(Vc,s._currentValue),s._currentValue=a}function Xi(i){i._currentValue=Vc.current,Z(Vc)}function Fc(i,s,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===a)break;i=i.return}}function Ic(i,s,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=h;for(var x=0;x<s.length;x++)if(w.context===s[x]){g.lanes|=a,w=g.alternate,w!==null&&(w.lanes|=a),Fc(g.return,a,i),u||(b=null);break t}g=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(n(341));b.lanes|=a,g=b.alternate,g!==null&&(g.lanes|=a),Fc(b,a,i),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===i){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Sl(i,s,a,u){i=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var w=h.type;Xe(h.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(h===Zt.current){if(b=h.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(Wl):i=[Wl])}h=h.return}i!==null&&Ic(s,i,a,u),s.flags|=262144}function oo(i){for(i=i.firstContext;i!==null;){if(!Xe(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ps(i){gs=i,Ji=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ce(i){return Eg(gs,i)}function uo(i,s){return gs===null&&ps(i),Eg(i,s)}function Eg(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ji===null){if(i===null)throw Error(n(308));Ji=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ji=Ji.next=s;return a}var KA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},JA=r.unstable_scheduleCallback,XA=r.unstable_NormalPriority,fe={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new KA,data:new Map,refCount:0}}function xl(i){i.refCount--,i.refCount===0&&JA(XA,function(){i.controller.abort()})}var Tl=null,qc=0,cr=0,hr=null;function ZA(i,s){if(Tl===null){var a=Tl=[];qc=0,cr=Yh(),hr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return qc++,s.then(Sg,Sg),s}function Sg(){if(--qc===0&&Tl!==null){hr!==null&&(hr.status="fulfilled");var i=Tl;Tl=null,cr=0,hr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function WA(i,s){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var xg=C.S;C.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZA(i,s),xg!==null&&xg(i,s)};var ms=P(null);function jc(){var i=ms.current;return i!==null?i:Ft.pooledCache}function co(i,s){s===null?W(ms,ms.current):W(ms,s.pool)}function Tg(){var i=jc();return i===null?null:{parent:fe._currentValue,pool:i}}var Ol=Error(n(460)),Og=Error(n(474)),ho=Error(n(542)),Yc={then:function(){}};function Mg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function fo(){}function Ng(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(fo,fo),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Bg(i),i;default:if(typeof s.status=="string")s.then(fo,fo);else{if(i=Ft,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Bg(i),i}throw Ml=s,Ol}}var Ml=null;function Cg(){if(Ml===null)throw Error(n(459));var i=Ml;return Ml=null,i}function Bg(i){if(i===Ol||i===ho)throw Error(n(483))}var Tn=!1;function Kc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function On(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mn(i,s,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(_t&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=so(i),mg(i,null,a),s}return no(i,u,s,a),so(i)}function Nl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,S0(i,a)}}function Xc(i,s){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,a=a.next}while(a!==null);g===null?h=g=s:g=g.next=s}else h=g=s;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Zc=!1;function Cl(){if(Zc){var i=hr;if(i!==null)throw i}}function Bl(i,s,a,u){Zc=!1;var h=i.updateQueue;Tn=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var x=w,_=x.next;x.next=null,b===null?g=_:b.next=_,b=x;var z=i.alternate;z!==null&&(z=z.updateQueue,w=z.lastBaseUpdate,w!==b&&(w===null?z.firstBaseUpdate=_:w.next=_,z.lastBaseUpdate=x))}if(g!==null){var F=h.baseState;b=0,z=_=x=null,w=g;do{var U=w.lane&-536870913,D=U!==w.lane;if(D?(Mt&U)===U:(u&U)===U){U!==0&&U===cr&&(Zc=!0),z!==null&&(z=z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var ft=i,at=w;U=s;var Ht=a;switch(at.tag){case 1:if(ft=at.payload,typeof ft=="function"){F=ft.call(Ht,F,U);break t}F=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=at.payload,U=typeof ft=="function"?ft.call(Ht,F,U):ft,U==null)break t;F=m({},F,U);break t;case 2:Tn=!0}}U=w.callback,U!==null&&(i.flags|=64,D&&(i.flags|=8192),D=h.callbacks,D===null?h.callbacks=[U]:D.push(U))}else D={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},z===null?(_=z=D,x=F):z=z.next=D,b|=U;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;D=w,w=D.next,D.next=null,h.lastBaseUpdate=D,h.shared.pending=null}}while(!0);z===null&&(x=F),h.baseState=x,h.firstBaseUpdate=_,h.lastBaseUpdate=z,g===null&&(h.shared.lanes=0),Dn|=b,i.lanes=b,i.memoizedState=F}}function Rg(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Lg(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Rg(a[i],s)}var fr=P(null),go=P(0);function _g(i,s){i=sn,W(go,i),W(fr,s),sn=i|s.baseLanes}function Wc(){W(go,sn),W(fr,fr.current)}function $c(){sn=go.current,Z(fr),Z(go)}var Nn=0,bt=null,kt=null,ue=null,po=!1,dr=!1,ys=!1,mo=0,Rl=0,gr=null,$A=0;function se(){throw Error(n(321))}function th(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Xe(i[a],s[a]))return!1;return!0}function eh(i,s,a,u,h,g){return Nn=g,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?mp:yp,ys=!1,g=a(u,h),ys=!1,dr&&(g=Dg(s,a,u,h)),Ug(i),g}function Ug(i){C.H=Eo;var s=kt!==null&&kt.next!==null;if(Nn=0,ue=kt=bt=null,po=!1,Rl=0,gr=null,s)throw Error(n(300));i===null||me||(i=i.dependencies,i!==null&&oo(i)&&(me=!0))}function Dg(i,s,a,u){bt=i;var h=0;do{if(dr&&(gr=null),Rl=0,dr=!1,25<=h)throw Error(n(301));if(h+=1,ue=kt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}C.H=lE,g=s(a,u)}while(dr);return g}function tE(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?Ll(s):s,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(bt.flags|=1024),s}function ih(){var i=mo!==0;return mo=0,i}function nh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function sh(i){if(po){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}po=!1}Nn=0,ue=kt=bt=null,dr=!1,Rl=mo=0,gr=null}function Ve(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?bt.memoizedState=ue=i:ue=ue.next=i,ue}function ce(){if(kt===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var s=ue===null?bt.memoizedState:ue.next;if(s!==null)ue=s,kt=i;else{if(i===null)throw bt.alternate===null?Error(n(467)):Error(n(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},ue===null?bt.memoizedState=ue=i:ue=ue.next=i}return ue}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(i){var s=Rl;return Rl+=1,gr===null&&(gr=[]),i=Ng(gr,i,s),s=bt,(ue===null?s.memoizedState:ue.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?mp:yp),i}function yo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ll(i);if(i.$$typeof===k)return Ce(i)}throw Error(n(438,String(i)))}function lh(i){var s=null,a=bt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=rh(),bt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),u=0;u<i;u++)a[u]=dt;return s.index++,a}function Zi(i,s){return typeof s=="function"?s(i):s}function bo(i){var s=ce();return ah(s,kt,i)}function ah(i,s,a){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var h=i.baseQueue,g=u.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}s.baseQueue=h=g,u.pending=null}if(g=i.baseState,h===null)i.memoizedState=g;else{s=h.next;var w=b=null,x=null,_=s,z=!1;do{var F=_.lane&-536870913;if(F!==_.lane?(Mt&F)===F:(Nn&F)===F){var U=_.revertLane;if(U===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),F===cr&&(z=!0);else if((Nn&U)===U){_=_.next,U===cr&&(z=!0);continue}else F={lane:0,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},x===null?(w=x=F,b=g):x=x.next=F,bt.lanes|=U,Dn|=U;F=_.action,ys&&a(g,F),g=_.hasEagerState?_.eagerState:a(g,F)}else U={lane:F,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},x===null?(w=x=U,b=g):x=x.next=U,bt.lanes|=F,Dn|=F;_=_.next}while(_!==null&&_!==s);if(x===null?b=g:x.next=w,!Xe(g,i.memoizedState)&&(me=!0,z&&(a=hr,a!==null)))throw a;i.memoizedState=g,i.baseState=b,i.baseQueue=x,u.lastRenderedState=g}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function oh(i){var s=ce(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,g=s.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do g=i(g,b.action),b=b.next;while(b!==h);Xe(g,s.memoizedState)||(me=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,u]}function zg(i,s,a){var u=bt,h=ce(),g=Bt;if(g){if(a===void 0)throw Error(n(407));a=a()}else a=s();var b=!Xe((kt||h).memoizedState,a);b&&(h.memoizedState=a,me=!0),h=h.queue;var w=Hg.bind(null,u,h,i);if(_l(2048,8,w,[i]),h.getSnapshot!==s||b||ue!==null&&ue.memoizedState.tag&1){if(u.flags|=2048,pr(9,vo(),Pg.bind(null,u,h,a,s),null),Ft===null)throw Error(n(349));g||(Nn&124)!==0||kg(u,s,a)}return a}function kg(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=bt.updateQueue,s===null?(s=rh(),bt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Pg(i,s,a,u){s.value=a,s.getSnapshot=u,Gg(s)&&Vg(i)}function Hg(i,s,a){return a(function(){Gg(s)&&Vg(i)})}function Gg(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Xe(i,a)}catch{return!0}}function Vg(i){var s=lr(i,2);s!==null&&ii(s,i,2)}function uh(i){var s=Ve();if(typeof i=="function"){var a=i;if(i=a(),ys){An(!0);try{a()}finally{An(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:i},s}function Fg(i,s,a,u){return i.baseState=a,ah(i,kt,typeof u=="function"?u:Zi)}function eE(i,s,a,u,h){if(Ao(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};C.T!==null?a(!0):g.isTransition=!1,u(g),a=s.pending,a===null?(g.next=s.pending=g,Ig(s,g)):(g.next=a.next,s.pending=a.next=g)}}function Ig(i,s){var a=s.action,u=s.payload,h=i.state;if(s.isTransition){var g=C.T,b={};C.T=b;try{var w=a(h,u),x=C.S;x!==null&&x(b,w),Qg(i,s,w)}catch(_){ch(i,s,_)}finally{C.T=g}}else try{g=a(h,u),Qg(i,s,g)}catch(_){ch(i,s,_)}}function Qg(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){qg(i,s,u)},function(u){return ch(i,s,u)}):qg(i,s,a)}function qg(i,s,a){s.status="fulfilled",s.value=a,jg(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,Ig(i,a)))}function ch(i,s,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,jg(s),s=s.next;while(s!==u)}i.action=null}function jg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Yg(i,s){return s}function Kg(i,s){if(Bt){var a=Ft.formState;if(a!==null){t:{var u=bt;if(Bt){if(Wt){e:{for(var h=Wt,g=_i;h.nodeType!==8;){if(!g){h=null;break e}if(h=Ei(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Wt=Ei(h.nextSibling),u=h.data==="F!";break t}}ds(u)}u=!1}u&&(s=a[0])}}return a=Ve(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:s},a.queue=u,a=dp.bind(null,bt,u),u.dispatch=a,u=uh(!1),g=ph.bind(null,bt,!1,u.queue),u=Ve(),h={state:s,dispatch:null,action:i,pending:null},u.queue=h,a=eE.bind(null,bt,h,g,a),h.dispatch=a,u.memoizedState=i,[s,a,!1]}function Jg(i){var s=ce();return Xg(s,kt,i)}function Xg(i,s,a){if(s=ah(i,s,Yg)[0],i=bo(Zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ll(s)}catch(b){throw b===Ol?ho:b}else u=s;s=ce();var h=s.queue,g=h.dispatch;return a!==s.memoizedState&&(bt.flags|=2048,pr(9,vo(),iE.bind(null,h,a),null)),[u,g,i]}function iE(i,s){i.action=s}function Zg(i){var s=ce(),a=kt;if(a!==null)return Xg(s,a,i);ce(),s=s.memoizedState,a=ce();var u=a.queue.dispatch;return a.memoizedState=i,[s,u,!1]}function pr(i,s,a,u){return i={tag:i,create:a,deps:u,inst:s,next:null},s=bt.updateQueue,s===null&&(s=rh(),bt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,s.lastEffect=i),i}function vo(){return{destroy:void 0,resource:void 0}}function Wg(){return ce().memoizedState}function wo(i,s,a,u){var h=Ve();u=u===void 0?null:u,bt.flags|=i,h.memoizedState=pr(1|s,vo(),a,u)}function _l(i,s,a,u){var h=ce();u=u===void 0?null:u;var g=h.memoizedState.inst;kt!==null&&u!==null&&th(u,kt.memoizedState.deps)?h.memoizedState=pr(s,g,a,u):(bt.flags|=i,h.memoizedState=pr(1|s,g,a,u))}function $g(i,s){wo(8390656,8,i,s)}function tp(i,s){_l(2048,8,i,s)}function ep(i,s){return _l(4,2,i,s)}function ip(i,s){return _l(4,4,i,s)}function np(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function sp(i,s,a){a=a!=null?a.concat([i]):null,_l(4,4,np.bind(null,s,i),a)}function hh(){}function rp(i,s){var a=ce();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&th(s,u[1])?u[0]:(a.memoizedState=[i,s],i)}function lp(i,s){var a=ce();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&th(s,u[1]))return u[0];if(u=i(),ys){An(!0);try{i()}finally{An(!1)}}return a.memoizedState=[u,s],u}function fh(i,s,a){return a===void 0||(Nn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=um(),bt.lanes|=i,Dn|=i,a)}function ap(i,s,a,u){return Xe(a,s)?a:fr.current!==null?(i=fh(i,a,u),Xe(i,s)||(me=!0),i):(Nn&42)===0?(me=!0,i.memoizedState=a):(i=um(),bt.lanes|=i,Dn|=i,s)}function op(i,s,a,u,h){var g=V.p;V.p=g!==0&&8>g?g:8;var b=C.T,w={};C.T=w,ph(i,!1,s,a);try{var x=h(),_=C.S;if(_!==null&&_(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=WA(x,u);Ul(i,s,z,ei(i))}else Ul(i,s,u,ei(i))}catch(F){Ul(i,s,{then:function(){},status:"rejected",reason:F},ei())}finally{V.p=g,C.T=b}}function nE(){}function dh(i,s,a,u){if(i.tag!==5)throw Error(n(476));var h=up(i).queue;op(i,h,s,X,a===null?nE:function(){return cp(i),a(u)})}function up(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:X},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function cp(i){var s=up(i).next.queue;Ul(i,s,{},ei())}function gh(){return Ce(Wl)}function hp(){return ce().memoizedState}function fp(){return ce().memoizedState}function sE(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=ei();i=On(a);var u=Mn(s,i,a);u!==null&&(ii(u,s,a),Nl(u,s,a)),s={cache:Qc()},i.payload=s;return}s=s.return}}function rE(i,s,a){var u=ei();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ao(i)?gp(s,a):(a=Uc(i,s,a,u),a!==null&&(ii(a,i,u),pp(a,s,u)))}function dp(i,s,a){var u=ei();Ul(i,s,a,u)}function Ul(i,s,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ao(i))gp(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,w=g(b,a);if(h.hasEagerState=!0,h.eagerState=w,Xe(w,b))return no(i,s,h,0),Ft===null&&io(),!1}catch{}finally{}if(a=Uc(i,s,h,u),a!==null)return ii(a,i,u),pp(a,s,u),!0}return!1}function ph(i,s,a,u){if(u={lane:2,revertLane:Yh(),action:u,hasEagerState:!1,eagerState:null,next:null},Ao(i)){if(s)throw Error(n(479))}else s=Uc(i,a,u,2),s!==null&&ii(s,i,2)}function Ao(i){var s=i.alternate;return i===bt||s!==null&&s===bt}function gp(i,s){dr=po=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function pp(i,s,a){if((a&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,S0(i,a)}}var Eo={readContext:Ce,use:yo,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},mp={readContext:Ce,use:yo,useCallback:function(i,s){return Ve().memoizedState=[i,s===void 0?null:s],i},useContext:Ce,useEffect:$g,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,wo(4194308,4,np.bind(null,s,i),a)},useLayoutEffect:function(i,s){return wo(4194308,4,i,s)},useInsertionEffect:function(i,s){wo(4,2,i,s)},useMemo:function(i,s){var a=Ve();s=s===void 0?null:s;var u=i();if(ys){An(!0);try{i()}finally{An(!1)}}return a.memoizedState=[u,s],u},useReducer:function(i,s,a){var u=Ve();if(a!==void 0){var h=a(s);if(ys){An(!0);try{a(s)}finally{An(!1)}}}else h=s;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=rE.bind(null,bt,i),[u.memoizedState,i]},useRef:function(i){var s=Ve();return i={current:i},s.memoizedState=i},useState:function(i){i=uh(i);var s=i.queue,a=dp.bind(null,bt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:hh,useDeferredValue:function(i,s){var a=Ve();return fh(a,i,s)},useTransition:function(){var i=uh(!1);return i=op.bind(null,bt,i.queue,!0,!1),Ve().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var u=bt,h=Ve();if(Bt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Ft===null)throw Error(n(349));(Mt&124)!==0||kg(u,s,a)}h.memoizedState=a;var g={value:a,getSnapshot:s};return h.queue=g,$g(Hg.bind(null,u,g,i),[i]),u.flags|=2048,pr(9,vo(),Pg.bind(null,u,g,a,s),null),a},useId:function(){var i=Ve(),s=Ft.identifierPrefix;if(Bt){var a=Ki,u=Yi;a=(u&~(1<<32-Je(u)-1)).toString(32)+a,s=""+s+"R"+a,a=mo++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=$A++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:gh,useFormState:Kg,useActionState:Kg,useOptimistic:function(i){var s=Ve();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ph.bind(null,bt,!0,a),a.dispatch=s,[i,s]},useMemoCache:lh,useCacheRefresh:function(){return Ve().memoizedState=sE.bind(null,bt)}},yp={readContext:Ce,use:yo,useCallback:rp,useContext:Ce,useEffect:tp,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:ip,useMemo:lp,useReducer:bo,useRef:Wg,useState:function(){return bo(Zi)},useDebugValue:hh,useDeferredValue:function(i,s){var a=ce();return ap(a,kt.memoizedState,i,s)},useTransition:function(){var i=bo(Zi)[0],s=ce().memoizedState;return[typeof i=="boolean"?i:Ll(i),s]},useSyncExternalStore:zg,useId:hp,useHostTransitionStatus:gh,useFormState:Jg,useActionState:Jg,useOptimistic:function(i,s){var a=ce();return Fg(a,kt,i,s)},useMemoCache:lh,useCacheRefresh:fp},lE={readContext:Ce,use:yo,useCallback:rp,useContext:Ce,useEffect:tp,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:ip,useMemo:lp,useReducer:oh,useRef:Wg,useState:function(){return oh(Zi)},useDebugValue:hh,useDeferredValue:function(i,s){var a=ce();return kt===null?fh(a,i,s):ap(a,kt.memoizedState,i,s)},useTransition:function(){var i=oh(Zi)[0],s=ce().memoizedState;return[typeof i=="boolean"?i:Ll(i),s]},useSyncExternalStore:zg,useId:hp,useHostTransitionStatus:gh,useFormState:Zg,useActionState:Zg,useOptimistic:function(i,s){var a=ce();return kt!==null?Fg(a,kt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:lh,useCacheRefresh:fp},mr=null,Dl=0;function So(i){var s=Dl;return Dl+=1,mr===null&&(mr=[]),Ng(mr,i,s)}function zl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function xo(i,s){throw s.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function bp(i){var s=i._init;return s(i._payload)}function vp(i){function s(B,O){if(i){var L=B.deletions;L===null?(B.deletions=[O],B.flags|=16):L.push(O)}}function a(B,O){if(!i)return null;for(;O!==null;)s(B,O),O=O.sibling;return null}function u(B){for(var O=new Map;B!==null;)B.key!==null?O.set(B.key,B):O.set(B.index,B),B=B.sibling;return O}function h(B,O){return B=ji(B,O),B.index=0,B.sibling=null,B}function g(B,O,L){return B.index=L,i?(L=B.alternate,L!==null?(L=L.index,L<O?(B.flags|=67108866,O):L):(B.flags|=67108866,O)):(B.flags|=1048576,O)}function b(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,O,L,G){return O===null||O.tag!==6?(O=zc(L,B.mode,G),O.return=B,O):(O=h(O,L),O.return=B,O)}function x(B,O,L,G){var nt=L.type;return nt===S?z(B,O,L.props.children,G,L.key):O!==null&&(O.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===J&&bp(nt)===O.type)?(O=h(O,L.props),zl(O,L),O.return=B,O):(O=ro(L.type,L.key,L.props,null,B.mode,G),zl(O,L),O.return=B,O)}function _(B,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=kc(L,B.mode,G),O.return=B,O):(O=h(O,L.children||[]),O.return=B,O)}function z(B,O,L,G,nt){return O===null||O.tag!==7?(O=us(L,B.mode,G,nt),O.return=B,O):(O=h(O,L),O.return=B,O)}function F(B,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zc(""+O,B.mode,L),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return L=ro(O.type,O.key,O.props,null,B.mode,L),zl(L,O),L.return=B,L;case E:return O=kc(O,B.mode,L),O.return=B,O;case J:var G=O._init;return O=G(O._payload),F(B,O,L)}if(q(O)||Et(O))return O=us(O,B.mode,L,null),O.return=B,O;if(typeof O.then=="function")return F(B,So(O),L);if(O.$$typeof===k)return F(B,uo(B,O),L);xo(B,O)}return null}function U(B,O,L,G){var nt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return nt!==null?null:w(B,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return L.key===nt?x(B,O,L,G):null;case E:return L.key===nt?_(B,O,L,G):null;case J:return nt=L._init,L=nt(L._payload),U(B,O,L,G)}if(q(L)||Et(L))return nt!==null?null:z(B,O,L,G,null);if(typeof L.then=="function")return U(B,O,So(L),G);if(L.$$typeof===k)return U(B,O,uo(B,L),G);xo(B,L)}return null}function D(B,O,L,G,nt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return B=B.get(L)||null,w(O,B,""+G,nt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return B=B.get(G.key===null?L:G.key)||null,x(O,B,G,nt);case E:return B=B.get(G.key===null?L:G.key)||null,_(O,B,G,nt);case J:var At=G._init;return G=At(G._payload),D(B,O,L,G,nt)}if(q(G)||Et(G))return B=B.get(L)||null,z(O,B,G,nt,null);if(typeof G.then=="function")return D(B,O,L,So(G),nt);if(G.$$typeof===k)return D(B,O,L,uo(O,G),nt);xo(O,G)}return null}function ft(B,O,L,G){for(var nt=null,At=null,lt=O,ht=O=0,be=null;lt!==null&&ht<L.length;ht++){lt.index>ht?(be=lt,lt=null):be=lt.sibling;var Nt=U(B,lt,L[ht],G);if(Nt===null){lt===null&&(lt=be);break}i&&lt&&Nt.alternate===null&&s(B,lt),O=g(Nt,O,ht),At===null?nt=Nt:At.sibling=Nt,At=Nt,lt=be}if(ht===L.length)return a(B,lt),Bt&&hs(B,ht),nt;if(lt===null){for(;ht<L.length;ht++)lt=F(B,L[ht],G),lt!==null&&(O=g(lt,O,ht),At===null?nt=lt:At.sibling=lt,At=lt);return Bt&&hs(B,ht),nt}for(lt=u(lt);ht<L.length;ht++)be=D(lt,B,ht,L[ht],G),be!==null&&(i&&be.alternate!==null&&lt.delete(be.key===null?ht:be.key),O=g(be,O,ht),At===null?nt=be:At.sibling=be,At=be);return i&&lt.forEach(function(Qn){return s(B,Qn)}),Bt&&hs(B,ht),nt}function at(B,O,L,G){if(L==null)throw Error(n(151));for(var nt=null,At=null,lt=O,ht=O=0,be=null,Nt=L.next();lt!==null&&!Nt.done;ht++,Nt=L.next()){lt.index>ht?(be=lt,lt=null):be=lt.sibling;var Qn=U(B,lt,Nt.value,G);if(Qn===null){lt===null&&(lt=be);break}i&&lt&&Qn.alternate===null&&s(B,lt),O=g(Qn,O,ht),At===null?nt=Qn:At.sibling=Qn,At=Qn,lt=be}if(Nt.done)return a(B,lt),Bt&&hs(B,ht),nt;if(lt===null){for(;!Nt.done;ht++,Nt=L.next())Nt=F(B,Nt.value,G),Nt!==null&&(O=g(Nt,O,ht),At===null?nt=Nt:At.sibling=Nt,At=Nt);return Bt&&hs(B,ht),nt}for(lt=u(lt);!Nt.done;ht++,Nt=L.next())Nt=D(lt,B,ht,Nt.value,G),Nt!==null&&(i&&Nt.alternate!==null&&lt.delete(Nt.key===null?ht:Nt.key),O=g(Nt,O,ht),At===null?nt=Nt:At.sibling=Nt,At=Nt);return i&&lt.forEach(function(aS){return s(B,aS)}),Bt&&hs(B,ht),nt}function Ht(B,O,L,G){if(typeof L=="object"&&L!==null&&L.type===S&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case v:t:{for(var nt=L.key;O!==null;){if(O.key===nt){if(nt=L.type,nt===S){if(O.tag===7){a(B,O.sibling),G=h(O,L.props.children),G.return=B,B=G;break t}}else if(O.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===J&&bp(nt)===O.type){a(B,O.sibling),G=h(O,L.props),zl(G,L),G.return=B,B=G;break t}a(B,O);break}else s(B,O);O=O.sibling}L.type===S?(G=us(L.props.children,B.mode,G,L.key),G.return=B,B=G):(G=ro(L.type,L.key,L.props,null,B.mode,G),zl(G,L),G.return=B,B=G)}return b(B);case E:t:{for(nt=L.key;O!==null;){if(O.key===nt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(B,O.sibling),G=h(O,L.children||[]),G.return=B,B=G;break t}else{a(B,O);break}else s(B,O);O=O.sibling}G=kc(L,B.mode,G),G.return=B,B=G}return b(B);case J:return nt=L._init,L=nt(L._payload),Ht(B,O,L,G)}if(q(L))return ft(B,O,L,G);if(Et(L)){if(nt=Et(L),typeof nt!="function")throw Error(n(150));return L=nt.call(L),at(B,O,L,G)}if(typeof L.then=="function")return Ht(B,O,So(L),G);if(L.$$typeof===k)return Ht(B,O,uo(B,L),G);xo(B,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(B,O.sibling),G=h(O,L),G.return=B,B=G):(a(B,O),G=zc(L,B.mode,G),G.return=B,B=G),b(B)):a(B,O)}return function(B,O,L,G){try{Dl=0;var nt=Ht(B,O,L,G);return mr=null,nt}catch(lt){if(lt===Ol||lt===ho)throw lt;var At=Ze(29,lt,null,B.mode);return At.lanes=G,At.return=B,At}finally{}}}var yr=vp(!0),wp=vp(!1),fi=P(null),Ui=null;function Cn(i){var s=i.alternate;W(de,de.current&1),W(fi,i),Ui===null&&(s===null||fr.current!==null||s.memoizedState!==null)&&(Ui=i)}function Ap(i){if(i.tag===22){if(W(de,de.current),W(fi,i),Ui===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ui=i)}}else Bn()}function Bn(){W(de,de.current),W(fi,fi.current)}function Wi(i){Z(fi),Ui===i&&(Ui=null),Z(de)}var de=P(0);function To(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lf(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function mh(i,s,a,u){s=i.memoizedState,a=a(u,s),a=a==null?s:m({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var yh={enqueueSetState:function(i,s,a){i=i._reactInternals;var u=ei(),h=On(u);h.payload=s,a!=null&&(h.callback=a),s=Mn(i,h,u),s!==null&&(ii(s,i,u),Nl(s,i,u))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var u=ei(),h=On(u);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Mn(i,h,u),s!==null&&(ii(s,i,u),Nl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=ei(),u=On(a);u.tag=2,s!=null&&(u.callback=s),s=Mn(i,u,a),s!==null&&(ii(s,i,a),Nl(s,i,a))}};function Ep(i,s,a,u,h,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!bl(a,u)||!bl(h,g):!0}function Sp(i,s,a,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==i&&yh.enqueueReplaceState(s,s.state,null)}function bs(i,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(i=i.defaultProps){a===s&&(a=m({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Oo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function xp(i){Oo(i)}function Tp(i){console.error(i)}function Op(i){Oo(i)}function Mo(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Mp(i,s,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bh(i,s,a){return a=On(a),a.tag=3,a.payload={element:null},a.callback=function(){Mo(i,s)},a}function Np(i){return i=On(i),i.tag=3,i}function Cp(i,s,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;i.payload=function(){return h(g)},i.callback=function(){Mp(s,a,u)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Mp(s,a,u),typeof h!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function aE(i,s,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Sl(s,a,h,!0),a=fi.current,a!==null){switch(a.tag){case 13:return Ui===null?Fh():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Yc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),Qh(i,u,h)),!1;case 22:return a.flags|=65536,u===Yc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),Qh(i,u,h)),!1}throw Error(n(435,a.tag))}return Qh(i,u,h),Fh(),!1}if(Bt)return s=fi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Gc&&(i=Error(n(422),{cause:u}),El(oi(i,a)))):(u!==Gc&&(s=Error(n(423),{cause:u}),El(oi(s,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=oi(u,a),h=bh(i.stateNode,u,h),Xc(i,h),$t!==4&&($t=2)),!1;var g=Error(n(520),{cause:u});if(g=oi(g,a),Il===null?Il=[g]:Il.push(g),$t!==4&&($t=2),s===null)return!0;u=oi(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=bh(a.stateNode,u,i),Xc(a,i),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zn===null||!zn.has(g))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Np(h),Cp(h,i,a,u),Xc(a,h),!1}a=a.return}while(a!==null);return!1}var Bp=Error(n(461)),me=!1;function Ae(i,s,a,u){s.child=i===null?wp(s,null,a,u):yr(s,i.child,a,u)}function Rp(i,s,a,u,h){a=a.render;var g=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ps(s),u=eh(i,s,a,b,g,h),w=ih(),i!==null&&!me?(nh(i,s,h),$i(i,s,h)):(Bt&&w&&Pc(s),s.flags|=1,Ae(i,s,u,h),s.child)}function Lp(i,s,a,u,h){if(i===null){var g=a.type;return typeof g=="function"&&!Dc(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,_p(i,s,g,u,h)):(i=ro(a.type,null,u,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Oh(i,h)){var b=g.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(b,u)&&i.ref===s.ref)return $i(i,s,h)}return s.flags|=1,i=ji(g,u),i.ref=s.ref,i.return=s,s.child=i}function _p(i,s,a,u,h){if(i!==null){var g=i.memoizedProps;if(bl(g,u)&&i.ref===s.ref)if(me=!1,s.pendingProps=u=g,Oh(i,h))(i.flags&131072)!==0&&(me=!0);else return s.lanes=i.lanes,$i(i,s,h)}return vh(i,s,a,u,h)}function Up(i,s,a){var u=s.pendingProps,h=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,i!==null){for(h=s.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Dp(i,s,u,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&co(s,g!==null?g.cachePool:null),g!==null?_g(s,g):Wc(),Ap(s);else return s.lanes=s.childLanes=536870912,Dp(i,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(co(s,g.cachePool),_g(s,g),Bn(),s.memoizedState=null):(i!==null&&co(s,null),Wc(),Bn());return Ae(i,s,h,a),s.child}function Dp(i,s,a,u){var h=jc();return h=h===null?null:{parent:fe._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},i!==null&&co(s,null),Wc(),Ap(s),i!==null&&Sl(i,s,u,!0),null}function No(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function vh(i,s,a,u,h){return ps(s),a=eh(i,s,a,u,void 0,h),u=ih(),i!==null&&!me?(nh(i,s,h),$i(i,s,h)):(Bt&&u&&Pc(s),s.flags|=1,Ae(i,s,a,h),s.child)}function zp(i,s,a,u,h,g){return ps(s),s.updateQueue=null,a=Dg(s,u,a,h),Ug(i),u=ih(),i!==null&&!me?(nh(i,s,g),$i(i,s,g)):(Bt&&u&&Pc(s),s.flags|=1,Ae(i,s,a,g),s.child)}function kp(i,s,a,u,h){if(ps(s),s.stateNode===null){var g=ar,b=a.contextType;typeof b=="object"&&b!==null&&(g=Ce(b)),g=new a(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=yh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Kc(s),b=a.contextType,g.context=typeof b=="object"&&b!==null?Ce(b):ar,g.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(mh(s,a,b,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&yh.enqueueReplaceState(g,g.state,null),Bl(s,u,g,h),Cl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,x=bs(a,w);g.props=x;var _=g.context,z=a.contextType;b=ar,typeof z=="object"&&z!==null&&(b=Ce(z));var F=a.getDerivedStateFromProps;z=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||_!==b)&&Sp(s,g,u,b),Tn=!1;var U=s.memoizedState;g.state=U,Bl(s,u,g,h),Cl(),_=s.memoizedState,w||U!==_||Tn?(typeof F=="function"&&(mh(s,a,F,u),_=s.memoizedState),(x=Tn||Ep(s,a,x,u,U,_,b))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=_),g.props=u,g.state=_,g.context=b,u=x):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Jc(i,s),b=s.memoizedProps,z=bs(a,b),g.props=z,F=s.pendingProps,U=g.context,_=a.contextType,x=ar,typeof _=="object"&&_!==null&&(x=Ce(_)),w=a.getDerivedStateFromProps,(_=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==F||U!==x)&&Sp(s,g,u,x),Tn=!1,U=s.memoizedState,g.state=U,Bl(s,u,g,h),Cl();var D=s.memoizedState;b!==F||U!==D||Tn||i!==null&&i.dependencies!==null&&oo(i.dependencies)?(typeof w=="function"&&(mh(s,a,w,u),D=s.memoizedState),(z=Tn||Ep(s,a,z,u,U,D,x)||i!==null&&i.dependencies!==null&&oo(i.dependencies))?(_||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,D,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,D,x)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&U===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&U===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=D),g.props=u,g.state=D,g.context=x,u=z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&U===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&U===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,No(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=yr(s,i.child,null,h),s.child=yr(s,null,a,h)):Ae(i,s,a,h),s.memoizedState=g.state,i=s.child):i=$i(i,s,h),i}function Pp(i,s,a,u){return Al(),s.flags|=256,Ae(i,s,a,u),s.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(i){return{baseLanes:i,cachePool:Tg()}}function Eh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=di),i}function Hp(i,s,a){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(de.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Bt){if(h?Cn(s):Bn(),Bt){var w=Wt,x;if(x=w){t:{for(x=w,w=_i;x.nodeType!==8;){if(!w){w=null;break t}if(x=Ei(x.nextSibling),x===null){w=null;break t}}w=x}w!==null?(s.memoizedState={dehydrated:w,treeContext:cs!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},x=Ze(18,null,null,0),x.stateNode=w,x.return=s,s.child=x,Re=s,Wt=null,x=!0):x=!1}x||ds(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return lf(w)?s.lanes=32:s.lanes=536870912,null;Wi(s)}return w=u.children,u=u.fallback,h?(Bn(),h=s.mode,w=Co({mode:"hidden",children:w},h),u=us(u,h,a,null),w.return=s,u.return=s,w.sibling=u,s.child=w,h=s.child,h.memoizedState=Ah(a),h.childLanes=Eh(i,b,a),s.memoizedState=wh,u):(Cn(s),Sh(s,w))}if(x=i.memoizedState,x!==null&&(w=x.dehydrated,w!==null)){if(g)s.flags&256?(Cn(s),s.flags&=-257,s=xh(i,s,a)):s.memoizedState!==null?(Bn(),s.child=i.child,s.flags|=128,s=null):(Bn(),h=u.fallback,w=s.mode,u=Co({mode:"visible",children:u.children},w),h=us(h,w,a,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,yr(s,i.child,null,a),u=s.child,u.memoizedState=Ah(a),u.childLanes=Eh(i,b,a),s.memoizedState=wh,s=h);else if(Cn(s),lf(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var _=b.dgst;b=_,u=Error(n(419)),u.stack="",u.digest=b,El({value:u,source:null,stack:null}),s=xh(i,s,a)}else if(me||Sl(i,s,a,!1),b=(a&i.childLanes)!==0,me||b){if(b=Ft,b!==null&&(u=a&-a,u=(u&42)!==0?1:lc(u),u=(u&(b.suspendedLanes|a))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,lr(i,u),ii(b,i,u),Bp;w.data==="$?"||Fh(),s=xh(i,s,a)}else w.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=x.treeContext,Wt=Ei(w.nextSibling),Re=s,Bt=!0,fs=null,_i=!1,i!==null&&(ci[hi++]=Yi,ci[hi++]=Ki,ci[hi++]=cs,Yi=i.id,Ki=i.overflow,cs=s),s=Sh(s,u.children),s.flags|=4096);return s}return h?(Bn(),h=u.fallback,w=s.mode,x=i.child,_=x.sibling,u=ji(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,_!==null?h=ji(_,h):(h=us(h,w,a,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,w=i.child.memoizedState,w===null?w=Ah(a):(x=w.cachePool,x!==null?(_=fe._currentValue,x=x.parent!==_?{parent:_,pool:_}:x):x=Tg(),w={baseLanes:w.baseLanes|a,cachePool:x}),h.memoizedState=w,h.childLanes=Eh(i,b,a),s.memoizedState=wh,u):(Cn(s),a=i.child,i=a.sibling,a=ji(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=a,s.memoizedState=null,a)}function Sh(i,s){return s=Co({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Co(i,s){return i=Ze(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function xh(i,s,a){return yr(s,i.child,null,a),i=Sh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Gp(i,s,a){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Fc(i.return,s,a)}function Th(i,s,a,u,h){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=h)}function Vp(i,s,a){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(Ae(i,s,u.children,a),u=de.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gp(i,a,s);else if(i.tag===19)Gp(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(W(de,u),h){case"forwards":for(a=s.child,h=null;a!==null;)i=a.alternate,i!==null&&To(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Th(s,!1,h,a,g);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&To(i)===null){s.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}Th(s,!0,a,null,g);break;case"together":Th(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $i(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Dn|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Sl(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,a=ji(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=ji(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Oh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&oo(i)))}function oE(i,s,a){switch(s.tag){case 3:zt(s,s.stateNode.containerInfo),xn(s,fe,i.memoizedState.cache),Al();break;case 27:case 5:Bi(s);break;case 4:zt(s,s.stateNode.containerInfo);break;case 10:xn(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Cn(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Hp(i,s,a):(Cn(s),i=$i(i,s,a),i!==null?i.sibling:null);Cn(s);break;case 19:var h=(i.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Sl(i,s,a,!1),u=(a&s.childLanes)!==0),h){if(u)return Vp(i,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(de,de.current),u)break;return null;case 22:case 23:return s.lanes=0,Up(i,s,a);case 24:xn(s,fe,i.memoizedState.cache)}return $i(i,s,a)}function Fp(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)me=!0;else{if(!Oh(i,a)&&(s.flags&128)===0)return me=!1,oE(i,s,a);me=(i.flags&131072)!==0}else me=!1,Bt&&(s.flags&1048576)!==0&&bg(s,ao,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Dc(u)?(i=bs(u,i),s.tag=1,s=kp(null,s,u,i,a)):(s.tag=0,s=vh(null,s,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===Y){s.tag=11,s=Rp(null,s,u,i,a);break t}else if(h===$){s.tag=14,s=Lp(null,s,u,i,a);break t}}throw s=Xt(u)||u,Error(n(306,s,""))}}return s;case 0:return vh(i,s,s.type,s.pendingProps,a);case 1:return u=s.type,h=bs(u,s.pendingProps),kp(i,s,u,h,a);case 3:t:{if(zt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,Jc(i,s),Bl(s,u,null,a);var b=s.memoizedState;if(u=b.cache,xn(s,fe,u),u!==g.cache&&Ic(s,[fe],a,!0),Cl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Pp(i,s,u,a);break t}else if(u!==h){h=oi(Error(n(424)),s),El(h),s=Pp(i,s,u,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=Ei(i.firstChild),Re=s,Bt=!0,fs=null,_i=!0,a=wp(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Al(),u===h){s=$i(i,s,a);break t}Ae(i,s,u,a)}s=s.child}return s;case 26:return No(i,s),i===null?(a=jm(s.type,null,s.pendingProps,null))?s.memoizedState=a:Bt||(a=s.type,i=s.pendingProps,u=Io(ct.current).createElement(a),u[Ne]=s,u[He]=i,Se(u,a,i),pe(u),s.stateNode=u):s.memoizedState=jm(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Bi(s),i===null&&Bt&&(u=s.stateNode=Im(s.type,s.pendingProps,ct.current),Re=s,_i=!0,h=Wt,Hn(s.type)?(af=h,Wt=Ei(u.firstChild)):Wt=h),Ae(i,s,s.pendingProps.children,a),No(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Bt&&((h=u=Wt)&&(u=zE(u,s.type,s.pendingProps,_i),u!==null?(s.stateNode=u,Re=s,Wt=Ei(u.firstChild),_i=!1,h=!0):h=!1),h||ds(s)),Bi(s),h=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,nf(h,g)?u=null:b!==null&&nf(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=eh(i,s,tE,null,null,a),Wl._currentValue=h),No(i,s),Ae(i,s,u,a),s.child;case 6:return i===null&&Bt&&((i=a=Wt)&&(a=kE(a,s.pendingProps,_i),a!==null?(s.stateNode=a,Re=s,Wt=null,i=!0):i=!1),i||ds(s)),null;case 13:return Hp(i,s,a);case 4:return zt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=yr(s,null,u,a):Ae(i,s,u,a),s.child;case 11:return Rp(i,s,s.type,s.pendingProps,a);case 7:return Ae(i,s,s.pendingProps,a),s.child;case 8:return Ae(i,s,s.pendingProps.children,a),s.child;case 12:return Ae(i,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,xn(s,s.type,u.value),Ae(i,s,u.children,a),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,ps(s),h=Ce(h),u=u(h),s.flags|=1,Ae(i,s,u,a),s.child;case 14:return Lp(i,s,s.type,s.pendingProps,a);case 15:return _p(i,s,s.type,s.pendingProps,a);case 19:return Vp(i,s,a);case 31:return u=s.pendingProps,a=s.mode,u={mode:u.mode,children:u.children},i===null?(a=Co(u,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ji(i.child,u),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Up(i,s,a);case 24:return ps(s),u=Ce(fe),i===null?(h=jc(),h===null&&(h=Ft,g=Qc(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=a),h=g),s.memoizedState={parent:u,cache:h},Kc(s),xn(s,fe,h)):((i.lanes&a)!==0&&(Jc(i,s),Bl(s,null,null,a),Cl()),h=i.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),xn(s,fe,u)):(u=g.cache,xn(s,fe,u),u!==h.cache&&Ic(s,[fe],a,!0))),Ae(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function tn(i){i.flags|=4}function Ip(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zm(s)){if(s=fi.current,s!==null&&((Mt&4194048)===Mt?Ui!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||s!==Ui))throw Ml=Yc,Og;i.flags|=8192}}function Bo(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?A0():536870912,i.lanes|=s,Ar|=s)}function kl(i,s){if(!Bt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Yt(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(s)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,s}function uE(i,s,a){var u=s.pendingProps;switch(Hc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return Yt(s),null;case 3:return a=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Xi(fe),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(wl(s)?tn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ag())),Yt(s),null;case 26:return a=s.memoizedState,i===null?(tn(s),a!==null?(Yt(s),Ip(s,a)):(Yt(s),s.flags&=-16777217)):a?a!==i.memoizedState?(tn(s),Yt(s),Ip(s,a)):(Yt(s),s.flags&=-16777217):(i.memoizedProps!==u&&tn(s),Yt(s),s.flags&=-16777217),null;case 27:ns(s),a=ct.current;var h=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&tn(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return Yt(s),null}i=st.current,wl(s)?vg(s):(i=Im(h,u,a),s.stateNode=i,tn(s))}return Yt(s),null;case 5:if(ns(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&tn(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return Yt(s),null}if(i=st.current,wl(s))vg(s);else{switch(h=Io(ct.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[Ne]=s,i[He]=u;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=i;t:switch(Se(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&tn(s)}}return Yt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&tn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=ct.current,wl(s)){if(i=s.stateNode,a=s.memoizedProps,u=null,h=Re,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Ne]=s,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||zm(i.nodeValue,a)),i||ds(s)}else i=Io(i).createTextNode(u),i[Ne]=s,s.stateNode=i}return Yt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=wl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(n(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Ne]=s}else Al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Yt(s),h=!1}else h=Ag(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Wi(s),s):(Wi(s),null)}if(Wi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),Bo(s,s.updateQueue),Yt(s),null;case 4:return Me(),i===null&&Zh(s.stateNode.containerInfo),Yt(s),null;case 10:return Xi(s.type),Yt(s),null;case 19:if(Z(de),h=s.memoizedState,h===null)return Yt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)kl(h,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=To(i),g!==null){for(s.flags|=128,kl(h,!1),i=g.updateQueue,s.updateQueue=i,Bo(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)yg(a,i),a=a.sibling;return W(de,de.current&1|2),s.child}i=i.sibling}h.tail!==null&&Li()>_o&&(s.flags|=128,u=!0,kl(h,!1),s.lanes=4194304)}else{if(!u)if(i=To(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Bo(s,i),kl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Bt)return Yt(s),null}else 2*Li()-h.renderingStartTime>_o&&a!==536870912&&(s.flags|=128,u=!0,kl(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(i=h.last,i!==null?i.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Li(),s.sibling=null,i=de.current,W(de,u?i&1|2:i&1),s):(Yt(s),null);case 22:case 23:return Wi(s),$c(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),a=s.updateQueue,a!==null&&Bo(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),i!==null&&Z(ms),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Xi(fe),Yt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function cE(i,s){switch(Hc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Xi(fe),Me(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ns(s),null;case 13:if(Wi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Al()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(de),null;case 4:return Me(),null;case 10:return Xi(s.type),null;case 22:case 23:return Wi(s),$c(),i!==null&&Z(ms),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Xi(fe),null;case 25:return null;default:return null}}function Qp(i,s){switch(Hc(s),s.tag){case 3:Xi(fe),Me();break;case 26:case 27:case 5:ns(s);break;case 4:Me();break;case 13:Wi(s);break;case 19:Z(de);break;case 10:Xi(s.type);break;case 22:case 23:Wi(s),$c(),i!==null&&Z(ms);break;case 24:Xi(fe)}}function Pl(i,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var g=a.create,b=a.inst;u=g(),b.destroy=u}a=a.next}while(a!==h)}}catch(w){Vt(s,s.return,w)}}function Rn(i,s,a){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=s;var x=a,_=w;try{_()}catch(z){Vt(h,x,z)}}}u=u.next}while(u!==g)}}catch(z){Vt(s,s.return,z)}}function qp(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Lg(s,a)}catch(u){Vt(i,i.return,u)}}}function jp(i,s,a){a.props=bs(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Vt(i,s,u)}}function Hl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(h){Vt(i,s,h)}}function Di(i,s){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){Vt(i,s,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Vt(i,s,h)}else a.current=null}function Yp(i){var s=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){Vt(i,i.return,h)}}function Mh(i,s,a){try{var u=i.stateNode;RE(u,i.type,a,s),u[He]=s}catch(h){Vt(i,i.return,h)}}function Kp(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hn(i.type)||i.tag===4}function Nh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Kp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hn(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ch(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Fo));else if(u!==4&&(u===27&&Hn(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Ch(i,s,a),i=i.sibling;i!==null;)Ch(i,s,a),i=i.sibling}function Ro(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(u!==4&&(u===27&&Hn(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Ro(i,s,a),i=i.sibling;i!==null;)Ro(i,s,a),i=i.sibling}function Jp(i){var s=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Se(s,u,a),s[Ne]=i,s[He]=a}catch(g){Vt(i,i.return,g)}}var en=!1,re=!1,Bh=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,ye=null;function hE(i,s){if(i=i.containerInfo,tf=Jo,i=ag(i),Nc(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var b=0,w=-1,x=-1,_=0,z=0,F=i,U=null;e:for(;;){for(var D;F!==a||h!==0&&F.nodeType!==3||(w=b+h),F!==g||u!==0&&F.nodeType!==3||(x=b+u),F.nodeType===3&&(b+=F.nodeValue.length),(D=F.firstChild)!==null;)U=F,F=D;for(;;){if(F===i)break e;if(U===a&&++_===h&&(w=b),U===g&&++z===u&&(x=b),(D=F.nextSibling)!==null)break;F=U,U=F.parentNode}F=D}a=w===-1||x===-1?null:{start:w,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(ef={focusedElem:i,selectionRange:a},Jo=!1,ye=s;ye!==null;)if(s=ye,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,ye=i;else for(;ye!==null;){switch(s=ye,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=s,h=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var ft=bs(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(ft,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(at){Vt(a,a.return,at)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)rf(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,ye=i;break}ye=s.return}}function Zp(i,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(i,a),u&4&&Pl(5,a);break;case 1:if(Ln(i,a),u&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(b){Vt(a,a.return,b)}else{var h=bs(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(h,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Vt(a,a.return,b)}}u&64&&qp(a),u&512&&Hl(a,a.return);break;case 3:if(Ln(i,a),u&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Lg(i,s)}catch(b){Vt(a,a.return,b)}}break;case 27:s===null&&u&4&&Jp(a);case 26:case 5:Ln(i,a),s===null&&u&4&&Yp(a),u&512&&Hl(a,a.return);break;case 12:Ln(i,a);break;case 13:Ln(i,a),u&4&&tm(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=wE.bind(null,a),PE(i,a))));break;case 22:if(u=a.memoizedState!==null||en,!u){s=s!==null&&s.memoizedState!==null||re,h=en;var g=re;en=u,(re=s)&&!g?_n(i,a,(a.subtreeFlags&8772)!==0):Ln(i,a),en=h,re=g}break;case 30:break;default:Ln(i,a)}}function Wp(i){var s=i.alternate;s!==null&&(i.alternate=null,Wp(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&uc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jt=null,Fe=!1;function nn(i,s,a){for(a=a.child;a!==null;)$p(i,s,a),a=a.sibling}function $p(i,s,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ll,a)}catch{}switch(a.tag){case 26:re||Di(a,s),nn(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||Di(a,s);var u=jt,h=Fe;Hn(a.type)&&(jt=a.stateNode,Fe=!1),nn(i,s,a),Kl(a.stateNode),jt=u,Fe=h;break;case 5:re||Di(a,s);case 6:if(u=jt,h=Fe,jt=null,nn(i,s,a),jt=u,Fe=h,jt!==null)if(Fe)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(g){Vt(a,s,g)}else try{jt.removeChild(a.stateNode)}catch(g){Vt(a,s,g)}break;case 18:jt!==null&&(Fe?(i=jt,Vm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),ia(i)):Vm(jt,a.stateNode));break;case 4:u=jt,h=Fe,jt=a.stateNode.containerInfo,Fe=!0,nn(i,s,a),jt=u,Fe=h;break;case 0:case 11:case 14:case 15:re||Rn(2,a,s),re||Rn(4,a,s),nn(i,s,a);break;case 1:re||(Di(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&jp(a,s,u)),nn(i,s,a);break;case 21:nn(i,s,a);break;case 22:re=(u=re)||a.memoizedState!==null,nn(i,s,a),re=u;break;default:nn(i,s,a)}}function tm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ia(i)}catch(a){Vt(s,s.return,a)}}function fE(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Xp),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Xp),s;default:throw Error(n(435,i.tag))}}function Rh(i,s){var a=fE(i);s.forEach(function(u){var h=AE.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function We(i,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],g=i,b=s,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Hn(w.type)){jt=w.stateNode,Fe=!1;break t}break;case 5:jt=w.stateNode,Fe=!1;break t;case 3:case 4:jt=w.stateNode.containerInfo,Fe=!0;break t}w=w.return}if(jt===null)throw Error(n(160));$p(g,b,h),jt=null,Fe=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)em(s,i),s=s.sibling}var Ai=null;function em(i,s){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:We(s,i),$e(i),u&4&&(Rn(3,i,i.return),Pl(3,i),Rn(5,i,i.return));break;case 1:We(s,i),$e(i),u&512&&(re||a===null||Di(a,a.return)),u&64&&en&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=Ai;if(We(s,i),$e(i),u&512&&(re||a===null||Di(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ul]||g[Ne]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Se(g,u,a),g[Ne]=i,pe(g),u=g;break t;case"link":var b=Jm("link","href",h).get(u+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break e}}g=h.createElement(u),Se(g,u,a),h.head.appendChild(g);break;case"meta":if(b=Jm("meta","content",h).get(u+(a.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break e}}g=h.createElement(u),Se(g,u,a),h.head.appendChild(g);break;default:throw Error(n(468,u))}g[Ne]=i,pe(g),u=g}i.stateNode=u}else Xm(h,i.type,i.stateNode);else i.stateNode=Km(h,u,i.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Xm(h,i.type,i.stateNode):Km(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Mh(i,i.memoizedProps,a.memoizedProps)}break;case 27:We(s,i),$e(i),u&512&&(re||a===null||Di(a,a.return)),a!==null&&u&4&&Mh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(We(s,i),$e(i),u&512&&(re||a===null||Di(a,a.return)),i.flags&32){h=i.stateNode;try{$s(h,"")}catch(D){Vt(i,i.return,D)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,Mh(i,h,a!==null?a.memoizedProps:h)),u&1024&&(Bh=!0);break;case 6:if(We(s,i),$e(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(D){Vt(i,i.return,D)}}break;case 3:if(jo=null,h=Ai,Ai=Qo(s.containerInfo),We(s,i),Ai=h,$e(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ia(s.containerInfo)}catch(D){Vt(i,i.return,D)}Bh&&(Bh=!1,im(i));break;case 4:u=Ai,Ai=Qo(i.stateNode.containerInfo),We(s,i),$e(i),Ai=u;break;case 12:We(s,i),$e(i);break;case 13:We(s,i),$e(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kh=Li()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Rh(i,u)));break;case 22:h=i.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,_=en,z=re;if(en=_||h,re=z||x,We(s,i),re=z,en=_,$e(i),u&8192)t:for(s=i.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||x||en||re||vs(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(g=x.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=x.stateNode;var F=x.memoizedProps.style,U=F!=null&&F.hasOwnProperty("display")?F.display:null;w.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(D){Vt(x,x.return,D)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(D){Vt(x,x.return,D)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Rh(i,a))));break;case 19:We(s,i),$e(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Rh(i,u)));break;case 30:break;case 21:break;default:We(s,i),$e(i)}}function $e(i){var s=i.flags;if(s&2){try{for(var a,u=i.return;u!==null;){if(Kp(u)){a=u;break}u=u.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var h=a.stateNode,g=Nh(i);Ro(i,g,h);break;case 5:var b=a.stateNode;a.flags&32&&($s(b,""),a.flags&=-33);var w=Nh(i);Ro(i,w,b);break;case 3:case 4:var x=a.stateNode.containerInfo,_=Nh(i);Ch(i,_,x);break;default:throw Error(n(161))}}catch(z){Vt(i,i.return,z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function im(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;im(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ln(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zp(i,s.alternate,s),s=s.sibling}function vs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Rn(4,s,s.return),vs(s);break;case 1:Di(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&jp(s,s.return,a),vs(s);break;case 27:Kl(s.stateNode);case 26:case 5:Di(s,s.return),vs(s);break;case 22:s.memoizedState===null&&vs(s);break;case 30:vs(s);break;default:vs(s)}i=i.sibling}}function _n(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:_n(h,g,a),Pl(4,g);break;case 1:if(_n(h,g,a),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(_){Vt(u,u.return,_)}if(u=g,h=u.updateQueue,h!==null){var w=u.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Rg(x[h],w)}catch(_){Vt(u,u.return,_)}}a&&b&64&&qp(g),Hl(g,g.return);break;case 27:Jp(g);case 26:case 5:_n(h,g,a),a&&u===null&&b&4&&Yp(g),Hl(g,g.return);break;case 12:_n(h,g,a);break;case 13:_n(h,g,a),a&&b&4&&tm(h,g);break;case 22:g.memoizedState===null&&_n(h,g,a),Hl(g,g.return);break;case 30:break;default:_n(h,g,a)}s=s.sibling}}function Lh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&xl(a))}function _h(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&xl(i))}function zi(i,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nm(i,s,a,u),s=s.sibling}function nm(i,s,a,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:zi(i,s,a,u),h&2048&&Pl(9,s);break;case 1:zi(i,s,a,u);break;case 3:zi(i,s,a,u),h&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&xl(i)));break;case 12:if(h&2048){zi(i,s,a,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Vt(s,s.return,x)}}else zi(i,s,a,u);break;case 13:zi(i,s,a,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?zi(i,s,a,u):Gl(i,s):g._visibility&2?zi(i,s,a,u):(g._visibility|=2,br(i,s,a,u,(s.subtreeFlags&10256)!==0)),h&2048&&Lh(b,s);break;case 24:zi(i,s,a,u),h&2048&&_h(s.alternate,s);break;default:zi(i,s,a,u)}}function br(i,s,a,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,w=a,x=u,_=b.flags;switch(b.tag){case 0:case 11:case 15:br(g,b,w,x,h),Pl(8,b);break;case 23:break;case 22:var z=b.stateNode;b.memoizedState!==null?z._visibility&2?br(g,b,w,x,h):Gl(g,b):(z._visibility|=2,br(g,b,w,x,h)),h&&_&2048&&Lh(b.alternate,b);break;case 24:br(g,b,w,x,h),h&&_&2048&&_h(b.alternate,b);break;default:br(g,b,w,x,h)}s=s.sibling}}function Gl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,u=s,h=u.flags;switch(u.tag){case 22:Gl(a,u),h&2048&&Lh(u.alternate,u);break;case 24:Gl(a,u),h&2048&&_h(u.alternate,u);break;default:Gl(a,u)}s=s.sibling}}var Vl=8192;function vr(i){if(i.subtreeFlags&Vl)for(i=i.child;i!==null;)sm(i),i=i.sibling}function sm(i){switch(i.tag){case 26:vr(i),i.flags&Vl&&i.memoizedState!==null&&ZE(Ai,i.memoizedState,i.memoizedProps);break;case 5:vr(i);break;case 3:case 4:var s=Ai;Ai=Qo(i.stateNode.containerInfo),vr(i),Ai=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,vr(i),Vl=s):vr(i));break;default:vr(i)}}function rm(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Fl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];ye=u,am(u,i)}rm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lm(i),i=i.sibling}function lm(i){switch(i.tag){case 0:case 11:case 15:Fl(i),i.flags&2048&&Rn(9,i,i.return);break;case 3:Fl(i);break;case 12:Fl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Lo(i)):Fl(i);break;default:Fl(i)}}function Lo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];ye=u,am(u,i)}rm(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Rn(8,s,s.return),Lo(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Lo(s));break;default:Lo(s)}i=i.sibling}}function am(i,s){for(;ye!==null;){var a=ye;switch(a.tag){case 0:case 11:case 15:Rn(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,ye=u;else t:for(a=i;ye!==null;){u=ye;var h=u.sibling,g=u.return;if(Wp(u),u===a){ye=null;break t}if(h!==null){h.return=g,ye=h;break t}ye=g}}}var dE={getCacheForType:function(i){var s=Ce(fe),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},gE=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ft=null,St=null,Mt=0,Ut=0,ti=null,Un=!1,wr=!1,Uh=!1,sn=0,$t=0,Dn=0,ws=0,Dh=0,di=0,Ar=0,Il=null,Ie=null,zh=!1,kh=0,_o=1/0,Uo=null,zn=null,Ee=0,kn=null,Er=null,Sr=0,Ph=0,Hh=null,om=null,Ql=0,Gh=null;function ei(){if((_t&2)!==0&&Mt!==0)return Mt&-Mt;if(C.T!==null){var i=cr;return i!==0?i:Yh()}return x0()}function um(){di===0&&(di=(Mt&536870912)===0||Bt?w0():536870912);var i=fi.current;return i!==null&&(i.flags|=32),di}function ii(i,s,a){(i===Ft&&(Ut===2||Ut===9)||i.cancelPendingCommit!==null)&&(xr(i,0),Pn(i,Mt,di,!1)),ol(i,a),((_t&2)===0||i!==Ft)&&(i===Ft&&((_t&2)===0&&(ws|=a),$t===4&&Pn(i,Mt,di,!1)),ki(i))}function cm(i,s,a){if((_t&6)!==0)throw Error(n(327));var u=!a&&(s&124)===0&&(s&i.expiredLanes)===0||al(i,s),h=u?yE(i,s):Ih(i,s,!0),g=u;do{if(h===0){wr&&!u&&Pn(i,s,0,!1);break}else{if(a=i.current.alternate,g&&!pE(a)){h=Ih(i,s,!1),g=!1;continue}if(h===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var w=i;h=Il;var x=w.current.memoizedState.isDehydrated;if(x&&(xr(w,b).flags|=256),b=Ih(w,b,!1),b!==2){if(Uh&&!x){w.errorRecoveryDisabledLanes|=g,ws|=g,h=4;break t}g=Ie,Ie=h,g!==null&&(Ie===null?Ie=g:Ie.push.apply(Ie,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){xr(i,0),Pn(i,s,0,!0);break}t:{switch(u=i,g=h,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Pn(u,s,di,!Un);break t;case 2:Ie=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(h=kh+300-Li(),10<h)){if(Pn(u,s,di,!Un),Qa(u,0,!0)!==0)break t;u.timeoutHandle=Hm(hm.bind(null,u,a,Ie,Uo,zh,s,di,ws,Ar,Un,g,2,-0,0),h);break t}hm(u,a,Ie,Uo,zh,s,di,ws,Ar,Un,g,0,-0,0)}}break}while(!0);ki(i)}function hm(i,s,a,u,h,g,b,w,x,_,z,F,U,D){if(i.timeoutHandle=-1,F=s.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:XE},sm(s),F=WE(),F!==null)){i.cancelPendingCommit=F(bm.bind(null,i,s,g,a,u,h,b,w,x,z,1,U,D)),Pn(i,g,b,!_);return}bm(i,s,g,a,u,h,b,w,x)}function pE(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],g=h.getSnapshot;h=h.value;try{if(!Xe(g(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pn(i,s,a,u){s&=~Dh,s&=~ws,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var h=s;0<h;){var g=31-Je(h),b=1<<g;u[g]=-1,h&=~b}a!==0&&E0(i,a,s)}function Do(){return(_t&6)===0?(ql(0),!1):!0}function Vh(){if(St!==null){if(Ut===0)var i=St.return;else i=St,Ji=gs=null,sh(i),mr=null,Dl=0,i=St;for(;i!==null;)Qp(i.alternate,i),i=i.return;St=null}}function xr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,_E(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Vh(),Ft=i,St=a=ji(i.current,null),Mt=s,Ut=0,ti=null,Un=!1,wr=al(i,s),Uh=!1,Ar=di=Dh=ws=Dn=$t=0,Ie=Il=null,zh=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var h=31-Je(u),g=1<<h;s|=i[h],u&=~g}return sn=s,io(),a}function fm(i,s){bt=null,C.H=Eo,s===Ol||s===ho?(s=Cg(),Ut=3):s===Og?(s=Cg(),Ut=4):Ut=s===Bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ti=s,St===null&&($t=1,Mo(i,oi(s,i.current)))}function dm(){var i=C.H;return C.H=Eo,i===null?Eo:i}function gm(){var i=C.A;return C.A=dE,i}function Fh(){$t=4,Un||(Mt&4194048)!==Mt&&fi.current!==null||(wr=!0),(Dn&134217727)===0&&(ws&134217727)===0||Ft===null||Pn(Ft,Mt,di,!1)}function Ih(i,s,a){var u=_t;_t|=2;var h=dm(),g=gm();(Ft!==i||Mt!==s)&&(Uo=null,xr(i,s)),s=!1;var b=$t;t:do try{if(Ut!==0&&St!==null){var w=St,x=ti;switch(Ut){case 8:Vh(),b=6;break t;case 3:case 2:case 9:case 6:fi.current===null&&(s=!0);var _=Ut;if(Ut=0,ti=null,Tr(i,w,x,_),a&&wr){b=0;break t}break;default:_=Ut,Ut=0,ti=null,Tr(i,w,x,_)}}mE(),b=$t;break}catch(z){fm(i,z)}while(!0);return s&&i.shellSuspendCounter++,Ji=gs=null,_t=u,C.H=h,C.A=g,St===null&&(Ft=null,Mt=0,io()),b}function mE(){for(;St!==null;)pm(St)}function yE(i,s){var a=_t;_t|=2;var u=dm(),h=gm();Ft!==i||Mt!==s?(Uo=null,_o=Li()+500,xr(i,s)):wr=al(i,s);t:do try{if(Ut!==0&&St!==null){s=St;var g=ti;e:switch(Ut){case 1:Ut=0,ti=null,Tr(i,s,g,1);break;case 2:case 9:if(Mg(g)){Ut=0,ti=null,mm(s);break}s=function(){Ut!==2&&Ut!==9||Ft!==i||(Ut=7),ki(i)},g.then(s,s);break t;case 3:Ut=7;break t;case 4:Ut=5;break t;case 7:Mg(g)?(Ut=0,ti=null,mm(s)):(Ut=0,ti=null,Tr(i,s,g,7));break;case 5:var b=null;switch(St.tag){case 26:b=St.memoizedState;case 5:case 27:var w=St;if(!b||Zm(b)){Ut=0,ti=null;var x=w.sibling;if(x!==null)St=x;else{var _=w.return;_!==null?(St=_,zo(_)):St=null}break e}}Ut=0,ti=null,Tr(i,s,g,5);break;case 6:Ut=0,ti=null,Tr(i,s,g,6);break;case 8:Vh(),$t=6;break t;default:throw Error(n(462))}}bE();break}catch(z){fm(i,z)}while(!0);return Ji=gs=null,C.H=u,C.A=h,_t=a,St!==null?0:(Ft=null,Mt=0,io(),$t)}function bE(){for(;St!==null&&!Ha();)pm(St)}function pm(i){var s=Fp(i.alternate,i,sn);i.memoizedProps=i.pendingProps,s===null?zo(i):St=s}function mm(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=zp(a,s,s.pendingProps,s.type,void 0,Mt);break;case 11:s=zp(a,s,s.pendingProps,s.type.render,s.ref,Mt);break;case 5:sh(s);default:Qp(a,s),s=St=yg(s,sn),s=Fp(a,s,sn)}i.memoizedProps=i.pendingProps,s===null?zo(i):St=s}function Tr(i,s,a,u){Ji=gs=null,sh(s),mr=null,Dl=0;var h=s.return;try{if(aE(i,h,s,a,Mt)){$t=1,Mo(i,oi(a,i.current)),St=null;return}}catch(g){if(h!==null)throw St=h,g;$t=1,Mo(i,oi(a,i.current)),St=null;return}s.flags&32768?(Bt||u===1?i=!0:wr||(Mt&536870912)!==0?i=!1:(Un=i=!0,(u===2||u===9||u===3||u===6)&&(u=fi.current,u!==null&&u.tag===13&&(u.flags|=16384))),ym(s,i)):zo(s)}function zo(i){var s=i;do{if((s.flags&32768)!==0){ym(s,Un);return}i=s.return;var a=uE(s.alternate,s,sn);if(a!==null){St=a;return}if(s=s.sibling,s!==null){St=s;return}St=s=i}while(s!==null);$t===0&&($t=5)}function ym(i,s){do{var a=cE(i.alternate,i);if(a!==null){a.flags&=32767,St=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){St=i;return}St=i=a}while(i!==null);$t=6,St=null}function bm(i,s,a,u,h,g,b,w,x){i.cancelPendingCommit=null;do ko();while(Ee!==0);if((_t&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=_c,X1(i,a,g,b,w,x),i===Ft&&(St=Ft=null,Mt=0),Er=s,kn=i,Sr=a,Ph=g,Hh=h,om=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,EE(Va,function(){return Sm(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=C.T,C.T=null,h=V.p,V.p=2,b=_t,_t|=4;try{hE(i,s,a)}finally{_t=b,V.p=h,C.T=u}}Ee=1,vm(),wm(),Am()}}function vm(){if(Ee===1){Ee=0;var i=kn,s=Er,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var u=V.p;V.p=2;var h=_t;_t|=4;try{em(s,i);var g=ef,b=ag(i.containerInfo),w=g.focusedElem,x=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&lg(w.ownerDocument.documentElement,w)){if(x!==null&&Nc(w)){var _=x.start,z=x.end;if(z===void 0&&(z=_),"selectionStart"in w)w.selectionStart=_,w.selectionEnd=Math.min(z,w.value.length);else{var F=w.ownerDocument||document,U=F&&F.defaultView||window;if(U.getSelection){var D=U.getSelection(),ft=w.textContent.length,at=Math.min(x.start,ft),Ht=x.end===void 0?at:Math.min(x.end,ft);!D.extend&&at>Ht&&(b=Ht,Ht=at,at=b);var B=rg(w,at),O=rg(w,Ht);if(B&&O&&(D.rangeCount!==1||D.anchorNode!==B.node||D.anchorOffset!==B.offset||D.focusNode!==O.node||D.focusOffset!==O.offset)){var L=F.createRange();L.setStart(B.node,B.offset),D.removeAllRanges(),at>Ht?(D.addRange(L),D.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),D.addRange(L))}}}}for(F=[],D=w;D=D.parentNode;)D.nodeType===1&&F.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<F.length;w++){var G=F[w];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Jo=!!tf,ef=tf=null}finally{_t=h,V.p=u,C.T=a}}i.current=s,Ee=2}}function wm(){if(Ee===2){Ee=0;var i=kn,s=Er,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var u=V.p;V.p=2;var h=_t;_t|=4;try{Zp(i,s.alternate,s)}finally{_t=h,V.p=u,C.T=a}}Ee=3}}function Am(){if(Ee===4||Ee===3){Ee=0,Ga();var i=kn,s=Er,a=Sr,u=om;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ee=5:(Ee=0,Er=kn=null,Em(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(zn=null),ac(a),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ll,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=C.T,h=V.p,V.p=2,C.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{C.T=s,V.p=h}}(Sr&3)!==0&&ko(),ki(i),h=i.pendingLanes,(a&4194090)!==0&&(h&42)!==0?i===Gh?Ql++:(Ql=0,Gh=i):Ql=0,ql(0)}}function Em(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,xl(s)))}function ko(i){return vm(),wm(),Am(),Sm()}function Sm(){if(Ee!==5)return!1;var i=kn,s=Ph;Ph=0;var a=ac(Sr),u=C.T,h=V.p;try{V.p=32>a?32:a,C.T=null,a=Hh,Hh=null;var g=kn,b=Sr;if(Ee=0,Er=kn=null,Sr=0,(_t&6)!==0)throw Error(n(331));var w=_t;if(_t|=4,lm(g.current),nm(g,g.current,b,a),_t=w,ql(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ll,g)}catch{}return!0}finally{V.p=h,C.T=u,Em(i,s)}}function xm(i,s,a){s=oi(a,s),s=bh(i.stateNode,s,2),i=Mn(i,s,2),i!==null&&(ol(i,2),ki(i))}function Vt(i,s,a){if(i.tag===3)xm(i,i,a);else for(;s!==null;){if(s.tag===3){xm(s,i,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zn===null||!zn.has(u))){i=oi(a,i),a=Np(2),u=Mn(s,a,2),u!==null&&(Cp(a,u,s,i),ol(u,2),ki(u));break}}s=s.return}}function Qh(i,s,a){var u=i.pingCache;if(u===null){u=i.pingCache=new gE;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(a)||(Uh=!0,h.add(a),i=vE.bind(null,i,s,a),s.then(i,i))}function vE(i,s,a){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ft===i&&(Mt&a)===a&&($t===4||$t===3&&(Mt&62914560)===Mt&&300>Li()-kh?(_t&2)===0&&xr(i,0):Dh|=a,Ar===Mt&&(Ar=0)),ki(i)}function Tm(i,s){s===0&&(s=A0()),i=lr(i,s),i!==null&&(ol(i,s),ki(i))}function wE(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Tm(i,a)}function AE(i,s){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),Tm(i,a)}function EE(i,s){return Ri(i,s)}var Po=null,Or=null,qh=!1,Ho=!1,jh=!1,As=0;function ki(i){i!==Or&&i.next===null&&(Or===null?Po=Or=i:Or=Or.next=i),Ho=!0,qh||(qh=!0,xE())}function ql(i,s){if(!jh&&Ho){jh=!0;do for(var a=!1,u=Po;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Je(42|i)+1)-1,g&=h&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Cm(u,g))}else g=Mt,g=Qa(u,u===Ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||al(u,g)||(a=!0,Cm(u,g));u=u.next}while(a);jh=!1}}function SE(){Om()}function Om(){Ho=qh=!1;var i=0;As!==0&&(LE()&&(i=As),As=0);for(var s=Li(),a=null,u=Po;u!==null;){var h=u.next,g=Mm(u,s);g===0?(u.next=null,a===null?Po=h:a.next=h,h===null&&(Or=a)):(a=u,(i!==0||(g&3)!==0)&&(Ho=!0)),u=h}ql(i)}function Mm(i,s){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Je(g),w=1<<b,x=h[b];x===-1?((w&a)===0||(w&u)!==0)&&(h[b]=J1(w,s)):x<=s&&(i.expiredLanes|=w),g&=~w}if(s=Ft,a=Mt,a=Qa(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===s&&(Ut===2||Ut===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||al(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(u!==null&&wn(u),ac(a)){case 2:case 8:a=b0;break;case 32:a=Va;break;case 268435456:a=v0;break;default:a=Va}return u=Nm.bind(null,i),a=Ri(a,u),i.callbackPriority=s,i.callbackNode=a,s}return u!==null&&u!==null&&wn(u),i.callbackPriority=2,i.callbackNode=null,2}function Nm(i,s){if(Ee!==0&&Ee!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ko()&&i.callbackNode!==a)return null;var u=Mt;return u=Qa(i,i===Ft?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(cm(i,u,s),Mm(i,Li()),i.callbackNode!=null&&i.callbackNode===a?Nm.bind(null,i):null)}function Cm(i,s){if(ko())return null;cm(i,s,!0)}function xE(){UE(function(){(_t&6)!==0?Ri(y0,SE):Om()})}function Yh(){return As===0&&(As=w0()),As}function Bm(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ja(""+i)}function Rm(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function TE(i,s,a,u,h){if(s==="submit"&&a&&a.stateNode===h){var g=Bm((h[He]||null).action),b=u.submitter;b&&(s=(s=b[He]||null)?Bm(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var w=new $a("action","action",null,u,h);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(As!==0){var x=b?Rm(h,b):new FormData(h);dh(a,{pending:!0,data:x,method:h.method,action:g},null,x)}}else typeof g=="function"&&(w.preventDefault(),x=b?Rm(h,b):new FormData(h),dh(a,{pending:!0,data:x,method:h.method,action:g},g,x))},currentTarget:h}]})}}for(var Kh=0;Kh<Lc.length;Kh++){var Jh=Lc[Kh],OE=Jh.toLowerCase(),ME=Jh[0].toUpperCase()+Jh.slice(1);wi(OE,"on"+ME)}wi(cg,"onAnimationEnd"),wi(hg,"onAnimationIteration"),wi(fg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(QA,"onTransitionRun"),wi(qA,"onTransitionStart"),wi(jA,"onTransitionCancel"),wi(dg,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Lm(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],x=w.instance,_=w.currentTarget;if(w=w.listener,x!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=_;try{g(h)}catch(z){Oo(z)}h.currentTarget=null,g=x}else for(b=0;b<u.length;b++){if(w=u[b],x=w.instance,_=w.currentTarget,w=w.listener,x!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=_;try{g(h)}catch(z){Oo(z)}h.currentTarget=null,g=x}}}}function xt(i,s){var a=s[oc];a===void 0&&(a=s[oc]=new Set);var u=i+"__bubble";a.has(u)||(_m(s,i,2,!1),a.add(u))}function Xh(i,s,a){var u=0;s&&(u|=4),_m(a,i,u,s)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Zh(i){if(!i[Go]){i[Go]=!0,O0.forEach(function(a){a!=="selectionchange"&&(NE.has(a)||Xh(a,!1,i),Xh(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Go]||(s[Go]=!0,Xh("selectionchange",!1,s))}}function _m(i,s,a,u){switch(ny(s)){case 2:var h=eS;break;case 8:h=iS;break;default:h=ff}a=h.bind(null,s,a,i),h=void 0,!vc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(s,a,{capture:!0,passive:h}):i.addEventListener(s,a,!0):h!==void 0?i.addEventListener(s,a,{passive:h}):i.addEventListener(s,a,!1)}function Wh(i,s,a,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=u.return;b!==null;){var x=b.tag;if((x===3||x===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=Ys(w),b===null)return;if(x=b.tag,x===5||x===6||x===26||x===27){u=g=b;continue t}w=w.parentNode}}u=u.return}G0(function(){var _=g,z=yc(a),F=[];t:{var U=gg.get(i);if(U!==void 0){var D=$a,ft=i;switch(i){case"keypress":if(Za(a)===0)break t;case"keydown":case"keyup":D=EA;break;case"focusin":ft="focus",D=Sc;break;case"focusout":ft="blur",D=Sc;break;case"beforeblur":case"afterblur":D=Sc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=cA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=TA;break;case cg:case hg:case fg:D=dA;break;case dg:D=MA;break;case"scroll":case"scrollend":D=oA;break;case"wheel":D=CA;break;case"copy":case"cut":case"paste":D=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=q0;break;case"toggle":case"beforetoggle":D=RA}var at=(s&4)!==0,Ht=!at&&(i==="scroll"||i==="scrollend"),B=at?U!==null?U+"Capture":null:U;at=[];for(var O=_,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||B===null||(G=hl(O,B),G!=null&&at.push(Yl(O,G,L))),Ht)break;O=O.return}0<at.length&&(U=new D(U,ft,null,a,z),F.push({event:U,listeners:at}))}}if((s&7)===0){t:{if(U=i==="mouseover"||i==="pointerover",D=i==="mouseout"||i==="pointerout",U&&a!==mc&&(ft=a.relatedTarget||a.fromElement)&&(Ys(ft)||ft[js]))break t;if((D||U)&&(U=z.window===z?z:(U=z.ownerDocument)?U.defaultView||U.parentWindow:window,D?(ft=a.relatedTarget||a.toElement,D=_,ft=ft?Ys(ft):null,ft!==null&&(Ht=o(ft),at=ft.tag,ft!==Ht||at!==5&&at!==27&&at!==6)&&(ft=null)):(D=null,ft=_),D!==ft)){if(at=I0,G="onMouseLeave",B="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(at=q0,G="onPointerLeave",B="onPointerEnter",O="pointer"),Ht=D==null?U:cl(D),L=ft==null?U:cl(ft),U=new at(G,O+"leave",D,a,z),U.target=Ht,U.relatedTarget=L,G=null,Ys(z)===_&&(at=new at(B,O+"enter",ft,a,z),at.target=L,at.relatedTarget=Ht,G=at),Ht=G,D&&ft)e:{for(at=D,B=ft,O=0,L=at;L;L=Mr(L))O++;for(L=0,G=B;G;G=Mr(G))L++;for(;0<O-L;)at=Mr(at),O--;for(;0<L-O;)B=Mr(B),L--;for(;O--;){if(at===B||B!==null&&at===B.alternate)break e;at=Mr(at),B=Mr(B)}at=null}else at=null;D!==null&&Um(F,U,D,at,!1),ft!==null&&Ht!==null&&Um(F,Ht,ft,at,!0)}}t:{if(U=_?cl(_):window,D=U.nodeName&&U.nodeName.toLowerCase(),D==="select"||D==="input"&&U.type==="file")var nt=$0;else if(Z0(U))if(tg)nt=VA;else{nt=HA;var At=PA}else D=U.nodeName,!D||D.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?_&&pc(_.elementType)&&(nt=$0):nt=GA;if(nt&&(nt=nt(i,_))){W0(F,nt,a,z);break t}At&&At(i,U,_),i==="focusout"&&_&&U.type==="number"&&_.memoizedProps.value!=null&&gc(U,"number",U.value)}switch(At=_?cl(_):window,i){case"focusin":(Z0(At)||At.contentEditable==="true")&&(nr=At,Cc=_,vl=null);break;case"focusout":vl=Cc=nr=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,og(F,a,z);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":og(F,a,z)}var lt;if(Tc)t:{switch(i){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else ir?J0(i,a)&&(ht="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(j0&&a.locale!=="ko"&&(ir||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&ir&&(lt=V0()):(Sn=z,wc="value"in Sn?Sn.value:Sn.textContent,ir=!0)),At=Vo(_,ht),0<At.length&&(ht=new Q0(ht,i,null,a,z),F.push({event:ht,listeners:At}),lt?ht.data=lt:(lt=X0(a),lt!==null&&(ht.data=lt)))),(lt=_A?UA(i,a):DA(i,a))&&(ht=Vo(_,"onBeforeInput"),0<ht.length&&(At=new Q0("onBeforeInput","beforeinput",null,a,z),F.push({event:At,listeners:ht}),At.data=lt)),TE(F,i,_,a,z)}Lm(F,s)})}function Yl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Vo(i,s){for(var a=s+"Capture",u=[];i!==null;){var h=i,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=hl(i,a),h!=null&&u.unshift(Yl(i,h,g)),h=hl(i,s),h!=null&&u.push(Yl(i,h,g))),i.tag===3)return u;i=i.return}return[]}function Mr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Um(i,s,a,u,h){for(var g=s._reactName,b=[];a!==null&&a!==u;){var w=a,x=w.alternate,_=w.stateNode;if(w=w.tag,x!==null&&x===u)break;w!==5&&w!==26&&w!==27||_===null||(x=_,h?(_=hl(a,g),_!=null&&b.unshift(Yl(a,_,x))):h||(_=hl(a,g),_!=null&&b.push(Yl(a,_,x)))),a=a.return}b.length!==0&&i.push({event:s,listeners:b})}var CE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Dm(i){return(typeof i=="string"?i:""+i).replace(CE,`
`).replace(BE,"")}function zm(i,s){return s=Dm(s),Dm(i)===s}function Fo(){}function Pt(i,s,a,u,h,g){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||$s(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&$s(i,""+u);break;case"className":ja(i,"class",u);break;case"tabIndex":ja(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ja(i,a,u);break;case"style":P0(i,u,g);break;case"data":if(s!=="object"){ja(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Ja(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&Pt(i,s,"name",h.name,h,null),Pt(i,s,"formEncType",h.formEncType,h,null),Pt(i,s,"formMethod",h.formMethod,h,null),Pt(i,s,"formTarget",h.formTarget,h,null)):(Pt(i,s,"encType",h.encType,h,null),Pt(i,s,"method",h.method,h,null),Pt(i,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Ja(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Fo);break;case"onScroll":u!=null&&xt("scroll",i);break;case"onScrollEnd":u!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Ja(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":xt("beforetoggle",i),xt("toggle",i),qa(i,"popover",u);break;case"xlinkActuate":Qi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lA.get(a)||a,qa(i,a,u))}}function $h(i,s,a,u,h,g){switch(a){case"style":P0(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"children":typeof u=="string"?$s(i,u):(typeof u=="number"||typeof u=="bigint")&&$s(i,""+u);break;case"onScroll":u!=null&&xt("scroll",i);break;case"onScrollEnd":u!=null&&xt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!M0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),g=i[He]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,u,h);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):qa(i,a,u)}}}function Se(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var u=!1,h=!1,g;for(g in a)if(a.hasOwnProperty(g)){var b=a[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Pt(i,s,g,b,a,null)}}h&&Pt(i,s,"srcSet",a.srcSet,a,null),u&&Pt(i,s,"src",a.src,a,null);return;case"input":xt("invalid",i);var w=g=b=h=null,x=null,_=null;for(u in a)if(a.hasOwnProperty(u)){var z=a[u];if(z!=null)switch(u){case"name":h=z;break;case"type":b=z;break;case"checked":x=z;break;case"defaultChecked":_=z;break;case"value":g=z;break;case"defaultValue":w=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(137,s));break;default:Pt(i,s,u,z,a,null)}}U0(i,g,w,x,_,b,h,!1),Ya(i);return;case"select":xt("invalid",i),u=b=g=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Pt(i,s,h,w,a,null)}s=g,a=b,i.multiple=!!u,s!=null?Ws(i,!!u,s,!1):a!=null&&Ws(i,!!u,a,!0);return;case"textarea":xt("invalid",i),g=h=u=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":h=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:Pt(i,s,b,w,a,null)}z0(i,u,h,g),Ya(i);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(u=a[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Pt(i,s,x,u,a,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(u=0;u<jl.length;u++)xt(jl[u],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in a)if(a.hasOwnProperty(_)&&(u=a[_],u!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Pt(i,s,_,u,a,null)}return;default:if(pc(s)){for(z in a)a.hasOwnProperty(z)&&(u=a[z],u!==void 0&&$h(i,s,z,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&Pt(i,s,w,u,a,null))}function RE(i,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,w=null,x=null,_=null,z=null;for(D in a){var F=a[D];if(a.hasOwnProperty(D)&&F!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":x=F;default:u.hasOwnProperty(D)||Pt(i,s,D,null,u,F)}}for(var U in u){var D=u[U];if(F=a[U],u.hasOwnProperty(U)&&(D!=null||F!=null))switch(U){case"type":g=D;break;case"name":h=D;break;case"checked":_=D;break;case"defaultChecked":z=D;break;case"value":b=D;break;case"defaultValue":w=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(137,s));break;default:D!==F&&Pt(i,s,U,D,u,F)}}dc(i,b,w,x,_,z,g,h);return;case"select":D=b=w=U=null;for(g in a)if(x=a[g],a.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":D=x;default:u.hasOwnProperty(g)||Pt(i,s,g,null,u,x)}for(h in u)if(g=u[h],x=a[h],u.hasOwnProperty(h)&&(g!=null||x!=null))switch(h){case"value":U=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==x&&Pt(i,s,h,g,u,x)}s=w,a=b,u=D,U!=null?Ws(i,!!a,U,!1):!!u!=!!a&&(s!=null?Ws(i,!!a,s,!0):Ws(i,!!a,a?[]:"",!1));return;case"textarea":D=U=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Pt(i,s,w,null,u,h)}for(b in u)if(h=u[b],g=a[b],u.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":U=h;break;case"defaultValue":D=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==g&&Pt(i,s,b,h,u,g)}D0(i,U,D);return;case"option":for(var ft in a)if(U=a[ft],a.hasOwnProperty(ft)&&U!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":i.selected=!1;break;default:Pt(i,s,ft,null,u,U)}for(x in u)if(U=u[x],D=a[x],u.hasOwnProperty(x)&&U!==D&&(U!=null||D!=null))switch(x){case"selected":i.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Pt(i,s,x,U,u,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in a)U=a[at],a.hasOwnProperty(at)&&U!=null&&!u.hasOwnProperty(at)&&Pt(i,s,at,null,u,U);for(_ in u)if(U=u[_],D=a[_],u.hasOwnProperty(_)&&U!==D&&(U!=null||D!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(137,s));break;default:Pt(i,s,_,U,u,D)}return;default:if(pc(s)){for(var Ht in a)U=a[Ht],a.hasOwnProperty(Ht)&&U!==void 0&&!u.hasOwnProperty(Ht)&&$h(i,s,Ht,void 0,u,U);for(z in u)U=u[z],D=a[z],!u.hasOwnProperty(z)||U===D||U===void 0&&D===void 0||$h(i,s,z,U,u,D);return}}for(var B in a)U=a[B],a.hasOwnProperty(B)&&U!=null&&!u.hasOwnProperty(B)&&Pt(i,s,B,null,u,U);for(F in u)U=u[F],D=a[F],!u.hasOwnProperty(F)||U===D||U==null&&D==null||Pt(i,s,F,U,u,D)}var tf=null,ef=null;function Io(i){return i.nodeType===9?i:i.ownerDocument}function km(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function nf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sf=null;function LE(){var i=window.event;return i&&i.type==="popstate"?i===sf?!1:(sf=i,!0):(sf=null,!1)}var Hm=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(i){return Gm.resolve(null).then(i).catch(DE)}:Hm;function DE(i){setTimeout(function(){throw i})}function Hn(i){return i==="head"}function Vm(i,s){var a=s,u=0,h=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var b=i.ownerDocument;if(a&1&&Kl(b.documentElement),a&2&&Kl(b.body),a&4)for(a=b.head,Kl(a),b=a.firstChild;b;){var w=b.nextSibling,x=b.nodeName;b[ul]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(h===0){i.removeChild(g),ia(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);ia(s)}function rf(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rf(a),uc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function zE(i,s,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ul])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ei(i.nextSibling),i===null)break}return null}function kE(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ei(i.nextSibling),i===null))return null;return i}function lf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function PE(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var af=null;function Fm(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function Im(i,s,a){switch(s=Io(a),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Kl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);uc(i)}var gi=new Map,Qm=new Set;function Qo(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rn=V.d;V.d={f:HE,r:GE,D:VE,C:FE,L:IE,m:QE,X:jE,S:qE,M:YE};function HE(){var i=rn.f(),s=Do();return i||s}function GE(i){var s=Ks(i);s!==null&&s.tag===5&&s.type==="form"?cp(s):rn.r(i)}var Nr=typeof document>"u"?null:document;function qm(i,s,a){var u=Nr;if(u&&typeof s=="string"&&s){var h=ai(s);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Qm.has(h)||(Qm.add(h),i={rel:i,crossOrigin:a,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Se(s,"link",i),pe(s),u.head.appendChild(s)))}}function VE(i){rn.D(i),qm("dns-prefetch",i,null)}function FE(i,s){rn.C(i,s),qm("preconnect",i,s)}function IE(i,s,a){rn.L(i,s,a);var u=Nr;if(u&&i&&s){var h='link[rel="preload"][as="'+ai(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ai(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ai(a.imageSizes)+'"]')):h+='[href="'+ai(i)+'"]';var g=h;switch(s){case"style":g=Cr(i);break;case"script":g=Br(i)}gi.has(g)||(i=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),gi.set(g,i),u.querySelector(h)!==null||s==="style"&&u.querySelector(Jl(g))||s==="script"&&u.querySelector(Xl(g))||(s=u.createElement("link"),Se(s,"link",i),pe(s),u.head.appendChild(s)))}}function QE(i,s){rn.m(i,s);var a=Nr;if(a&&i){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+ai(u)+'"][href="'+ai(i)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Br(i)}if(!gi.has(g)&&(i=m({rel:"modulepreload",href:i},s),gi.set(g,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(g)))return}u=a.createElement("link"),Se(u,"link",i),pe(u),a.head.appendChild(u)}}}function qE(i,s,a){rn.S(i,s,a);var u=Nr;if(u&&i){var h=Js(u).hoistableStyles,g=Cr(i);s=s||"default";var b=h.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Jl(g)))w.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},a),(a=gi.get(g))&&of(i,a);var x=b=u.createElement("link");pe(x),Se(x,"link",i),x._p=new Promise(function(_,z){x.onload=_,x.onerror=z}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,qo(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(g,b)}}}function jE(i,s){rn.X(i,s);var a=Nr;if(a&&i){var u=Js(a).hoistableScripts,h=Br(i),g=u.get(h);g||(g=a.querySelector(Xl(h)),g||(i=m({src:i,async:!0},s),(s=gi.get(h))&&uf(i,s),g=a.createElement("script"),pe(g),Se(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function YE(i,s){rn.M(i,s);var a=Nr;if(a&&i){var u=Js(a).hoistableScripts,h=Br(i),g=u.get(h);g||(g=a.querySelector(Xl(h)),g||(i=m({src:i,async:!0,type:"module"},s),(s=gi.get(h))&&uf(i,s),g=a.createElement("script"),pe(g),Se(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function jm(i,s,a,u){var h=(h=ct.current)?Qo(h):null;if(!h)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Cr(a.href),a=Js(h).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Cr(a.href);var g=Js(h).hoistableStyles,b=g.get(i);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=h.querySelector(Jl(i)))&&!g._p&&(b.instance=g,b.state.loading=5),gi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(i,a),g||KE(h,i,a,b.state))),s&&u===null)throw Error(n(528,""));return b}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Br(a),a=Js(h).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Cr(i){return'href="'+ai(i)+'"'}function Jl(i){return'link[rel="stylesheet"]['+i+"]"}function Ym(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function KE(i,s,a,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Se(s,"link",a),pe(s),i.head.appendChild(s))}function Br(i){return'[src="'+ai(i)+'"]'}function Xl(i){return"script[async]"+i}function Km(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+ai(a.href)+'"]');if(u)return s.instance=u,pe(u),u;var h=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Se(u,"style",h),qo(u,a.precedence,i),s.instance=u;case"stylesheet":h=Cr(a.href);var g=i.querySelector(Jl(h));if(g)return s.state.loading|=4,s.instance=g,pe(g),g;u=Ym(a),(h=gi.get(h))&&of(u,h),g=(i.ownerDocument||i).createElement("link"),pe(g);var b=g;return b._p=new Promise(function(w,x){b.onload=w,b.onerror=x}),Se(g,"link",u),s.state.loading|=4,qo(g,a.precedence,i),s.instance=g;case"script":return g=Br(a.src),(h=i.querySelector(Xl(g)))?(s.instance=h,pe(h),h):(u=a,(h=gi.get(g))&&(u=m({},a),uf(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),pe(h),Se(h,"link",u),i.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,qo(u,a.precedence,i));return s.instance}function qo(i,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)g=w;else if(g!==h)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function of(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function uf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jo=null;function Jm(i,s,a){if(jo===null){var u=new Map,h=jo=new Map;h.set(a,u)}else h=jo,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var g=a[h];if(!(g[ul]||g[Ne]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function Xm(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function JE(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zm(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Zl=null;function XE(){}function ZE(i,s,a){if(Zl===null)throw Error(n(475));var u=Zl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Cr(a.href),g=i.querySelector(Jl(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Yo.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pe(g);return}g=i.ownerDocument||i,a=Ym(a),(h=gi.get(h))&&of(a,h),g=g.createElement("link"),pe(g);var b=g;b._p=new Promise(function(w,x){b.onload=w,b.onerror=x}),Se(g,"link",a),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Yo.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function WE(){if(Zl===null)throw Error(n(475));var i=Zl;return i.stylesheets&&i.count===0&&cf(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Yo(){if(this.count--,this.count===0){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ko=null;function cf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ko=new Map,s.forEach($E,i),Ko=null,Yo.call(i))}function $E(i,s){if(!(s.state.loading&4)){var a=Ko.get(i);if(a)var u=a.get(null);else{a=new Map,Ko.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),u=b)}u&&a.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),g=a.get(b)||u,g===u&&a.set(null,h),a.set(b,h),this.count++,u=Yo.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),s.state.loading|=4}}var Wl={$$typeof:k,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function tS(i,s,a,u,h,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.hiddenUpdates=rc(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Wm(i,s,a,u,h,g,b,w,x,_,z,F){return i=new tS(i,s,a,b,w,x,_,F),s=1,g===!0&&(s|=24),g=Ze(3,null,null,s),i.current=g,g.stateNode=i,s=Qc(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:s},Kc(g),i}function $m(i){return i?(i=ar,i):ar}function ty(i,s,a,u,h,g){h=$m(h),u.context===null?u.context=h:u.pendingContext=h,u=On(s),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Mn(i,u,s),a!==null&&(ii(a,i,s),Nl(a,i,s))}function ey(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function hf(i,s){ey(i,s),(i=i.alternate)&&ey(i,s)}function iy(i){if(i.tag===13){var s=lr(i,67108864);s!==null&&ii(s,i,67108864),hf(i,67108864)}}var Jo=!0;function eS(i,s,a,u){var h=C.T;C.T=null;var g=V.p;try{V.p=2,ff(i,s,a,u)}finally{V.p=g,C.T=h}}function iS(i,s,a,u){var h=C.T;C.T=null;var g=V.p;try{V.p=8,ff(i,s,a,u)}finally{V.p=g,C.T=h}}function ff(i,s,a,u){if(Jo){var h=df(u);if(h===null)Wh(i,s,u,Xo,a),sy(i,u);else if(sS(h,i,s,a,u))u.stopPropagation();else if(sy(i,u),s&4&&-1<nS.indexOf(i)){for(;h!==null;){var g=Ks(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ss(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var x=1<<31-Je(b);w.entanglements[1]|=x,b&=~x}ki(g),(_t&6)===0&&(_o=Li()+500,ql(0))}}break;case 13:w=lr(g,2),w!==null&&ii(w,g,2),Do(),hf(g,2)}if(g=df(u),g===null&&Wh(i,s,u,Xo,a),g===h)break;h=g}h!==null&&u.stopPropagation()}else Wh(i,s,u,null,a)}}function df(i){return i=yc(i),gf(i)}var Xo=null;function gf(i){if(Xo=null,i=Ys(i),i!==null){var s=o(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Xo=i,null}function ny(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F1()){case y0:return 2;case b0:return 8;case Va:case I1:return 32;case v0:return 268435456;default:return 32}default:return 32}}var pf=!1,Gn=null,Vn=null,Fn=null,$l=new Map,ta=new Map,In=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(i,s){switch(i){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(s.pointerId)}}function ea(i,s,a,u,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Ks(s),s!==null&&iy(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function sS(i,s,a,u,h){switch(s){case"focusin":return Gn=ea(Gn,i,s,a,u,h),!0;case"dragenter":return Vn=ea(Vn,i,s,a,u,h),!0;case"mouseover":return Fn=ea(Fn,i,s,a,u,h),!0;case"pointerover":var g=h.pointerId;return $l.set(g,ea($l.get(g)||null,i,s,a,u,h)),!0;case"gotpointercapture":return g=h.pointerId,ta.set(g,ea(ta.get(g)||null,i,s,a,u,h)),!0}return!1}function ry(i){var s=Ys(i.target);if(s!==null){var a=o(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Z1(i.priority,function(){if(a.tag===13){var u=ei();u=lc(u);var h=lr(a,u);h!==null&&ii(h,a,u),hf(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zo(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=df(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);mc=u,a.target.dispatchEvent(u),mc=null}else return s=Ks(a),s!==null&&iy(s),i.blockedOn=a,!1;s.shift()}return!0}function ly(i,s,a){Zo(i)&&a.delete(s)}function rS(){pf=!1,Gn!==null&&Zo(Gn)&&(Gn=null),Vn!==null&&Zo(Vn)&&(Vn=null),Fn!==null&&Zo(Fn)&&(Fn=null),$l.forEach(ly),ta.forEach(ly)}function Wo(i,s){i.blockedOn===s&&(i.blockedOn=null,pf||(pf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rS)))}var $o=null;function ay(i){$o!==i&&($o=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$o===i&&($o=null);for(var s=0;s<i.length;s+=3){var a=i[s],u=i[s+1],h=i[s+2];if(typeof u!="function"){if(gf(u||a)===null)continue;break}var g=Ks(a);g!==null&&(i.splice(s,3),s-=3,dh(g,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function ia(i){function s(x){return Wo(x,i)}Gn!==null&&Wo(Gn,i),Vn!==null&&Wo(Vn,i),Fn!==null&&Wo(Fn,i),$l.forEach(s),ta.forEach(s);for(var a=0;a<In.length;a++){var u=In[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<In.length&&(a=In[0],a.blockedOn===null);)ry(a),a.blockedOn===null&&In.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],g=a[u+1],b=h[He]||null;if(typeof g=="function")b||ay(a);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[He]||null)w=b.formAction;else if(gf(h)!==null)continue}else w=b.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),ay(a)}}}function mf(i){this._internalRoot=i}tu.prototype.render=mf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var a=s.current,u=ei();ty(a,u,i,s,null,null)},tu.prototype.unmount=mf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ty(i.current,2,null,i,null,null),Do(),s[js]=null}};function tu(i){this._internalRoot=i}tu.prototype.unstable_scheduleHydration=function(i){if(i){var s=x0();i={blockedOn:null,target:i,priority:s};for(var a=0;a<In.length&&s!==0&&s<In[a].priority;a++);In.splice(a,0,i),a===0&&ry(i)}};var oy=t.version;if(oy!=="19.1.0")throw Error(n(527,oy,"19.1.0"));V.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var lS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{ll=eu.inject(lS),Ke=eu}catch{}}return sa.createRoot=function(i,s){if(!l(i))throw Error(n(299));var a=!1,u="",h=xp,g=Tp,b=Op,w=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=Wm(i,1,!1,null,null,a,u,h,g,b,w,null),i[js]=s.current,Zh(i),new mf(s)},sa.hydrateRoot=function(i,s,a){if(!l(i))throw Error(n(299));var u=!1,h="",g=xp,b=Tp,w=Op,x=null,_=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(_=a.formState)),s=Wm(i,1,!0,s,a??null,u,h,g,b,w,x,_),s.context=$m(null),a=s.current,u=ei(),u=lc(u),h=On(u),h.callback=null,Mn(a,h,u),a=u,s.current.lanes=a,ol(s,a),ki(s),i[js]=s.current,Zh(i),new tu(s)},sa.version="19.1.0",sa}var by;function mS(){if(by)return vf.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vf.exports=pS(),vf.exports}var yS=mS();const bS=Nv(yS),vy=r=>{let t;const e=new Set,n=(p,m)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const v=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),e.forEach(E=>E(t,v))}},l=()=>t,f={setState:n,getState:l,getInitialState:()=>d,subscribe:p=>(e.add(p),()=>e.delete(p))},d=t=r(n,l,f);return f},vS=r=>r?vy(r):vy,wS=r=>r;function AS(r,t=wS){const e=ud.useSyncExternalStore(r.subscribe,()=>t(r.getState()),()=>t(r.getInitialState()));return ud.useDebugValue(e),e}const wy=r=>{const t=vS(r),e=n=>AS(t,n);return Object.assign(e,t),e},ES=r=>r?wy(r):wy,bi=ES((r,t)=>({mode:"live",chains:{ethereum:{baseFee:0,priorityFee:0,history:[]},polygon:{baseFee:0,priorityFee:0,history:[]},arbitrum:{baseFee:0,priorityFee:0,history:[]}},usdPrice:0,transactionGasLimit:21e3,setMode:e=>r({mode:e}),updateGasData:(e,n,l)=>r(o=>({chains:{...o.chains,[e]:{...o.chains[e],baseFee:n,priorityFee:l,history:[...o.chains[e].history.slice(-60),{baseFee:n,priorityFee:l,timestamp:Date.now()}]}}})),updateUsdPrice:e=>r({usdPrice:e}),setTransactionGasLimit:e=>r({transactionGasLimit:e}),getGasData:()=>{const e=t(),n=e.transactionGasLimit,l=e.usdPrice,o={};for(const[c,{baseFee:f,priorityFee:d}]of Object.entries(e.chains)){const p=(f+d)*n;o[c]={eth:p,usd:p*l}}return o},getChains:()=>t().chains}));function SS(){const r=bi(t=>t.usdPrice);return Rt.jsxs("div",{className:"widget",children:[Rt.jsx("h2",{children:"ETH/USD Price"}),Rt.jsxs("p",{children:["$",r.toFixed(2)]})]})}function xS(){const r=bi(t=>t.chains);return Rt.jsxs("div",{className:"widget",children:[Rt.jsx("h2",{children:"Gas Prices (Base + Priority Fee)"}),Object.entries(r).map(([t,{baseFee:e,priorityFee:n}])=>Rt.jsxs("p",{children:[t.toUpperCase(),": ",e.toFixed(2)," + ",n.toFixed(2)," gwei"]},t))]})}const TS=()=>{const r=bi(l=>l.chains),t=bi(l=>l.usdPrice),e=bi(l=>l.transactionGasLimit),n=(l,o)=>((l+o)*e*1e-9*t).toFixed(2);return Rt.jsxs("div",{className:"widget",children:[Rt.jsx("h2",{children:"Transaction Cost"}),Rt.jsxs("table",{children:[Rt.jsx("thead",{children:Rt.jsxs("tr",{children:[Rt.jsx("th",{children:"Chain"}),Rt.jsx("th",{children:"Cost (USD)"})]})}),Rt.jsx("tbody",{children:Object.entries(r).map(([l,o])=>Rt.jsxs("tr",{children:[Rt.jsx("td",{children:l.charAt(0).toUpperCase()+l.slice(1)}),Rt.jsxs("td",{children:["$",n(o.baseFee,o.priorityFee)]})]},l))})]})]})};function qt(r){var t=r.width,e=r.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function _s(r,t){return r.width===t.width&&r.height===t.height}var OS=function(){function r(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return r.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(r.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),r.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){e._observers=e._observers.filter(function(l){return l!==n})}}},r.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},r.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},r.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},r.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},r}();function MS(r){return new OS(r)}var NS=function(){function r(t,e,n){var l;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=qt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(o){return o},this._allowResizeObserver=(l=n?.allowResizeObserver)!==null&&l!==void 0?l:!0,this._chooseAndInitObserver()}return r.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(r.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bitmapSize",{get:function(){return qt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),r.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=qt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},r.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},r.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(r.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),r.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},r.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},r.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},r.prototype._resizeBitmap=function(t){var e=this.bitmapSize;_s(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},r.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach(function(l){return l.call(n,t,e)})},r.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=qt(this._transformBitmapSize(t,this._canvasElementClientSize)),l=_s(this.bitmapSize,n)?null:n;e===null&&l===null||e!==null&&l!==null&&_s(e,l)||(this._suggestedBitmapSize=l,this._emitSuggestedBitmapSizeChanged(e,l))},r.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(l){return l.call(n,t,e)})},r.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}BS().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},r.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Ay(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=MS(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},r.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var n=Ay(this._canvasElement);if(n!==null){var l=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:n.devicePixelRatio,o=this._canvasElement.getClientRects(),c=o[0]!==void 0?RS(o[0],l):qt({width:this._canvasElementClientSize.width*l,height:this._canvasElementClientSize.height*l});this._suggestNewBitmapSize(c)}}},r.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var n=e.find(function(c){return c.target===t._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var l=n.devicePixelContentBoxSize[0],o=qt({width:l.inlineSize,height:l.blockSize});t._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},r}();function CS(r,t){return new NS(r,t.transform,t.options)}function Ay(r){return r.ownerDocument.defaultView}function BS(){return new Promise(function(r){var t=new ResizeObserver(function(e){r(e.every(function(n){return"devicePixelContentBoxSize"in n})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function RS(r,t){return qt({width:Math.round(r.left*t+r.width*t)-Math.round(r.left*t),height:Math.round(r.top*t+r.height*t)-Math.round(r.top*t)})}var LS=function(){function r(t,e,n){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return r.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},r.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(r.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),r}();function zs(r,t){var e=r.canvasElementClientSize;if(e.width===0||e.height===0)return null;var n=r.bitmapSize;if(n.width===0||n.height===0)return null;var l=r.canvasElement.getContext("2d",t);return l===null?null:new LS(l,e,n)}/*!
 * @license
 * TradingView Lightweight Charts v4.1.2
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const _S={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},US={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},DS={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},zS={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},kS={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},PS={color:"#26a69a",base:0},Cv={color:"#2196f3"},Bv={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Ey,Sy;function ks(r,t){const e={0:[],1:[r.lineWidth,r.lineWidth],2:[2*r.lineWidth,2*r.lineWidth],3:[6*r.lineWidth,6*r.lineWidth],4:[r.lineWidth,4*r.lineWidth]}[t];r.setLineDash(e)}function Rv(r,t,e,n){r.beginPath();const l=r.lineWidth%2?.5:0;r.moveTo(e,t+l),r.lineTo(n,t+l),r.stroke()}function $n(r,t){if(!r)throw new Error("Assertion failed"+(t?": "+t:""))}function ke(r){if(r===void 0)throw new Error("Value is undefined");return r}function j(r){if(r===null)throw new Error("Value is null");return r}function zr(r){return j(ke(r))}(function(r){r[r.Simple=0]="Simple",r[r.WithSteps=1]="WithSteps",r[r.Curved=2]="Curved"})(Ey||(Ey={})),function(r){r[r.Solid=0]="Solid",r[r.Dotted=1]="Dotted",r[r.Dashed=2]="Dashed",r[r.LargeDashed=3]="LargeDashed",r[r.SparseDotted=4]="SparseDotted"}(Sy||(Sy={}));const xy={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function mi(r){return r<0?0:r>255?255:Math.round(r)||0}function Lv(r){return r<=0||r>0?r<0?0:r>1?1:Math.round(1e4*r)/1e4:0}const HS=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,GS=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,VS=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,FS=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function Tu(r){(r=r.toLowerCase())in xy&&(r=xy[r]);{const t=FS.exec(r)||VS.exec(r);if(t)return[mi(parseInt(t[1],10)),mi(parseInt(t[2],10)),mi(parseInt(t[3],10)),Lv(t.length<5?1:parseFloat(t[4]))]}{const t=GS.exec(r);if(t)return[mi(parseInt(t[1],16)),mi(parseInt(t[2],16)),mi(parseInt(t[3],16)),1]}{const t=HS.exec(r);if(t)return[mi(17*parseInt(t[1],16)),mi(17*parseInt(t[2],16)),mi(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${r}`)}function Pu(r){const t=Tu(r);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}class oe{constructor(){this.h=[]}l(t,e,n){const l={o:t,_:e,u:n===!0};this.h.push(l)}v(t){const e=this.h.findIndex(n=>t===n.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,n){const l=[...this.h];this.h=this.h.filter(o=>!o.u),l.forEach(o=>o.o(t,e,n))}M(){return this.h.length>0}S(){this.h=[]}}function Ni(r,...t){for(const e of t)for(const n in e)e[n]!==void 0&&(typeof e[n]!="object"||r[n]===void 0||Array.isArray(e[n])?r[n]=e[n]:Ni(r[n],e[n]));return r}function Fi(r){return typeof r=="number"&&isFinite(r)}function ba(r){return typeof r=="number"&&r%1==0}function Ba(r){return typeof r=="string"}function iu(r){return typeof r=="boolean"}function cn(r){const t=r;if(!t||typeof t!="object")return t;let e,n,l;for(n in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(n)&&(l=t[n],e[n]=l&&typeof l=="object"?cn(l):l);return e}function IS(r){return r!==null}function va(r){return r===null?void 0:r}const Pd="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Kr(r,t,e){return t===void 0&&(t=Pd),`${e=e!==void 0?`${e} `:""}${r}px ${t}`}class QS{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),n=this.H();return t.P===e&&t.D===n||(t.P=e,t.D=n,t.R=Kr(e,n),t.L=2.5/12*e,t.V=t.L,t.B=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Hd{constructor(){this.Y=[]}X(t){this.Y=t}K(t,e,n){this.Y.forEach(l=>{l.K(t,e,n)})}}class Gd{K(t,e,n){t.useMediaCoordinateSpace(l=>this.Z(l,e,n))}G(t,e,n){t.useMediaCoordinateSpace(l=>this.J(l,e,n))}J(t,e,n){}}class qS extends Gd{constructor(){super(...arguments),this.tt=null}it(t){this.tt=t}Z({context:t}){if(this.tt===null||this.tt.nt===null)return;const e=this.tt.nt,n=this.tt,l=o=>{t.beginPath();for(let c=e.to-1;c>=e.from;--c){const f=n.st[c];t.moveTo(f.et,f.rt),t.arc(f.et,f.rt,o,0,2*Math.PI)}t.fill()};n.ht>0&&(t.fillStyle=n.lt,l(n.ot+n.ht)),t.fillStyle=n._t,l(n.ot)}}function jS(){return{st:[{et:0,rt:0,ut:0,ct:0}],_t:"",lt:"",ot:0,ht:0,nt:null}}const YS={from:0,to:1};class KS{constructor(t,e){this.dt=new Hd,this.ft=[],this.vt=[],this.bt=!0,this.F=t,this.wt=e,this.dt.X(this.ft)}gt(t){const e=this.F.Mt();e.length!==this.ft.length&&(this.vt=e.map(jS),this.ft=this.vt.map(n=>{const l=new qS;return l.it(n),l}),this.dt.X(this.ft)),this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.dt}St(){const t=this.wt.W().mode===2,e=this.F.Mt(),n=this.wt.kt(),l=this.F.yt();e.forEach((o,c)=>{var f;const d=this.vt[c],p=o.Ct(n);if(t||p===null||!o.Tt())return void(d.nt=null);const m=j(o.Pt());d._t=p.Rt,d.ot=p.ot,d.ht=p.Dt,d.st[0].ct=p.ct,d.st[0].rt=o.At().Ot(p.ct,m.Vt),d.lt=(f=p.Bt)!==null&&f!==void 0?f:this.F.It(d.st[0].rt/o.At().zt()),d.st[0].ut=n,d.st[0].et=l.Et(n),d.nt=YS})}}class bn{K(t,e,n){t.useBitmapCoordinateSpace(l=>this.Z(l,e,n))}}class JS extends bn{constructor(t){super(),this.Lt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:l}){if(this.Lt===null)return;const o=this.Lt.Nt.Tt,c=this.Lt.Ft.Tt;if(!o&&!c)return;const f=Math.round(this.Lt.et*n),d=Math.round(this.Lt.rt*l);t.lineCap="butt",o&&f>=0&&(t.lineWidth=Math.floor(this.Lt.Nt.ht*n),t.strokeStyle=this.Lt.Nt.O,t.fillStyle=this.Lt.Nt.O,ks(t,this.Lt.Nt.Wt),function(p,m,y,v){p.beginPath();const E=p.lineWidth%2?.5:0;p.moveTo(m+E,y),p.lineTo(m+E,v),p.stroke()}(t,f,0,e.height)),c&&d>=0&&(t.lineWidth=Math.floor(this.Lt.Ft.ht*l),t.strokeStyle=this.Lt.Ft.O,t.fillStyle=this.Lt.Ft.O,ks(t,this.Lt.Ft.Wt),Rv(t,d,0,e.width))}}class XS{constructor(t){this.bt=!0,this.jt={Nt:{ht:1,Wt:0,O:"",Tt:!1},Ft:{ht:1,Wt:0,O:"",Tt:!1},et:0,rt:0},this.Ht=new JS(this.jt),this.$t=t}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht}St(){const t=this.$t.Tt(),e=j(this.$t.Ut()),n=e.qt().W().crosshair,l=this.jt;if(n.mode===2)return l.Ft.Tt=!1,void(l.Nt.Tt=!1);l.Ft.Tt=t&&this.$t.Yt(e),l.Nt.Tt=t&&this.$t.Xt(),l.Ft.ht=n.horzLine.width,l.Ft.Wt=n.horzLine.style,l.Ft.O=n.horzLine.color,l.Nt.ht=n.vertLine.width,l.Nt.Wt=n.vertLine.style,l.Nt.O=n.vertLine.color,l.et=this.$t.Kt(),l.rt=this.$t.Zt()}}function ZS(r,t,e,n,l,o){r.fillRect(t+o,e,n-2*o,o),r.fillRect(t+o,e+l-o,n-2*o,o),r.fillRect(t,e,o,l),r.fillRect(t+n-o,e,o,l)}function Hu(r,t,e,n,l,o){r.save(),r.globalCompositeOperation="copy",r.fillStyle=o,r.fillRect(t,e,n,l),r.restore()}function Ty(r,t){return r.map(e=>e===0?e:e+t)}function Sf(r,t,e,n,l,o){r.beginPath(),r.lineTo(t+n-o[1],e),o[1]!==0&&r.arcTo(t+n,e,t+n,e+o[1],o[1]),r.lineTo(t+n,e+l-o[2]),o[2]!==0&&r.arcTo(t+n,e+l,t+n-o[2],e+l,o[2]),r.lineTo(t+o[3],e+l),o[3]!==0&&r.arcTo(t,e+l,t,e+l-o[3],o[3]),r.lineTo(t,e+o[0]),o[0]!==0&&r.arcTo(t,e,t+o[0],e,o[0])}function Oy(r,t,e,n,l,o,c=0,f=[0,0,0,0],d=""){if(r.save(),!c||!d||d===o)return Sf(r,t,e,n,l,f),r.fillStyle=o,r.fill(),void r.restore();const p=c/2;o!=="transparent"&&(Sf(r,t+c,e+c,n-2*c,l-2*c,Ty(f,-c)),r.fillStyle=o,r.fill()),d!=="transparent"&&(Sf(r,t+p,e+p,n-c,l-c,Ty(f,-p)),r.lineWidth=c,r.strokeStyle=d,r.closePath(),r.stroke()),r.restore()}function _v(r,t,e,n,l,o,c){r.save(),r.globalCompositeOperation="copy";const f=r.createLinearGradient(0,0,0,l);f.addColorStop(0,o),f.addColorStop(1,c),r.fillStyle=f,r.fillRect(t,e,n,l),r.restore()}class My{constructor(t,e){this.it(t,e)}it(t,e){this.Lt=t,this.Gt=e}zt(t,e){return this.Lt.Tt?t.P+t.L+t.V:0}K(t,e,n,l){if(!this.Lt.Tt||this.Lt.Jt.length===0)return;const o=this.Lt.O,c=this.Gt.t,f=t.useBitmapCoordinateSpace(d=>{const p=d.context;p.font=e.R;const m=this.Qt(d,e,n,l),y=m.ti,v=(E,S)=>{m.ii?Oy(p,y.ni,y.si,y.ei,y.ri,E,y.hi,[y.ot,0,0,y.ot],S):Oy(p,y.li,y.si,y.ei,y.ri,E,y.hi,[0,y.ot,y.ot,0],S)};return v(c,"transparent"),this.Lt.ai&&(p.fillStyle=o,p.fillRect(y.li,y.oi,y._i-y.li,y.ui)),v("transparent",c),this.Lt.ci&&(p.fillStyle=e.A,p.fillRect(m.ii?y.di-y.hi:0,y.si,y.hi,y.fi-y.si)),m});t.useMediaCoordinateSpace(({context:d})=>{const p=f.vi;d.font=e.R,d.textAlign=f.ii?"right":"left",d.textBaseline="middle",d.fillStyle=o,d.fillText(this.Lt.Jt,p.pi,(p.si+p.fi)/2+p.mi)})}Qt(t,e,n,l){var o;const{context:c,bitmapSize:f,mediaSize:d,horizontalPixelRatio:p,verticalPixelRatio:m}=t,y=this.Lt.ai||!this.Lt.bi?e.T:0,v=this.Lt.wi?e.C:0,E=e.L+this.Gt.gi,S=e.V+this.Gt.Mi,A=e.B,M=e.I,R=this.Lt.Jt,H=e.P,k=n.xi(c,R),Y=Math.ceil(n.Si(c,R)),Q=H+E+S,K=e.C+A+M+Y+y,$=Math.max(1,Math.floor(m));let J=Math.round(Q*m);J%2!=$%2&&(J+=1);const ut=v>0?Math.max(1,Math.floor(v*p)):0,dt=Math.round(K*p),gt=Math.round(y*p),Et=(o=this.Gt.ki)!==null&&o!==void 0?o:this.Gt.yi,Dt=Math.round(Et*m)-Math.floor(.5*m),Xt=Math.floor(Dt+$/2-J/2),q=Xt+J,C=l==="right",V=C?d.width-v:v,X=C?f.width-ut:ut;let rt,T,P;return C?(rt=X-dt,T=X-gt,P=V-y-A-v):(rt=X+dt,T=X+gt,P=V+y+A),{ii:C,ti:{si:Xt,oi:Dt,fi:q,ei:dt,ri:J,ot:2*p,hi:ut,ni:rt,li:X,_i:T,ui:$,di:f.width},vi:{si:Xt/m,fi:q/m,pi:P,mi:k}}}}class Gu{constructor(t){this.Ci={yi:0,t:"#000",Mi:0,gi:0},this.Ti={Jt:"",Tt:!1,ai:!0,bi:!1,Bt:"",O:"#FFF",ci:!1,wi:!1},this.Pi={Jt:"",Tt:!1,ai:!1,bi:!0,Bt:"",O:"#FFF",ci:!0,wi:!0},this.bt=!0,this.Ri=new(t||My)(this.Ti,this.Ci),this.Di=new(t||My)(this.Pi,this.Ci)}Jt(){return this.Oi(),this.Ti.Jt}yi(){return this.Oi(),this.Ci.yi}gt(){this.bt=!0}zt(t,e=!1){return Math.max(this.Ri.zt(t,e),this.Di.zt(t,e))}Ai(){return this.Ci.ki||0}Vi(t){this.Ci.ki=t}Bi(){return this.Oi(),this.Ti.Tt||this.Pi.Tt}Ii(){return this.Oi(),this.Ti.Tt}xt(t){return this.Oi(),this.Ti.ai=this.Ti.ai&&t.W().ticksVisible,this.Pi.ai=this.Pi.ai&&t.W().ticksVisible,this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Ri}zi(){return this.Oi(),this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Di}Oi(){this.bt&&(this.Ti.ai=!0,this.Pi.ai=!1,this.Ei(this.Ti,this.Pi,this.Ci))}}class WS extends Gu{constructor(t,e,n){super(),this.$t=t,this.Li=e,this.Ni=n}Ei(t,e,n){if(t.Tt=!1,this.$t.W().mode===2)return;const l=this.$t.W().horzLine;if(!l.labelVisible)return;const o=this.Li.Pt();if(!this.$t.Tt()||this.Li.Fi()||o===null)return;const c=Pu(l.labelBackgroundColor);n.t=c.t,t.O=c.i;const f=2/12*this.Li.P();n.gi=f,n.Mi=f;const d=this.Ni(this.Li);n.yi=d.yi,t.Jt=this.Li.Wi(d.ct,o),t.Tt=!0}}const $S=/[1-9]/g;class Uv{constructor(){this.Lt=null}it(t){this.Lt=t}K(t,e){if(this.Lt===null||this.Lt.Tt===!1||this.Lt.Jt.length===0)return;const n=t.useMediaCoordinateSpace(({context:v})=>(v.font=e.R,Math.round(e.ji.Si(v,j(this.Lt).Jt,$S))));if(n<=0)return;const l=e.Hi,o=n+2*l,c=o/2,f=this.Lt.$i;let d=this.Lt.yi,p=Math.floor(d-c)+.5;p<0?(d+=Math.abs(0-p),p=Math.floor(d-c)+.5):p+o>f&&(d-=Math.abs(f-(p+o)),p=Math.floor(d-c)+.5);const m=p+o,y=Math.ceil(0+e.C+e.T+e.L+e.P+e.V);t.useBitmapCoordinateSpace(({context:v,horizontalPixelRatio:E,verticalPixelRatio:S})=>{const A=j(this.Lt);v.fillStyle=A.t;const M=Math.round(p*E),R=Math.round(0*S),H=Math.round(m*E),k=Math.round(y*S),Y=Math.round(2*E);if(v.beginPath(),v.moveTo(M,R),v.lineTo(M,k-Y),v.arcTo(M,k,M+Y,k,Y),v.lineTo(H-Y,k),v.arcTo(H,k,H,k-Y,Y),v.lineTo(H,R),v.fill(),A.ai){const Q=Math.round(A.yi*E),K=R,$=Math.round((K+e.T)*S);v.fillStyle=A.O;const J=Math.max(1,Math.floor(E)),ut=Math.floor(.5*E);v.fillRect(Q-ut,K,J,$-K)}}),t.useMediaCoordinateSpace(({context:v})=>{const E=j(this.Lt),S=0+e.C+e.T+e.L+e.P/2;v.font=e.R,v.textAlign="left",v.textBaseline="middle",v.fillStyle=E.O;const A=e.ji.xi(v,"Apr0");v.translate(p+l,S+A),v.fillText(E.Jt,0,0)})}}class t2{constructor(t,e,n){this.bt=!0,this.Ht=new Uv,this.jt={Tt:!1,t:"#4c525e",O:"white",Jt:"",$i:0,yi:NaN,ai:!0},this.wt=t,this.Ui=e,this.Ni=n}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht.it(this.jt),this.Ht}St(){const t=this.jt;if(t.Tt=!1,this.wt.W().mode===2)return;const e=this.wt.W().vertLine;if(!e.labelVisible)return;const n=this.Ui.yt();if(n.Fi())return;t.$i=n.$i();const l=this.Ni();if(l===null)return;t.yi=l.yi;const o=n.qi(this.wt.kt());t.Jt=n.Yi(j(o)),t.Tt=!0;const c=Pu(e.labelBackgroundColor);t.t=c.t,t.O=c.i,t.ai=n.W().ticksVisible}}class Vd{constructor(){this.Xi=null,this.Ki=0}Zi(){return this.Ki}Gi(t){this.Ki=t}At(){return this.Xi}Ji(t){this.Xi=t}Qi(t){return[]}tn(){return[]}Tt(){return!0}}var Ny;(function(r){r[r.Normal=0]="Normal",r[r.Magnet=1]="Magnet",r[r.Hidden=2]="Hidden"})(Ny||(Ny={}));class e2 extends Vd{constructor(t,e){super(),this.nn=null,this.sn=NaN,this.en=0,this.rn=!0,this.hn=new Map,this.ln=!1,this.an=NaN,this.on=NaN,this._n=NaN,this.un=NaN,this.Ui=t,this.cn=e,this.dn=new KS(t,this),this.fn=((l,o)=>c=>{const f=o(),d=l();if(c===j(this.nn).vn())return{ct:d,yi:f};{const p=j(c.Pt());return{ct:c.pn(f,p),yi:f}}})(()=>this.sn,()=>this.on);const n=((l,o)=>()=>{const c=this.Ui.yt().mn(l()),f=o();return c&&Number.isFinite(f)?{ut:c,yi:f}:null})(()=>this.en,()=>this.Kt());this.bn=new t2(this,t,n),this.wn=new XS(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,n){this.ln||(this.ln=!0),this.rn=!0,this.yn(t,e,n)}kt(){return this.en}Kt(){return this.an}Zt(){return this.on}Tt(){return this.rn}Cn(){this.rn=!1,this.Tn(),this.sn=NaN,this.an=NaN,this.on=NaN,this.nn=null,this.Mn()}Pn(t){return this.nn!==null?[this.wn,this.dn]:[]}Yt(t){return t===this.nn&&this.cn.horzLine.visible}Xt(){return this.cn.vertLine.visible}Rn(t,e){this.rn&&this.nn===t||this.hn.clear();const n=[];return this.nn===t&&n.push(this.Dn(this.hn,e,this.fn)),n}tn(){return this.rn?[this.bn]:[]}Ut(){return this.nn}On(){this.wn.gt(),this.hn.forEach(t=>t.gt()),this.bn.gt(),this.dn.gt()}An(t){return t&&!t.vn().Fi()?t.vn():null}yn(t,e,n){this.Vn(t,e,n)&&this.On()}Vn(t,e,n){const l=this.an,o=this.on,c=this.sn,f=this.en,d=this.nn,p=this.An(n);this.en=t,this.an=isNaN(t)?NaN:this.Ui.yt().Et(t),this.nn=n;const m=p!==null?p.Pt():null;return p!==null&&m!==null?(this.sn=e,this.on=p.Ot(e,m)):(this.sn=NaN,this.on=NaN),l!==this.an||o!==this.on||f!==this.en||c!==this.sn||d!==this.nn}Tn(){const t=this.Ui.Mt().map(n=>n.In().Bn()).filter(IS),e=t.length===0?null:Math.max(...t);this.en=e!==null?e:NaN}Dn(t,e,n){let l=t.get(e);return l===void 0&&(l=new WS(this,e,n),t.set(e,l)),l}}function Vu(r){return r==="left"||r==="right"}class xe{constructor(t){this.zn=new Map,this.En=[],this.Ln=t}Nn(t,e){const n=function(l,o){return l===void 0?o:{Fn:Math.max(l.Fn,o.Fn),Wn:l.Wn||o.Wn}}(this.zn.get(t),e);this.zn.set(t,n)}jn(){return this.Ln}Hn(t){const e=this.zn.get(t);return e===void 0?{Fn:this.Ln}:{Fn:Math.max(this.Ln,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.En=[{qn:0}]}Yn(t){this.Un(),this.En=[{qn:1,Vt:t}]}Xn(t){this.Kn(),this.En.push({qn:5,Vt:t})}Un(){this.Kn(),this.En.push({qn:6})}Zn(){this.Un(),this.En=[{qn:4}]}Gn(t){this.Un(),this.En.push({qn:2,Vt:t})}Jn(t){this.Un(),this.En.push({qn:3,Vt:t})}Qn(){return this.En}ts(t){for(const e of t.En)this.ns(e);this.Ln=Math.max(this.Ln,t.Ln),t.zn.forEach((e,n)=>{this.Nn(n,e)})}static ss(){return new xe(2)}static es(){return new xe(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Zn();break;case 5:this.Xn(t.Vt);break;case 6:this.Kn()}}Kn(){const t=this.En.findIndex(e=>e.qn===5);t!==-1&&this.En.splice(t,1)}}const Cy=".";function hn(r,t){if(!Fi(r))return"n/a";if(!ba(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?r.toString():("0000000000000000"+r.toString()).slice(-t)}class Fu{constructor(t,e){if(e||(e=1),Fi(t)&&ba(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const e=this.Li/this.rs;let n=Math.floor(t),l="";const o=this.os!==void 0?this.os:NaN;if(e>1){let c=+(Math.round(t*e)-n*e).toFixed(this.os);c>=e&&(c-=e,n+=1),l=Cy+hn(+c.toFixed(this.os)*this.rs,o)}else n=Math.round(n*e)/e,o>0&&(l=Cy+hn(0,o));return n.toFixed(0)+l}}class Dv extends Fu{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class i2{constructor(t){this._s=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.us(t):t<999995?e+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.us(t/1e9)+"B")}us(t){let e;const n=Math.pow(10,this._s);return e=(t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(l,o)=>o)}}function zv(r,t,e,n,l,o,c){if(t.length===0||n.from>=t.length||n.to<=0)return;const{context:f,horizontalPixelRatio:d,verticalPixelRatio:p}=r,m=t[n.from];let y=o(r,m),v=m;if(n.to-n.from<2){const E=l/2;f.beginPath();const S={et:m.et-E,rt:m.rt},A={et:m.et+E,rt:m.rt};f.moveTo(S.et*d,S.rt*p),f.lineTo(A.et*d,A.rt*p),c(r,y,S,A)}else{const E=(A,M)=>{c(r,y,v,M),f.beginPath(),y=A,v=M};let S=v;f.beginPath(),f.moveTo(m.et*d,m.rt*p);for(let A=n.from+1;A<n.to;++A){S=t[A];const M=o(r,S);switch(e){case 0:f.lineTo(S.et*d,S.rt*p);break;case 1:f.lineTo(S.et*d,t[A-1].rt*p),M!==y&&(E(M,S),f.lineTo(S.et*d,t[A-1].rt*p)),f.lineTo(S.et*d,S.rt*p);break;case 2:{const[R,H]=n2(t,A-1,A);f.bezierCurveTo(R.et*d,R.rt*p,H.et*d,H.rt*p,S.et*d,S.rt*p);break}}e!==1&&M!==y&&(E(M,S),f.moveTo(S.et*d,S.rt*p))}(v!==S||v===S&&e===1)&&c(r,y,v,S)}}const By=6;function xf(r,t){return{et:r.et-t.et,rt:r.rt-t.rt}}function Ry(r,t){return{et:r.et/t,rt:r.rt/t}}function n2(r,t,e){const n=Math.max(0,t-1),l=Math.min(r.length-1,e+1);var o,c;return[(o=r[t],c=Ry(xf(r[e],r[n]),By),{et:o.et+c.et,rt:o.rt+c.rt}),xf(r[e],Ry(xf(r[l],r[t]),By))]}function s2(r,t,e,n,l){const{context:o,horizontalPixelRatio:c,verticalPixelRatio:f}=t;o.lineTo(l.et*c,r*f),o.lineTo(n.et*c,r*f),o.closePath(),o.fillStyle=e,o.fill()}class kv extends bn{constructor(){super(...arguments),this.tt=null}it(t){this.tt=t}Z(t){var e;if(this.tt===null)return;const{st:n,nt:l,cs:o,ht:c,Wt:f,ds:d}=this.tt,p=(e=this.tt.fs)!==null&&e!==void 0?e:this.tt.vs?0:t.mediaSize.height;if(l===null)return;const m=t.context;m.lineCap="butt",m.lineJoin="round",m.lineWidth=c,ks(m,f),m.lineWidth=1,zv(t,n,d,l,o,this.ps.bind(this),s2.bind(null,p))}}function cd(r,t,e){return Math.min(Math.max(r,t),e)}function nu(r,t,e){return t-r<=e}function Pv(r){const t=Math.ceil(r);return t%2==0?t-1:t}class Fd{bs(t,e){const n=this.ws,{gs:l,Ms:o,xs:c,Ss:f,ks:d,fs:p}=e;if(this.ys===void 0||n===void 0||n.gs!==l||n.Ms!==o||n.xs!==c||n.Ss!==f||n.fs!==p||n.ks!==d){const m=t.context.createLinearGradient(0,0,0,d);if(m.addColorStop(0,l),p!=null){const y=cd(p*t.verticalPixelRatio/d,0,1);m.addColorStop(y,o),m.addColorStop(y,c)}m.addColorStop(1,f),this.ys=m,this.ws=e}return this.ys}}class r2 extends kv{constructor(){super(...arguments),this.Cs=new Fd}ps(t,e){return this.Cs.bs(t,{gs:e.Ts,Ms:"",xs:"",Ss:e.Ps,ks:t.bitmapSize.height})}}function l2(r,t){const e=r.context;e.strokeStyle=t,e.stroke()}class Hv extends bn{constructor(){super(...arguments),this.tt=null}it(t){this.tt=t}Z(t){if(this.tt===null)return;const{st:e,nt:n,cs:l,ds:o,ht:c,Wt:f,Rs:d}=this.tt;if(n===null)return;const p=t.context;p.lineCap="butt",p.lineWidth=c*t.verticalPixelRatio,ks(p,f),p.lineJoin="round";const m=this.Ds.bind(this);o!==void 0&&zv(t,e,o,n,l,m,l2),d&&function(y,v,E,S,A){const{horizontalPixelRatio:M,verticalPixelRatio:R,context:H}=y;let k=null;const Y=Math.max(1,Math.floor(M))%2/2,Q=E*R+Y;for(let K=S.to-1;K>=S.from;--K){const $=v[K];if($){const J=A(y,$);J!==k&&(H.beginPath(),k!==null&&H.fill(),H.fillStyle=J,k=J);const ut=Math.round($.et*M)+Y,dt=$.rt*R;H.moveTo(ut,dt),H.arc(ut,dt,Q,0,2*Math.PI)}}H.fill()}(t,e,d,n,m)}}class Gv extends Hv{Ds(t,e){return e._t}}function Vv(r,t,e,n,l=0,o=t.length){let c=o-l;for(;0<c;){const f=c>>1,d=l+f;n(t[d],e)===r?(l=d+1,c-=f+1):c=f}return l}const Ra=Vv.bind(null,!0),Fv=Vv.bind(null,!1);function a2(r,t){return r.ut<t}function o2(r,t){return t<r.ut}function Iv(r,t,e){const n=t.Os(),l=t.di(),o=Ra(r,n,a2),c=Fv(r,l,o2);if(!e)return{from:o,to:c};let f=o,d=c;return o>0&&o<r.length&&r[o].ut>=n&&(f=o-1),c>0&&c<r.length&&r[c-1].ut<=l&&(d=c+1),{from:f,to:d}}class Id{constructor(t,e,n){this.As=!0,this.Vs=!0,this.Bs=!0,this.Is=[],this.zs=null,this.Es=t,this.Ls=e,this.Ns=n}gt(t){this.As=!0,t==="data"&&(this.Vs=!0),t==="options"&&(this.Bs=!0)}xt(){return this.Es.Tt()?(this.Fs(),this.zs===null?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Es.$s().Hs(t.ut)))}Us(){this.zs=null}Fs(){this.Vs&&(this.qs(),this.Vs=!1),this.Bs&&(this.js(),this.Bs=!1),this.As&&(this.Ys(),this.As=!1)}Ys(){const t=this.Es.At(),e=this.Ls.yt();if(this.Us(),e.Fi()||t.Fi())return;const n=e.Xs();if(n===null||this.Es.In().Ks()===0)return;const l=this.Es.Pt();l!==null&&(this.zs=Iv(this.Is,n,this.Ns),this.Zs(t,e,l.Vt),this.Gs())}}class Iu extends Id{constructor(t,e){super(t,e,!0)}Zs(t,e,n){e.Js(this.Is,va(this.zs)),t.Qs(this.Is,n,va(this.zs))}te(t,e){return{ut:t,ct:e,et:NaN,rt:NaN}}qs(){const t=this.Es.$s();this.Is=this.Es.In().ie().map(e=>{const n=e.Vt[3];return this.ne(e.se,n,t)})}}class u2 extends Iu{constructor(t,e){super(t,e),this.Ws=new Hd,this.ee=new r2,this.re=new Gv,this.Ws.X([this.ee,this.re])}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t=this.Es.W();this.ee.it({ds:t.lineType,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,fs:null,vs:t.invertFilledArea,nt:this.zs,cs:this.Ls.yt().he()}),this.re.it({ds:t.lineVisible?t.lineType:void 0,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,nt:this.zs,cs:this.Ls.yt().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class c2 extends bn{constructor(){super(...arguments),this.Lt=null,this.le=0,this.ae=0}it(t){this.Lt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.Lt===null||this.Lt.In.length===0||this.Lt.nt===null)return;this.le=this.oe(e),this.le>=2&&Math.max(1,Math.floor(e))%2!=this.le%2&&this.le--,this.ae=this.Lt._e?Math.min(this.le,Math.floor(e)):this.le;let l=null;const o=this.ae<=this.le&&this.Lt.he>=Math.floor(1.5*e);for(let c=this.Lt.nt.from;c<this.Lt.nt.to;++c){const f=this.Lt.In[c];l!==f.ue&&(t.fillStyle=f.ue,l=f.ue);const d=Math.floor(.5*this.ae),p=Math.round(f.et*e),m=p-d,y=this.ae,v=m+y-1,E=Math.min(f.ce,f.de),S=Math.max(f.ce,f.de),A=Math.round(E*n)-d,M=Math.round(S*n)+d,R=Math.max(M-A,this.ae);t.fillRect(m,A,y,R);const H=Math.ceil(1.5*this.le);if(o){if(this.Lt.fe){const K=p-H;let $=Math.max(A,Math.round(f.ve*n)-d),J=$+y-1;J>A+R-1&&(J=A+R-1,$=J-y+1),t.fillRect(K,$,m-K,J-$+1)}const k=p+H;let Y=Math.max(A,Math.round(f.pe*n)-d),Q=Y+y-1;Q>A+R-1&&(Q=A+R-1,Y=Q-y+1),t.fillRect(v+1,Y,k-v,Q-Y+1)}}}oe(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(n,l){return Math.floor(.3*n*l)}(j(this.Lt).he,t)))}}class Qv extends Id{constructor(t,e){super(t,e,!1)}Zs(t,e,n){e.Js(this.Is,va(this.zs)),t.me(this.Is,n,va(this.zs))}be(t,e,n){return{ut:t,we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3],et:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Es.$s();this.Is=this.Es.In().ie().map(e=>this.ne(e.se,e,t))}}class h2 extends Qv{constructor(){super(...arguments),this.Ws=new c2}ne(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}Gs(){const t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),fe:t.openVisible,_e:t.thinBars,nt:this.zs})}}class f2 extends kv{constructor(){super(...arguments),this.Cs=new Fd}ps(t,e){const n=this.tt;return this.Cs.bs(t,{gs:e.Se,Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:t.bitmapSize.height,fs:n.fs})}}class d2 extends Hv{constructor(){super(...arguments),this.Te=new Fd}Ds(t,e){const n=this.tt;return this.Te.bs(t,{gs:e.Pe,Ms:e.Pe,xs:e.Re,Ss:e.Re,ks:t.bitmapSize.height,fs:n.fs})}}class g2 extends Iu{constructor(t,e){super(t,e),this.Ws=new Hd,this.De=new f2,this.Oe=new d2,this.Ws.X([this.De,this.Oe])}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t=this.Es.Pt();if(t===null)return;const e=this.Es.W(),n=this.Es.At().Ot(e.baseValue.price,t.Vt),l=this.Ls.yt().he();this.De.it({st:this.Is,ht:e.lineWidth,Wt:e.lineStyle,ds:e.lineType,fs:n,vs:!1,nt:this.zs,cs:l}),this.Oe.it({st:this.Is,ht:e.lineWidth,Wt:e.lineStyle,ds:e.lineVisible?e.lineType:void 0,Rs:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,fs:n,nt:this.zs,cs:l})}}class p2 extends bn{constructor(){super(...arguments),this.Lt=null,this.le=0}it(t){this.Lt=t}Z(t){if(this.Lt===null||this.Lt.In.length===0||this.Lt.nt===null)return;const{horizontalPixelRatio:e}=t;this.le=function(o,c){if(o>=2.5&&o<=4)return Math.floor(3*c);const f=1-.2*Math.atan(Math.max(4,o)-4)/(.5*Math.PI),d=Math.floor(o*f*c),p=Math.floor(o*c),m=Math.min(d,p);return Math.max(Math.floor(c),m)}(this.Lt.he,e),this.le>=2&&Math.floor(e)%2!=this.le%2&&this.le--;const n=this.Lt.In;this.Lt.Ae&&this.Ve(t,n,this.Lt.nt),this.Lt.ci&&this.Be(t,n,this.Lt.nt);const l=this.Ie(e);(!this.Lt.ci||this.le>2*l)&&this.ze(t,n,this.Lt.nt)}Ve(t,e,n){if(this.Lt===null)return;const{context:l,horizontalPixelRatio:o,verticalPixelRatio:c}=t;let f="",d=Math.min(Math.floor(o),Math.floor(this.Lt.he*o));d=Math.max(Math.floor(o),Math.min(d,this.le));const p=Math.floor(.5*d);let m=null;for(let y=n.from;y<n.to;y++){const v=e[y];v.Ee!==f&&(l.fillStyle=v.Ee,f=v.Ee);const E=Math.round(Math.min(v.ve,v.pe)*c),S=Math.round(Math.max(v.ve,v.pe)*c),A=Math.round(v.ce*c),M=Math.round(v.de*c);let R=Math.round(o*v.et)-p;const H=R+d-1;m!==null&&(R=Math.max(m+1,R),R=Math.min(R,H));const k=H-R+1;l.fillRect(R,A,k,E-A),l.fillRect(R,S+1,k,M-S),m=H}}Ie(t){let e=Math.floor(1*t);this.le<=2*e&&(e=Math.floor(.5*(this.le-1)));const n=Math.max(Math.floor(t),e);return this.le<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}Be(t,e,n){if(this.Lt===null)return;const{context:l,horizontalPixelRatio:o,verticalPixelRatio:c}=t;let f="";const d=this.Ie(o);let p=null;for(let m=n.from;m<n.to;m++){const y=e[m];y.Le!==f&&(l.fillStyle=y.Le,f=y.Le);let v=Math.round(y.et*o)-Math.floor(.5*this.le);const E=v+this.le-1,S=Math.round(Math.min(y.ve,y.pe)*c),A=Math.round(Math.max(y.ve,y.pe)*c);if(p!==null&&(v=Math.max(p+1,v),v=Math.min(v,E)),this.Lt.he*o>2*d)ZS(l,v,S,E-v+1,A-S+1,d);else{const M=E-v+1;l.fillRect(v,S,M,A-S+1)}p=E}}ze(t,e,n){if(this.Lt===null)return;const{context:l,horizontalPixelRatio:o,verticalPixelRatio:c}=t;let f="";const d=this.Ie(o);for(let p=n.from;p<n.to;p++){const m=e[p];let y=Math.round(Math.min(m.ve,m.pe)*c),v=Math.round(Math.max(m.ve,m.pe)*c),E=Math.round(m.et*o)-Math.floor(.5*this.le),S=E+this.le-1;if(m.ue!==f){const A=m.ue;l.fillStyle=A,f=A}this.Lt.ci&&(E+=d,y+=d,S-=d,v-=d),y>v||l.fillRect(E,y,S-E+1,v-y+1)}}}class m2 extends Qv{constructor(){super(...arguments),this.Ws=new p2}ne(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}Gs(){const t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),Ae:t.wickVisible,ci:t.borderVisible,nt:this.zs})}}class y2{constructor(t,e){this.Ne=t,this.Li=e}K(t,e,n){this.Ne.draw(t,this.Li,e,n)}}class Tf extends Id{constructor(t,e,n){super(t,e,!1),this.wn=n,this.Ws=new y2(this.wn.renderer(),l=>{const o=t.Pt();return o===null?null:t.At().Ot(l,o.Vt)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Es.$s();this.Is=this.Es.In().ie().map(e=>Object.assign(Object.assign({ut:e.se,et:NaN},t.Hs(e.se)),{je:e.He}))}Zs(t,e){e.Js(this.Is,va(this.zs))}Gs(){this.wn.update({bars:this.Is.map(b2),barSpacing:this.Ls.yt().he(),visibleRange:this.zs},this.Es.W())}}function b2(r){return{x:r.et,time:r.ut,originalData:r.je,barColor:r.ue}}class v2 extends bn{constructor(){super(...arguments),this.Lt=null,this.$e=[]}it(t){this.Lt=t,this.$e=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.Lt===null||this.Lt.st.length===0||this.Lt.nt===null)return;this.$e.length||this.Ue(e);const l=Math.max(1,Math.floor(n)),o=Math.round(this.Lt.qe*n)-Math.floor(l/2),c=o+l;for(let f=this.Lt.nt.from;f<this.Lt.nt.to;f++){const d=this.Lt.st[f],p=this.$e[f-this.Lt.nt.from],m=Math.round(d.rt*n);let y,v;t.fillStyle=d.ue,m<=o?(y=m,v=c):(y=o,v=m-Math.floor(l/2)+l),t.fillRect(p.Os,y,p.di-p.Os+1,v-y)}}Ue(t){if(this.Lt===null||this.Lt.st.length===0||this.Lt.nt===null)return void(this.$e=[]);const e=Math.ceil(this.Lt.he*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Lt.he*t)-e;this.$e=new Array(this.Lt.nt.to-this.Lt.nt.from);for(let o=this.Lt.nt.from;o<this.Lt.nt.to;o++){const c=this.Lt.st[o],f=Math.round(c.et*t);let d,p;if(n%2){const m=(n-1)/2;d=f-m,p=f+m}else{const m=n/2;d=f-m,p=f+m-1}this.$e[o-this.Lt.nt.from]={Os:d,di:p,Ye:f,Xe:c.et*t,ut:c.ut}}for(let o=this.Lt.nt.from+1;o<this.Lt.nt.to;o++){const c=this.$e[o-this.Lt.nt.from],f=this.$e[o-this.Lt.nt.from-1];c.ut===f.ut+1&&c.Os-f.di!==e+1&&(f.Ye>f.Xe?f.di=c.Os-e-1:c.Os=f.di+e+1)}let l=Math.ceil(this.Lt.he*t);for(let o=this.Lt.nt.from;o<this.Lt.nt.to;o++){const c=this.$e[o-this.Lt.nt.from];c.di<c.Os&&(c.di=c.Os);const f=c.di-c.Os+1;l=Math.min(f,l)}if(e>0&&l<4)for(let o=this.Lt.nt.from;o<this.Lt.nt.to;o++){const c=this.$e[o-this.Lt.nt.from];c.di-c.Os+1>l&&(c.Ye>c.Xe?c.di-=1:c.Os+=1)}}}class w2 extends Iu{constructor(){super(...arguments),this.Ws=new v2}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t={st:this.Is,he:this.Ls.yt().he(),nt:this.zs,qe:this.Es.At().Ot(this.Es.W().base,j(this.Es.Pt()).Vt)};this.Ws.it(t)}}class A2 extends Iu{constructor(){super(...arguments),this.Ws=new Gv}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t=this.Es.W(),e={st:this.Is,Wt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,ht:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,nt:this.zs,cs:this.Ls.yt().he()};this.Ws.it(e)}}const E2=/[2-9]/g;class wa{constructor(t=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}Si(t,e,n){return this.nr(t,e,n).width}xi(t,e,n){const l=this.nr(t,e,n);return((l.actualBoundingBoxAscent||0)-(l.actualBoundingBoxDescent||0))/2}nr(t,e,n){const l=n||E2,o=String(e).replace(l,"0");if(this.Qe.has(o))return ke(this.Qe.get(o)).sr;if(this.Ke===this.tr){const f=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(f),this.Ge++,this.Ke--}t.save(),t.textBaseline="middle";const c=t.measureText(o);return t.restore(),c.width===0&&e.length||(this.Qe.set(o,{sr:c,er:this.Ze}),this.Je[this.Ze]=o,this.Ke++,this.Ze++),c}}class S2{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,e,n){this.rr=t,this.k=e,this.hr=n}K(t){this.k!==null&&this.rr!==null&&this.rr.K(t,this.k,this.lr,this.hr)}}class qv{constructor(t,e,n){this._r=t,this.lr=new wa(50),this.ur=e,this.F=n,this.j=-1,this.Ht=new S2(this.lr)}xt(){const t=this.F.cr(this.ur);if(t===null)return null;const e=t.dr(this.ur)?t.vr():this.ur.At();if(e===null)return null;const n=t.pr(e);if(n==="overlay")return null;const l=this.F.mr();return l.P!==this.j&&(this.j=l.P,this.lr.ir()),this.Ht.ar(this._r.zi(),l,n),this.Ht}}class x2 extends bn{constructor(){super(...arguments),this.Lt=null}it(t){this.Lt=t}br(t,e){var n;if(!(!((n=this.Lt)===null||n===void 0)&&n.Tt))return null;const{rt:l,ht:o,wr:c}=this.Lt;return e>=l-o-7&&e<=l+o+7?{gr:this.Lt,wr:c}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:l}){if(this.Lt===null||this.Lt.Tt===!1)return;const o=Math.round(this.Lt.rt*l);o<0||o>e.height||(t.lineCap="butt",t.strokeStyle=this.Lt.O,t.lineWidth=Math.floor(this.Lt.ht*n),ks(t,this.Lt.Wt),Rv(t,o,0,e.width))}}class Qd{constructor(t){this.Mr={rt:0,O:"rgba(0, 0, 0, 0)",ht:1,Wt:0,Tt:!1},this.Sr=new x2,this.bt=!0,this.Es=t,this.Ls=t.qt(),this.Sr.it(this.Mr)}gt(){this.bt=!0}xt(){return this.Es.Tt()?(this.bt&&(this.kr(),this.bt=!1),this.Sr):null}}class T2 extends Qd{constructor(t){super(t)}kr(){this.Mr.Tt=!1;const t=this.Es.At(),e=t.yr().yr;if(e!==2&&e!==3)return;const n=this.Es.W();if(!n.baseLineVisible||!this.Es.Tt())return;const l=this.Es.Pt();l!==null&&(this.Mr.Tt=!0,this.Mr.rt=t.Ot(l.Vt,l.Vt),this.Mr.O=n.baseLineColor,this.Mr.ht=n.baseLineWidth,this.Mr.Wt=n.baseLineStyle)}}class O2 extends bn{constructor(){super(...arguments),this.Lt=null}it(t){this.Lt=t}He(){return this.Lt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){const l=this.Lt;if(l===null)return;const o=Math.max(1,Math.floor(e)),c=o%2/2,f=Math.round(l.Xe.x*e)+c,d=l.Xe.y*n;t.fillStyle=l.Cr,t.beginPath();const p=Math.max(2,1.5*l.Tr)*e;t.arc(f,d,p,0,2*Math.PI,!1),t.fill(),t.fillStyle=l.Pr,t.beginPath(),t.arc(f,d,l.ot*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=l.Rr,t.beginPath(),t.arc(f,d,l.ot*e+o/2,0,2*Math.PI,!1),t.stroke()}}const M2=[{Dr:0,Or:.25,Ar:4,Vr:10,Br:.25,Ir:0,zr:.4,Er:.8},{Dr:.25,Or:.525,Ar:10,Vr:14,Br:0,Ir:0,zr:.8,Er:0},{Dr:.525,Or:1,Ar:14,Vr:14,Br:0,Ir:0,zr:0,Er:0}];function Ly(r,t,e,n){return function(l,o){if(l==="transparent")return l;const c=Tu(l),f=c[3];return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${o*f})`}(r,e+(n-e)*t)}function _y(r,t){const e=r%2600/2600;let n;for(const d of M2)if(e>=d.Dr&&e<=d.Or){n=d;break}$n(n!==void 0,"Last price animation internal logic error");const l=(e-n.Dr)/(n.Or-n.Dr);return{Pr:Ly(t,l,n.Br,n.Ir),Rr:Ly(t,l,n.zr,n.Er),ot:(o=l,c=n.Ar,f=n.Vr,c+(f-c)*o)};var o,c,f}class N2{constructor(t){this.Ht=new O2,this.bt=!0,this.Lr=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.gt()}Hr(){if(this.gt(),this.Wr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Fr-t;if(e>0)return void(e<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}gt(){this.bt=!0}$r(){this.Lr=!0}Tt(){return this.Wr.W().lastPriceAnimation!==0}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}xt(){return this.bt?(this.St(),this.bt=!1,this.Lr=!1):this.Lr&&(this.qr(),this.Lr=!1),this.Ht}St(){this.Ht.it(null);const t=this.Wr.qt().yt(),e=t.Xs(),n=this.Wr.Pt();if(e===null||n===null)return;const l=this.Wr.Yr(!0);if(l.Xr||!e.Kr(l.se))return;const o={x:t.Et(l.se),y:this.Wr.At().Ot(l.ct,n.Vt)},c=l.O,f=this.Wr.W().lineWidth,d=_y(this.Zr(),c);this.Ht.it({Cr:c,Tr:f,Pr:d.Pr,Rr:d.Rr,ot:d.ot,Xe:o})}qr(){const t=this.Ht.He();if(t!==null){const e=_y(this.Zr(),t.Cr);t.Pr=e.Pr,t.Rr=e.Rr,t.ot=e.ot}}Zr(){return this.Ur()?performance.now()-this.Nr:2599}}function ha(r,t){return Pv(Math.min(Math.max(r,12),30)*t)}function Aa(r,t){switch(r){case"arrowDown":case"arrowUp":return ha(t,1);case"circle":return ha(t,.8);case"square":return ha(t,.7)}}function jv(r){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(ha(r,1))}function Uy(r){return Math.max(ha(r,.1),3)}function Yv(r,t,e,n,l){const o=Aa("square",e),c=(o-1)/2,f=r-c,d=t-c;return n>=f&&n<=f+o&&l>=d&&l<=d+o}function Dy(r,t,e,n,l){const o=(Aa("arrowUp",l)-1)/2,c=(Pv(l/2)-1)/2;t.beginPath(),r?(t.moveTo(e-o,n),t.lineTo(e,n-o),t.lineTo(e+o,n),t.lineTo(e+c,n),t.lineTo(e+c,n+o),t.lineTo(e-c,n+o),t.lineTo(e-c,n)):(t.moveTo(e-o,n),t.lineTo(e,n+o),t.lineTo(e+o,n),t.lineTo(e+c,n),t.lineTo(e+c,n-o),t.lineTo(e-c,n-o),t.lineTo(e-c,n)),t.fill()}function C2(r,t,e,n,l,o){return Yv(t,e,n,l,o)}class B2 extends Gd{constructor(){super(...arguments),this.Lt=null,this.lr=new wa,this.j=-1,this.H="",this.Gr=""}it(t){this.Lt=t}ar(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Gr=Kr(t,e),this.lr.ir())}br(t,e){if(this.Lt===null||this.Lt.nt===null)return null;for(let n=this.Lt.nt.from;n<this.Lt.nt.to;n++){const l=this.Lt.st[n];if(L2(l,t,e))return{gr:l.Jr,wr:l.wr}}return null}Z({context:t},e,n){if(this.Lt!==null&&this.Lt.nt!==null){t.textBaseline="middle",t.font=this.Gr;for(let l=this.Lt.nt.from;l<this.Lt.nt.to;l++){const o=this.Lt.st[l];o.Jt!==void 0&&(o.Jt.$i=this.lr.Si(t,o.Jt.Qr),o.Jt.zt=this.j,o.Jt.et=o.et-o.Jt.$i/2),R2(o,t)}}}}function R2(r,t){t.fillStyle=r.O,r.Jt!==void 0&&function(e,n,l,o){e.fillText(n,l,o)}(t,r.Jt.Qr,r.Jt.et,r.Jt.rt),function(e,n){if(e.Ks!==0){switch(e.th){case"arrowDown":return void Dy(!1,n,e.et,e.rt,e.Ks);case"arrowUp":return void Dy(!0,n,e.et,e.rt,e.Ks);case"circle":return void function(l,o,c,f){const d=(Aa("circle",f)-1)/2;l.beginPath(),l.arc(o,c,d,0,2*Math.PI,!1),l.fill()}(n,e.et,e.rt,e.Ks);case"square":return void function(l,o,c,f){const d=Aa("square",f),p=(d-1)/2,m=o-p,y=c-p;l.fillRect(m,y,d,d)}(n,e.et,e.rt,e.Ks)}e.th}}(r,t)}function L2(r,t,e){return!(r.Jt===void 0||!function(n,l,o,c,f,d){const p=c/2;return f>=n&&f<=n+o&&d>=l-p&&d<=l+p}(r.Jt.et,r.Jt.rt,r.Jt.$i,r.Jt.zt,t,e))||function(n,l,o){if(n.Ks===0)return!1;switch(n.th){case"arrowDown":case"arrowUp":return C2(0,n.et,n.rt,n.Ks,l,o);case"circle":return function(c,f,d,p,m){const y=2+Aa("circle",d)/2,v=c-p,E=f-m;return Math.sqrt(v*v+E*E)<=y}(n.et,n.rt,n.Ks,l,o);case"square":return Yv(n.et,n.rt,n.Ks,l,o)}}(r,t,e)}function _2(r,t,e,n,l,o,c,f,d){const p=Fi(e)?e:e.xe,m=Fi(e)?e:e.ge,y=Fi(e)?e:e.Me,v=Fi(t.size)?Math.max(t.size,0):1,E=jv(f.he())*v,S=E/2;switch(r.Ks=E,t.position){case"inBar":return r.rt=c.Ot(p,d),void(r.Jt!==void 0&&(r.Jt.rt=r.rt+S+o+.6*l));case"aboveBar":return r.rt=c.Ot(m,d)-S-n.ih,r.Jt!==void 0&&(r.Jt.rt=r.rt-S-.6*l,n.ih+=1.2*l),void(n.ih+=E+o);case"belowBar":return r.rt=c.Ot(y,d)+S+n.nh,r.Jt!==void 0&&(r.Jt.rt=r.rt+S+o+.6*l,n.nh+=1.2*l),void(n.nh+=E+o)}t.position}class U2{constructor(t,e){this.bt=!0,this.sh=!0,this.eh=!0,this.rh=null,this.Ht=new B2,this.Wr=t,this.Ui=e,this.Lt={st:[],nt:null}}gt(t){this.bt=!0,this.eh=!0,t==="data"&&(this.sh=!0)}xt(t){if(!this.Wr.Tt())return null;this.bt&&this.hh();const e=this.Ui.W().layout;return this.Ht.ar(e.fontSize,e.fontFamily),this.Ht.it(this.Lt),this.Ht}lh(){if(this.eh){if(this.Wr.ah().length>0){const t=this.Ui.yt().he(),e=Uy(t),n=1.5*jv(t)+2*e;this.rh={above:n,below:n}}else this.rh=null;this.eh=!1}return this.rh}hh(){const t=this.Wr.At(),e=this.Ui.yt(),n=this.Wr.ah();this.sh&&(this.Lt.st=n.map(m=>({ut:m.time,et:0,rt:0,Ks:0,th:m.shape,O:m.color,Jr:m.Jr,wr:m.id,Jt:void 0})),this.sh=!1);const l=this.Ui.W().layout;this.Lt.nt=null;const o=e.Xs();if(o===null)return;const c=this.Wr.Pt();if(c===null||this.Lt.st.length===0)return;let f=NaN;const d=Uy(e.he()),p={ih:d,nh:d};this.Lt.nt=Iv(this.Lt.st,o,!0);for(let m=this.Lt.nt.from;m<this.Lt.nt.to;m++){const y=n[m];y.time!==f&&(p.ih=d,p.nh=d,f=y.time);const v=this.Lt.st[m];v.et=e.Et(y.time),y.text!==void 0&&y.text.length>0&&(v.Jt={Qr:y.text,et:0,rt:0,$i:0,zt:0});const E=this.Wr.oh(y.time);E!==null&&_2(v,y,E,p,l.fontSize,d,t,e,c.Vt)}this.bt=!1}}class D2 extends Qd{constructor(t){super(t)}kr(){const t=this.Mr;t.Tt=!1;const e=this.Es.W();if(!e.priceLineVisible||!this.Es.Tt())return;const n=this.Es.Yr(e.priceLineSource===0);n.Xr||(t.Tt=!0,t.rt=n.yi,t.O=this.Es._h(n.O),t.ht=e.priceLineWidth,t.Wt=e.priceLineStyle)}}class z2 extends Gu{constructor(t){super(),this.$t=t}Ei(t,e,n){t.Tt=!1,e.Tt=!1;const l=this.$t;if(!l.Tt())return;const o=l.W(),c=o.lastValueVisible,f=l.uh()!=="",d=o.seriesLastValueMode===0,p=l.Yr(!1);if(p.Xr)return;c&&(t.Jt=this.dh(p,c,d),t.Tt=t.Jt.length!==0),(f||d)&&(e.Jt=this.fh(p,c,f,d),e.Tt=e.Jt.length>0);const m=l._h(p.O),y=Pu(m);n.t=y.t,n.yi=p.yi,e.Bt=l.qt().It(p.yi/l.At().zt()),t.Bt=m,t.O=y.i,e.O=y.i}fh(t,e,n,l){let o="";const c=this.$t.uh();return n&&c.length!==0&&(o+=`${c} `),e&&l&&(o+=this.$t.At().ph()?t.mh:t.bh),o.trim()}dh(t,e,n){return e?n?this.$t.At().ph()?t.bh:t.mh:t.Jt:""}}function zy(r,t,e,n){const l=Number.isFinite(t),o=Number.isFinite(e);return l&&o?r(t,e):l||o?l?t:e:n}class je{constructor(t,e){this.wh=t,this.gh=e}Mh(t){return t!==null&&this.wh===t.wh&&this.gh===t.gh}xh(){return new je(this.wh,this.gh)}Sh(){return this.wh}kh(){return this.gh}yh(){return this.gh-this.wh}Fi(){return this.gh===this.wh||Number.isNaN(this.gh)||Number.isNaN(this.wh)}ts(t){return t===null?this:new je(zy(Math.min,this.Sh(),t.Sh(),-1/0),zy(Math.max,this.kh(),t.kh(),1/0))}Ch(t){if(!Fi(t)||this.gh-this.wh===0)return;const e=.5*(this.gh+this.wh);let n=this.gh-e,l=this.wh-e;n*=t,l*=t,this.gh=e+n,this.wh=e+l}Th(t){Fi(t)&&(this.gh+=t,this.wh+=t)}Ph(){return{minValue:this.wh,maxValue:this.gh}}static Rh(t){return t===null?null:new je(t.minValue,t.maxValue)}}class Ou{constructor(t,e){this.Dh=t,this.Oh=e||null}Ah(){return this.Dh}Vh(){return this.Oh}Ph(){return this.Dh===null?null:{priceRange:this.Dh.Ph(),margins:this.Oh||void 0}}static Rh(t){return t===null?null:new Ou(je.Rh(t.priceRange),t.margins)}}class k2 extends Qd{constructor(t,e){super(t),this.Bh=e}kr(){const t=this.Mr;t.Tt=!1;const e=this.Bh.W();if(!this.Es.Tt()||!e.lineVisible)return;const n=this.Bh.Ih();n!==null&&(t.Tt=!0,t.rt=n,t.O=e.color,t.ht=e.lineWidth,t.Wt=e.lineStyle,t.wr=this.Bh.W().id)}}class P2 extends Gu{constructor(t,e){super(),this.Wr=t,this.Bh=e}Ei(t,e,n){t.Tt=!1,e.Tt=!1;const l=this.Bh.W(),o=l.axisLabelVisible,c=l.title!=="",f=this.Wr;if(!o||!f.Tt())return;const d=this.Bh.Ih();if(d===null)return;c&&(e.Jt=l.title,e.Tt=!0),e.Bt=f.qt().It(d/f.At().zt()),t.Jt=this.zh(l.price),t.Tt=!0;const p=Pu(l.axisLabelColor||l.color);n.t=p.t;const m=l.axisLabelTextColor||p.i;t.O=m,e.O=m,n.yi=d}zh(t){const e=this.Wr.Pt();return e===null?"":this.Wr.At().Wi(t,e.Vt)}}class H2{constructor(t,e){this.Wr=t,this.cn=e,this.Eh=new k2(t,this),this._r=new P2(t,this),this.Lh=new qv(this._r,t,t.qt())}Nh(t){Ni(this.cn,t),this.gt(),this.Wr.qt().Fh()}W(){return this.cn}Wh(){return this.Eh}jh(){return this.Lh}Hh(){return this._r}gt(){this.Eh.gt(),this._r.gt()}Ih(){const t=this.Wr,e=t.At();if(t.qt().yt().Fi()||e.Fi())return null;const n=t.Pt();return n===null?null:e.Ot(this.cn.price,n.Vt)}}class G2 extends Vd{constructor(t){super(),this.Ui=t}qt(){return this.Ui}}const V2={Bar:(r,t,e,n)=>{var l;const o=t.upColor,c=t.downColor,f=j(r(e,n)),d=zr(f.Vt[0])<=zr(f.Vt[3]);return{ue:(l=f.O)!==null&&l!==void 0?l:d?o:c}},Candlestick:(r,t,e,n)=>{var l,o,c;const f=t.upColor,d=t.downColor,p=t.borderUpColor,m=t.borderDownColor,y=t.wickUpColor,v=t.wickDownColor,E=j(r(e,n)),S=zr(E.Vt[0])<=zr(E.Vt[3]);return{ue:(l=E.O)!==null&&l!==void 0?l:S?f:d,Le:(o=E.Bt)!==null&&o!==void 0?o:S?p:m,Ee:(c=E.$h)!==null&&c!==void 0?c:S?y:v}},Custom:(r,t,e,n)=>{var l;return{ue:(l=j(r(e,n)).O)!==null&&l!==void 0?l:t.color}},Area:(r,t,e,n)=>{var l,o,c,f;const d=j(r(e,n));return{ue:(l=d._t)!==null&&l!==void 0?l:t.lineColor,_t:(o=d._t)!==null&&o!==void 0?o:t.lineColor,Ts:(c=d.Ts)!==null&&c!==void 0?c:t.topColor,Ps:(f=d.Ps)!==null&&f!==void 0?f:t.bottomColor}},Baseline:(r,t,e,n)=>{var l,o,c,f,d,p;const m=j(r(e,n));return{ue:m.Vt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Pe:(l=m.Pe)!==null&&l!==void 0?l:t.topLineColor,Re:(o=m.Re)!==null&&o!==void 0?o:t.bottomLineColor,Se:(c=m.Se)!==null&&c!==void 0?c:t.topFillColor1,ke:(f=m.ke)!==null&&f!==void 0?f:t.topFillColor2,ye:(d=m.ye)!==null&&d!==void 0?d:t.bottomFillColor1,Ce:(p=m.Ce)!==null&&p!==void 0?p:t.bottomFillColor2}},Line:(r,t,e,n)=>{var l,o;const c=j(r(e,n));return{ue:(l=c.O)!==null&&l!==void 0?l:t.color,_t:(o=c.O)!==null&&o!==void 0?o:t.color}},Histogram:(r,t,e,n)=>{var l;return{ue:(l=j(r(e,n)).O)!==null&&l!==void 0?l:t.color}}};class F2{constructor(t){this.Uh=(e,n)=>n!==void 0?n.Vt:this.Wr.In().qh(e),this.Wr=t,this.Yh=V2[t.Xh()]}Hs(t,e){return this.Yh(this.Uh,this.Wr.W(),t,e)}}var ky;(function(r){r[r.NearestLeft=-1]="NearestLeft",r[r.None=0]="None",r[r.NearestRight=1]="NearestRight"})(ky||(ky={}));const qn=30;class I2{constructor(){this.Kh=[],this.Zh=new Map,this.Gh=new Map}Jh(){return this.Ks()>0?this.Kh[this.Kh.length-1]:null}Qh(){return this.Ks()>0?this.tl(0):null}Bn(){return this.Ks()>0?this.tl(this.Kh.length-1):null}Ks(){return this.Kh.length}Fi(){return this.Ks()===0}Kr(t){return this.il(t,0)!==null}qh(t){return this.nl(t)}nl(t,e=0){const n=this.il(t,e);return n===null?null:Object.assign(Object.assign({},this.sl(n)),{se:this.tl(n)})}ie(){return this.Kh}el(t,e,n){if(this.Fi())return null;let l=null;for(const o of n)l=su(l,this.rl(t,e,o));return l}it(t){this.Gh.clear(),this.Zh.clear(),this.Kh=t}tl(t){return this.Kh[t].se}sl(t){return this.Kh[t]}il(t,e){const n=this.hl(t);if(n===null&&e!==0)switch(e){case-1:return this.ll(t);case 1:return this.al(t);default:throw new TypeError("Unknown search mode")}return n}ll(t){let e=this.ol(t);return e>0&&(e-=1),e!==this.Kh.length&&this.tl(e)<t?e:null}al(t){const e=this._l(t);return e!==this.Kh.length&&t<this.tl(e)?e:null}hl(t){const e=this.ol(t);return e===this.Kh.length||t<this.Kh[e].se?null:e}ol(t){return Ra(this.Kh,t,(e,n)=>e.se<n)}_l(t){return Fv(this.Kh,t,(e,n)=>e.se>n)}ul(t,e,n){let l=null;for(let o=t;o<e;o++){const c=this.Kh[o].Vt[n];Number.isNaN(c)||(l===null?l={cl:c,dl:c}:(c<l.cl&&(l.cl=c),c>l.dl&&(l.dl=c)))}return l}rl(t,e,n){if(this.Fi())return null;let l=null;const o=j(this.Qh()),c=j(this.Bn()),f=Math.max(t,o),d=Math.min(e,c),p=Math.ceil(f/qn)*qn,m=Math.max(p,Math.floor(d/qn)*qn);{const v=this.ol(f),E=this._l(Math.min(d,p,e));l=su(l,this.ul(v,E,n))}let y=this.Zh.get(n);y===void 0&&(y=new Map,this.Zh.set(n,y));for(let v=Math.max(p+1,f);v<m;v+=qn){const E=Math.floor(v/qn);let S=y.get(E);if(S===void 0){const A=this.ol(E*qn),M=this._l((E+1)*qn-1);S=this.ul(A,M,n),y.set(E,S)}l=su(l,S)}{const v=this.ol(m),E=this._l(d);l=su(l,this.ul(v,E,n))}return l}}function su(r,t){return r===null?t:t===null?r:{cl:Math.min(r.cl,t.cl),dl:Math.max(r.dl,t.dl)}}class Q2{constructor(t){this.fl=t}K(t,e,n){this.fl.draw(t)}G(t,e,n){var l,o;(o=(l=this.fl).drawBackground)===null||o===void 0||o.call(l,t)}}class Of{constructor(t){this.Qe=null,this.wn=t}xt(){var t;const e=this.wn.renderer();if(e===null)return null;if(((t=this.Qe)===null||t===void 0?void 0:t.vl)===e)return this.Qe.pl;const n=new Q2(e);return this.Qe={vl:e,pl:n},n}ml(){var t,e,n;return(n=(e=(t=this.wn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:"normal"}}function Kv(r){var t,e,n,l,o;return{Jt:r.text(),yi:r.coordinate(),ki:(t=r.fixedCoordinate)===null||t===void 0?void 0:t.call(r),O:r.textColor(),t:r.backColor(),Tt:(n=(e=r.visible)===null||e===void 0?void 0:e.call(r))===null||n===void 0||n,ai:(o=(l=r.tickVisible)===null||l===void 0?void 0:l.call(r))===null||o===void 0||o}}class q2{constructor(t,e){this.Ht=new Uv,this.bl=t,this.wl=e}xt(){return this.Ht.it(Object.assign({$i:this.wl.$i()},Kv(this.bl))),this.Ht}}class j2 extends Gu{constructor(t,e){super(),this.bl=t,this.Li=e}Ei(t,e,n){const l=Kv(this.bl);n.t=l.t,t.O=l.O;const o=2/12*this.Li.P();n.gi=o,n.Mi=o,n.yi=l.yi,n.ki=l.ki,t.Jt=l.Jt,t.Tt=l.Tt,t.ai=l.ai}}class Y2{constructor(t,e){this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=t,this.Wr=e}Cl(){return this.yl}On(){var t,e;(e=(t=this.yl).updateAllViews)===null||e===void 0||e.call(t)}Pn(){var t,e,n,l;const o=(n=(e=(t=this.yl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((l=this.gl)===null||l===void 0?void 0:l.vl)===o)return this.gl.pl;const c=o.map(f=>new Of(f));return this.gl={vl:o,pl:c},c}tn(){var t,e,n,l;const o=(n=(e=(t=this.yl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((l=this.Ml)===null||l===void 0?void 0:l.vl)===o)return this.Ml.pl;const c=this.Wr.qt().yt(),f=o.map(d=>new q2(d,c));return this.Ml={vl:o,pl:f},f}Rn(){var t,e,n,l;const o=(n=(e=(t=this.yl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((l=this.xl)===null||l===void 0?void 0:l.vl)===o)return this.xl.pl;const c=this.Wr.At(),f=o.map(d=>new j2(d,c));return this.xl={vl:o,pl:f},f}Tl(){var t,e,n,l;const o=(n=(e=(t=this.yl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((l=this.Sl)===null||l===void 0?void 0:l.vl)===o)return this.Sl.pl;const c=o.map(f=>new Of(f));return this.Sl={vl:o,pl:c},c}Pl(){var t,e,n,l;const o=(n=(e=(t=this.yl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((l=this.kl)===null||l===void 0?void 0:l.vl)===o)return this.kl.pl;const c=o.map(f=>new Of(f));return this.kl={vl:o,pl:c},c}Rl(t,e){var n,l,o;return(o=(l=(n=this.yl).autoscaleInfo)===null||l===void 0?void 0:l.call(n,t,e))!==null&&o!==void 0?o:null}br(t,e){var n,l,o;return(o=(l=(n=this.yl).hitTest)===null||l===void 0?void 0:l.call(n,t,e))!==null&&o!==void 0?o:null}}function Mf(r,t,e,n){r.forEach(l=>{t(l).forEach(o=>{o.ml()===e&&n.push(o)})})}function Nf(r){return r.Pn()}function K2(r){return r.Tl()}function J2(r){return r.Pl()}class qd extends G2{constructor(t,e,n,l,o){super(t),this.Lt=new I2,this.Eh=new D2(this),this.Dl=[],this.Ol=new T2(this),this.Al=null,this.Vl=null,this.Bl=[],this.Il=[],this.zl=null,this.El=[],this.cn=e,this.Ll=n;const c=new z2(this);this.hn=[c],this.Lh=new qv(c,this,t),n!=="Area"&&n!=="Line"&&n!=="Baseline"||(this.Al=new N2(this)),this.Nl(),this.Fl(o)}S(){this.zl!==null&&clearTimeout(this.zl)}_h(t){return this.cn.priceLineColor||t}Yr(t){const e={Xr:!0},n=this.At();if(this.qt().yt().Fi()||n.Fi()||this.Lt.Fi())return e;const l=this.qt().yt().Xs(),o=this.Pt();if(l===null||o===null)return e;let c,f;if(t){const y=this.Lt.Jh();if(y===null)return e;c=y,f=y.se}else{const y=this.Lt.nl(l.di(),-1);if(y===null||(c=this.Lt.qh(y.se),c===null))return e;f=y.se}const d=c.Vt[3],p=this.$s().Hs(f,{Vt:c}),m=n.Ot(d,o.Vt);return{Xr:!1,ct:d,Jt:n.Wi(d,o.Vt),mh:n.Wl(d),bh:n.jl(d,o.Vt),O:p.ue,yi:m,se:f}}$s(){return this.Vl!==null||(this.Vl=new F2(this)),this.Vl}W(){return this.cn}Nh(t){const e=t.priceScaleId;e!==void 0&&e!==this.cn.priceScaleId&&this.qt().Hl(this,e),Ni(this.cn,t),t.priceFormat!==void 0&&(this.Nl(),this.qt().$l()),this.qt().Ul(this),this.qt().ql(),this.wn.gt("options")}it(t,e){this.Lt.it(t),this.Yl(),this.wn.gt("data"),this.dn.gt("data"),this.Al!==null&&(e&&e.Xl?this.Al.Hr():t.length===0&&this.Al.jr());const n=this.qt().cr(this);this.qt().Kl(n),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}Zl(t){this.Bl=t,this.Yl();const e=this.qt().cr(this);this.dn.gt("data"),this.qt().Kl(e),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}Gl(){return this.Bl}ah(){return this.Il}Jl(t){const e=new H2(this,t);return this.Dl.push(e),this.qt().Ul(this),e}Ql(t){const e=this.Dl.indexOf(t);e!==-1&&this.Dl.splice(e,1),this.qt().Ul(this)}Xh(){return this.Ll}Pt(){const t=this.ta();return t===null?null:{Vt:t.Vt[3],ia:t.ut}}ta(){const t=this.qt().yt().Xs();if(t===null)return null;const e=t.Os();return this.Lt.nl(e,1)}In(){return this.Lt}oh(t){const e=this.Lt.qh(t);return e===null?null:this.Ll==="Bar"||this.Ll==="Candlestick"||this.Ll==="Custom"?{we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3]}:e.Vt[3]}na(t){const e=[];Mf(this.El,Nf,"top",e);const n=this.Al;return n!==null&&n.Tt()&&(this.zl===null&&n.Ur()&&(this.zl=setTimeout(()=>{this.zl=null,this.qt().sa()},0)),n.$r(),e.push(n)),e}Pn(){const t=[];this.ea()||t.push(this.Ol),t.push(this.wn,this.Eh,this.dn);const e=this.Dl.map(n=>n.Wh());return t.push(...e),Mf(this.El,Nf,"normal",t),t}ra(){return this.ha(Nf,"bottom")}la(t){return this.ha(K2,t)}aa(t){return this.ha(J2,t)}oa(t,e){return this.El.map(n=>n.br(t,e)).filter(n=>n!==null)}Qi(t){return[this.Lh,...this.Dl.map(e=>e.jh())]}Rn(t,e){if(e!==this.Xi&&!this.ea())return[];const n=[...this.hn];for(const l of this.Dl)n.push(l.Hh());return this.El.forEach(l=>{n.push(...l.Rn())}),n}tn(){const t=[];return this.El.forEach(e=>{t.push(...e.tn())}),t}Rl(t,e){if(this.cn.autoscaleInfoProvider!==void 0){const n=this.cn.autoscaleInfoProvider(()=>{const l=this._a(t,e);return l===null?null:l.Ph()});return Ou.Rh(n)}return this._a(t,e)}ua(){return this.cn.priceFormat.minMove}ca(){return this.da}On(){var t;this.wn.gt(),this.dn.gt();for(const e of this.hn)e.gt();for(const e of this.Dl)e.gt();this.Eh.gt(),this.Ol.gt(),(t=this.Al)===null||t===void 0||t.gt(),this.El.forEach(e=>e.On())}At(){return j(super.At())}Ct(t){if(!((this.Ll==="Line"||this.Ll==="Area"||this.Ll==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const e=this.Lt.qh(t);return e===null?null:{ct:e.Vt[3],ot:this.fa(),Bt:this.va(),Dt:this.pa(),Rt:this.ma(t)}}uh(){return this.cn.title}Tt(){return this.cn.visible}ba(t){this.El.push(new Y2(t,this))}wa(t){this.El=this.El.filter(e=>e.Cl()!==t)}ga(){if(this.wn instanceof Tf)return t=>this.wn.Fe(t)}Ma(){if(this.wn instanceof Tf)return t=>this.wn.We(t)}ea(){return!Vu(this.At().xa())}_a(t,e){if(!ba(t)||!ba(e)||this.Lt.Fi())return null;const n=this.Ll==="Line"||this.Ll==="Area"||this.Ll==="Baseline"||this.Ll==="Histogram"?[3]:[2,1],l=this.Lt.el(t,e,n);let o=l!==null?new je(l.cl,l.dl):null;if(this.Xh()==="Histogram"){const f=this.cn.base,d=new je(f,f);o=o!==null?o.ts(d):d}let c=this.dn.lh();return this.El.forEach(f=>{const d=f.Rl(t,e);if(d?.priceRange){const E=new je(d.priceRange.minValue,d.priceRange.maxValue);o=o!==null?o.ts(E):E}var p,m,y,v;d?.margins&&(p=c,m=d.margins,c={above:Math.max((y=p?.above)!==null&&y!==void 0?y:0,m.above),below:Math.max((v=p?.below)!==null&&v!==void 0?v:0,m.below)})}),new Ou(o,c)}fa(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}va(){switch(this.Ll){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}pa(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}ma(t){switch(this.Ll){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.$s().Hs(t).ue}Nl(){switch(this.cn.priceFormat.type){case"custom":this.da={format:this.cn.priceFormat.formatter};break;case"volume":this.da=new i2(this.cn.priceFormat.precision);break;case"percent":this.da=new Dv(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.da=new Fu(t,this.cn.priceFormat.minMove*t)}}this.Xi!==null&&this.Xi.Sa()}Yl(){const t=this.qt().yt();if(!t.ka()||this.Lt.Fi())return void(this.Il=[]);const e=j(this.Lt.Qh());this.Il=this.Bl.map((n,l)=>{const o=j(t.ya(n.time,!0)),c=o<e?1:-1;return{time:j(this.Lt.nl(o,c)).se,position:n.position,shape:n.shape,color:n.color,id:n.id,Jr:l,text:n.text,size:n.size,originalTime:n.originalTime}})}Fl(t){switch(this.dn=new U2(this,this.qt()),this.Ll){case"Bar":this.wn=new h2(this,this.qt());break;case"Candlestick":this.wn=new m2(this,this.qt());break;case"Line":this.wn=new A2(this,this.qt());break;case"Custom":this.wn=new Tf(this,this.qt(),ke(t));break;case"Area":this.wn=new u2(this,this.qt());break;case"Baseline":this.wn=new g2(this,this.qt());break;case"Histogram":this.wn=new w2(this,this.qt());break;default:throw Error("Unknown chart style assigned: "+this.Ll)}}ha(t,e){const n=[];return Mf(this.El,t,e,n),n}}class X2{constructor(t){this.cn=t}Ca(t,e,n){let l=t;if(this.cn.mode===0)return l;const o=n.vn(),c=o.Pt();if(c===null)return l;const f=o.Ot(t,c),d=n.Ta().filter(m=>m instanceof qd).reduce((m,y)=>{if(n.dr(y)||!y.Tt())return m;const v=y.At(),E=y.In();if(v.Fi()||!E.Kr(e))return m;const S=E.qh(e);if(S===null)return m;const A=zr(y.Pt());return m.concat([v.Ot(S.Vt[3],A.Vt)])},[]);if(d.length===0)return l;d.sort((m,y)=>Math.abs(m-f)-Math.abs(y-f));const p=d[0];return l=o.pn(p,c),l}}class Z2 extends bn{constructor(){super(...arguments),this.Lt=null}it(t){this.Lt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:l}){if(this.Lt===null)return;const o=Math.max(1,Math.floor(n));t.lineWidth=o,function(c,f){c.save(),c.lineWidth%2&&c.translate(.5,.5),f(),c.restore()}(t,()=>{const c=j(this.Lt);if(c.Pa){t.strokeStyle=c.Ra,ks(t,c.Da),t.beginPath();for(const f of c.Oa){const d=Math.round(f.Aa*n);t.moveTo(d,-o),t.lineTo(d,e.height+o)}t.stroke()}if(c.Va){t.strokeStyle=c.Ba,ks(t,c.Ia),t.beginPath();for(const f of c.za){const d=Math.round(f.Aa*l);t.moveTo(-o,d),t.lineTo(e.width+o,d)}t.stroke()}})}}class W2{constructor(t){this.Ht=new Z2,this.bt=!0,this.nn=t}gt(){this.bt=!0}xt(){if(this.bt){const t=this.nn.qt().W().grid,e={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.nn.vn().Ea(),Oa:(this.nn.qt().yt().Ea()||[]).map(n=>({Aa:n.coord}))};this.Ht.it(e),this.bt=!1}return this.Ht}}class $2{constructor(t){this.wn=new W2(t)}Wh(){return this.wn}}const Cf={La:4,Na:1e-4};function kr(r,t){const e=100*(r-t)/t;return t<0?-e:e}function tx(r,t){const e=kr(r.Sh(),t),n=kr(r.kh(),t);return new je(e,n)}function fa(r,t){const e=100*(r-t)/t+100;return t<0?-e:e}function ex(r,t){const e=fa(r.Sh(),t),n=fa(r.kh(),t);return new je(e,n)}function Mu(r,t){const e=Math.abs(r);if(e<1e-15)return 0;const n=Math.log10(e+t.Na)+t.La;return r<0?-n:n}function da(r,t){const e=Math.abs(r);if(e<1e-15)return 0;const n=Math.pow(10,e-t.La)-t.Na;return r<0?-n:n}function ra(r,t){if(r===null)return null;const e=Mu(r.Sh(),t),n=Mu(r.kh(),t);return new je(e,n)}function ru(r,t){if(r===null)return null;const e=da(r.Sh(),t),n=da(r.kh(),t);return new je(e,n)}function Bf(r){if(r===null)return Cf;const t=Math.abs(r.kh()-r.Sh());if(t>=1||t<1e-15)return Cf;const e=Math.ceil(Math.abs(Math.log10(t))),n=Cf.La+e;return{La:n,Na:1/Math.pow(10,n)}}class Rf{constructor(t,e){if(this.Fa=t,this.Wa=e,function(n){if(n<0)return!1;for(let l=n;l>1;l/=10)if(l%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(let n=this.Fa;n!==1;){if(n%2==0)this.ja.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),n/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}Ha(t,e,n){const l=this.Fa===0?0:1/this.Fa;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),c=0,f=this.Wa[0];for(;;){const y=nu(o,l,1e-14)&&o>l+1e-14,v=nu(o,n*f,1e-14),E=nu(o,1,1e-14);if(!(y&&v&&E))break;o/=f,f=this.Wa[++c%this.Wa.length]}if(o<=l+1e-14&&(o=l),o=Math.max(1,o),this.ja.length>0&&(d=o,p=1,m=1e-14,Math.abs(d-p)<m))for(c=0,f=this.ja[0];nu(o,n*f,1e-14)&&o>l+1e-14;)o/=f,f=this.ja[++c%this.ja.length];var d,p,m;return o}}class Py{constructor(t,e,n,l){this.$a=[],this.Li=t,this.Fa=e,this.Ua=n,this.qa=l}Ha(t,e){if(t<e)throw new Error("high < low");const n=this.Li.zt(),l=(t-e)*this.Ya()/n,o=new Rf(this.Fa,[2,2.5,2]),c=new Rf(this.Fa,[2,2,2.5]),f=new Rf(this.Fa,[2.5,2,2]),d=[];return d.push(o.Ha(t,e,l),c.Ha(t,e,l),f.Ha(t,e,l)),function(p){if(p.length<1)throw Error("array is empty");let m=p[0];for(let y=1;y<p.length;++y)p[y]<m&&(m=p[y]);return m}(d)}Xa(){const t=this.Li,e=t.Pt();if(e===null)return void(this.$a=[]);const n=t.zt(),l=this.Ua(n-1,e),o=this.Ua(0,e),c=this.Li.W().entireTextOnly?this.Ka()/2:0,f=c,d=n-1-c,p=Math.max(l,o),m=Math.min(l,o);if(p===m)return void(this.$a=[]);let y=this.Ha(p,m),v=p%y;v+=v<0?y:0;const E=p>=m?1:-1;let S=null,A=0;for(let M=p-v;M>m;M-=y){const R=this.qa(M,e,!0);S!==null&&Math.abs(R-S)<this.Ya()||R<f||R>d||(A<this.$a.length?(this.$a[A].Aa=R,this.$a[A].Za=t.Ga(M)):this.$a.push({Aa:R,Za:t.Ga(M)}),A++,S=R,t.Ja()&&(y=this.Ha(M*E,m)))}this.$a.length=A}Ea(){return this.$a}Ka(){return this.Li.P()}Ya(){return Math.ceil(2.5*this.Ka())}}function Jv(r){return r.slice().sort((t,e)=>j(t.Zi())-j(e.Zi()))}var Hy;(function(r){r[r.Normal=0]="Normal",r[r.Logarithmic=1]="Logarithmic",r[r.Percentage=2]="Percentage",r[r.IndexedTo100=3]="IndexedTo100"})(Hy||(Hy={}));const Gy=new Dv,Vy=new Fu(100,1);class ix{constructor(t,e,n,l){this.Qa=0,this.io=null,this.Dh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new oe,this.oo=new oe,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=Vy,this.vo=Bf(null),this.po=t,this.cn=e,this.mo=n,this.bo=l,this.wo=new Py(this,100,this.Mo.bind(this),this.xo.bind(this))}xa(){return this.po}W(){return this.cn}Nh(t){if(Ni(this.cn,t),this.Sa(),t.mode!==void 0&&this.So({yr:t.mode}),t.scaleMargins!==void 0){const e=ke(t.scaleMargins.top),n=ke(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(e+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+n}`);this.ko(),this.co=null}}yo(){return this.cn.autoScale}Ja(){return this.cn.mode===1}ph(){return this.cn.mode===2}Co(){return this.cn.mode===3}yr(){return{Wn:this.cn.autoScale,To:this.cn.invertScale,yr:this.cn.mode}}So(t){const e=this.yr();let n=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.yr!==void 0&&(this.cn.mode=t.yr,t.yr!==2&&t.yr!==3||(this.cn.autoScale=!0),this.so.eo=!1),e.yr===1&&t.yr!==e.yr&&(function(o,c){if(o===null)return!1;const f=da(o.Sh(),c),d=da(o.kh(),c);return isFinite(f)&&isFinite(d)}(this.Dh,this.vo)?(n=ru(this.Dh,this.vo),n!==null&&this.Po(n)):this.cn.autoScale=!0),t.yr===1&&t.yr!==e.yr&&(n=ra(this.Dh,this.vo),n!==null&&this.Po(n));const l=e.yr!==this.cn.mode;l&&(e.yr===2||this.ph())&&this.Sa(),l&&(e.yr===3||this.Co())&&this.Sa(),t.To!==void 0&&e.To!==t.To&&(this.cn.invertScale=t.To,this.Ro()),this.oo.m(e,this.yr())}Do(){return this.oo}P(){return this.mo.fontSize}zt(){return this.Qa}Oo(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}Ao(){if(this.io)return this.io;const t=this.zt()-this.Vo()-this.Bo();return this.io=t,t}Ah(){return this.Io(),this.Dh}Po(t,e){const n=this.Dh;(e||n===null&&t!==null||n!==null&&!n.Mh(t))&&(this.co=null,this.Dh=t)}Fi(){return this.Io(),this.Qa===0||!this.Dh||this.Dh.Fi()}zo(t){return this.To()?t:this.zt()-1-t}Ot(t,e){return this.ph()?t=kr(t,e):this.Co()&&(t=fa(t,e)),this.xo(t,e)}Qs(t,e,n){this.Io();const l=this.Bo(),o=j(this.Ah()),c=o.Sh(),f=o.kh(),d=this.Ao()-1,p=this.To(),m=d/(f-c),y=n===void 0?0:n.from,v=n===void 0?t.length:n.to,E=this.Eo();for(let S=y;S<v;S++){const A=t[S],M=A.ct;if(isNaN(M))continue;let R=M;E!==null&&(R=E(A.ct,e));const H=l+m*(R-c),k=p?H:this.Qa-1-H;A.rt=k}}me(t,e,n){this.Io();const l=this.Bo(),o=j(this.Ah()),c=o.Sh(),f=o.kh(),d=this.Ao()-1,p=this.To(),m=d/(f-c),y=n===void 0?0:n.from,v=n===void 0?t.length:n.to,E=this.Eo();for(let S=y;S<v;S++){const A=t[S];let M=A.we,R=A.ge,H=A.Me,k=A.xe;E!==null&&(M=E(A.we,e),R=E(A.ge,e),H=E(A.Me,e),k=E(A.xe,e));let Y=l+m*(M-c),Q=p?Y:this.Qa-1-Y;A.ve=Q,Y=l+m*(R-c),Q=p?Y:this.Qa-1-Y,A.ce=Q,Y=l+m*(H-c),Q=p?Y:this.Qa-1-Y,A.de=Q,Y=l+m*(k-c),Q=p?Y:this.Qa-1-Y,A.pe=Q}}pn(t,e){const n=this.Mo(t,e);return this.Lo(n,e)}Lo(t,e){let n=t;return this.ph()?n=function(l,o){return o<0&&(l=-l),l/100*o+o}(n,e):this.Co()&&(n=function(l,o){return l-=100,o<0&&(l=-l),l/100*o+o}(n,e)),n}Ta(){return this._o}No(){if(this.uo)return this.uo;let t=[];for(let e=0;e<this._o.length;e++){const n=this._o[e];n.Zi()===null&&n.Gi(e+1),t.push(n)}return t=Jv(t),this.uo=t,this.uo}Fo(t){this._o.indexOf(t)===-1&&(this._o.push(t),this.Sa(),this.Wo())}jo(t){const e=this._o.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this._o.splice(e,1),this._o.length===0&&(this.So({Wn:!0}),this.Po(null)),this.Sa(),this.Wo()}Pt(){let t=null;for(const e of this._o){const n=e.Pt();n!==null&&(t===null||n.ia<t.ia)&&(t=n)}return t===null?null:t.Vt}To(){return this.cn.invertScale}Ea(){const t=this.Pt()===null;if(this.co!==null&&(t||this.co.Ho===t))return this.co.Ea;this.wo.Xa();const e=this.wo.Ea();return this.co={Ea:e,Ho:t},this.ao.m(),e}$o(){return this.ao}Uo(t){this.ph()||this.Co()||this.do===null&&this.no===null&&(this.Fi()||(this.do=this.Qa-t,this.no=j(this.Ah()).xh()))}qo(t){if(this.ph()||this.Co()||this.do===null)return;this.So({Wn:!1}),(t=this.Qa-t)<0&&(t=0);let e=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1));const n=j(this.no).xh();e=Math.max(e,.1),n.Ch(e),this.Po(n)}Yo(){this.ph()||this.Co()||(this.do=null,this.no=null)}Xo(t){this.yo()||this.fo===null&&this.no===null&&(this.Fi()||(this.fo=t,this.no=j(this.Ah()).xh()))}Ko(t){if(this.yo()||this.fo===null)return;const e=j(this.Ah()).yh()/(this.Ao()-1);let n=t-this.fo;this.To()&&(n*=-1);const l=n*e,o=j(this.no).xh();o.Th(l),this.Po(o,!0),this.co=null}Zo(){this.yo()||this.fo!==null&&(this.fo=null,this.no=null)}ca(){return this.da||this.Sa(),this.da}Wi(t,e){switch(this.cn.mode){case 2:return this.Go(kr(t,e));case 3:return this.ca().format(fa(t,e));default:return this.zh(t)}}Ga(t){switch(this.cn.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.zh(t)}}Wl(t){return this.zh(t,j(this.Jo()).ca())}jl(t,e){return t=kr(t,e),this.Go(t,Gy)}Qo(){return this._o}t_(t){this.so={ro:t,eo:!1}}On(){this._o.forEach(t=>t.On())}Sa(){this.co=null;const t=this.Jo();let e=100;t!==null&&(e=Math.round(1/t.ua())),this.da=Vy,this.ph()?(this.da=Gy,e=100):this.Co()?(this.da=new Fu(100,1),e=100):t!==null&&(this.da=t.ca()),this.wo=new Py(this,e,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}Wo(){this.uo=null}Jo(){return this._o[0]||null}Vo(){return this.To()?this.cn.scaleMargins.bottom*this.zt()+this.lo:this.cn.scaleMargins.top*this.zt()+this.ho}Bo(){return this.To()?this.cn.scaleMargins.top*this.zt()+this.ho:this.cn.scaleMargins.bottom*this.zt()+this.lo}Io(){this.so.eo||(this.so.eo=!0,this.i_())}ko(){this.io=null}xo(t,e){if(this.Io(),this.Fi())return 0;t=this.Ja()&&t?Mu(t,this.vo):t;const n=j(this.Ah()),l=this.Bo()+(this.Ao()-1)*(t-n.Sh())/n.yh();return this.zo(l)}Mo(t,e){if(this.Io(),this.Fi())return 0;const n=this.zo(t),l=j(this.Ah()),o=l.Sh()+l.yh()*((n-this.Bo())/(this.Ao()-1));return this.Ja()?da(o,this.vo):o}Ro(){this.co=null,this.wo.Xa()}i_(){const t=this.so.ro;if(t===null)return;let e=null;const n=this.Qo();let l=0,o=0;for(const d of n){if(!d.Tt())continue;const p=d.Pt();if(p===null)continue;const m=d.Rl(t.Os(),t.di());let y=m&&m.Ah();if(y!==null){switch(this.cn.mode){case 1:y=ra(y,this.vo);break;case 2:y=tx(y,p.Vt);break;case 3:y=ex(y,p.Vt)}if(e=e===null?y:e.ts(j(y)),m!==null){const v=m.Vh();v!==null&&(l=Math.max(l,v.above),o=Math.max(l,v.below))}}}if(l===this.ho&&o===this.lo||(this.ho=l,this.lo=o,this.co=null,this.ko()),e!==null){if(e.Sh()===e.kh()){const d=this.Jo(),p=5*(d===null||this.ph()||this.Co()?1:d.ua());this.Ja()&&(e=ru(e,this.vo)),e=new je(e.Sh()-p,e.kh()+p),this.Ja()&&(e=ra(e,this.vo))}if(this.Ja()){const d=ru(e,this.vo),p=Bf(d);if(c=p,f=this.vo,c.La!==f.La||c.Na!==f.Na){const m=this.no!==null?ru(this.no,this.vo):null;this.vo=p,e=ra(d,p),m!==null&&(this.no=ra(m,p))}}this.Po(e)}else this.Dh===null&&(this.Po(new je(-.5,.5)),this.vo=Bf(null));var c,f;this.so.eo=!0}Eo(){return this.ph()?kr:this.Co()?fa:this.Ja()?t=>Mu(t,this.vo):null}n_(t,e,n){return e===void 0?(n===void 0&&(n=this.ca()),n.format(t)):e(t)}zh(t,e){return this.n_(t,this.bo.priceFormatter,e)}Go(t,e){return this.n_(t,this.bo.percentageFormatter,e)}}class nx{constructor(t,e){this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new oe,this.wl=t,this.Ui=e,this.l_=new $2(this);const n=e.W();this.a_=this.o_("left",n.leftPriceScale),this.__=this.o_("right",n.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(n)}c_(t){if(t.leftPriceScale&&this.a_.Nh(t.leftPriceScale),t.rightPriceScale&&this.__.Nh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales){const e=Array.from(this.s_.values());for(const n of e){const l=j(n[0].At());l.Nh(t.overlayPriceScales),t.localization&&l.Sa()}}}d_(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?ke(this.s_.get(t))[0].At():null}S(){this.qt().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach(t=>{t.S&&t.S()}),this.h_.m()}v_(){return this.r_}p_(t){this.r_=t}qt(){return this.Ui}$i(){return this.e_}zt(){return this.Qa}m_(t){this.e_=t,this.b_()}Oo(t){this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach(e=>{if(this.dr(e)){const n=e.At();n!==null&&n.Oo(t)}}),this.b_()}Ta(){return this._o}dr(t){const e=t.At();return e===null||this.a_!==e&&this.__!==e}Fo(t,e,n){const l=n!==void 0?n:this.g_().w_+1;this.M_(t,e,l)}jo(t){const e=this._o.indexOf(t);$n(e!==-1,"removeDataSource: invalid data source"),this._o.splice(e,1);const n=j(t.At()).xa();if(this.s_.has(n)){const o=ke(this.s_.get(n)),c=o.indexOf(t);c!==-1&&(o.splice(c,1),o.length===0&&this.s_.delete(n))}const l=t.At();l&&l.Ta().indexOf(t)>=0&&l.jo(t),l!==null&&(l.Wo(),this.x_(l)),this.uo=null}pr(t){return t===this.a_?"left":t===this.__?"right":"overlay"}S_(){return this.a_}k_(){return this.__}y_(t,e){t.Uo(e)}C_(t,e){t.qo(e),this.b_()}T_(t){t.Yo()}P_(t,e){t.Xo(e)}R_(t,e){t.Ko(e),this.b_()}D_(t){t.Zo()}b_(){this._o.forEach(t=>{t.On()})}vn(){let t=null;return this.Ui.W().rightPriceScale.visible&&this.__.Ta().length!==0?t=this.__:this.Ui.W().leftPriceScale.visible&&this.a_.Ta().length!==0?t=this.a_:this._o.length!==0&&(t=this._o[0].At()),t===null&&(t=this.__),t}vr(){let t=null;return this.Ui.W().rightPriceScale.visible?t=this.__:this.Ui.W().leftPriceScale.visible&&(t=this.a_),t}x_(t){t!==null&&t.yo()&&this.O_(t)}A_(t){const e=this.wl.Xs();t.So({Wn:!0}),e!==null&&t.t_(e),this.b_()}V_(){this.O_(this.a_),this.O_(this.__)}B_(){this.x_(this.a_),this.x_(this.__),this._o.forEach(t=>{this.dr(t)&&this.x_(t.At())}),this.b_(),this.Ui.Fh()}No(){return this.uo===null&&(this.uo=Jv(this._o)),this.uo}I_(){return this.h_}z_(){return this.l_}O_(t){const e=t.Qo();if(e&&e.length>0&&!this.wl.Fi()){const n=this.wl.Xs();n!==null&&t.t_(n)}t.On()}g_(){const t=this.No();if(t.length===0)return{E_:0,w_:0};let e=0,n=0;for(let l=0;l<t.length;l++){const o=t[l].Zi();o!==null&&(o<e&&(e=o),o>n&&(n=o))}return{E_:e,w_:n}}M_(t,e,n){let l=this.d_(e);if(l===null&&(l=this.o_(e,this.Ui.W().overlayPriceScales)),this._o.push(t),!Vu(e)){const o=this.s_.get(e)||[];o.push(t),this.s_.set(e,o)}l.Fo(t),t.Ji(l),t.Gi(n),this.x_(l),this.uo=null}u_(t,e,n){e.yr!==n.yr&&this.O_(t)}o_(t,e){const n=Object.assign({visible:!0,autoScale:!0},cn(e)),l=new ix(t,n,this.Ui.W().layout,this.Ui.W().localization);return l.Oo(this.zt()),l}}class sx{constructor(t,e,n=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.L_=t,this.N_=e,this.tr=n}F_(t){const e=t.time,n=this.N_.cacheKey(e),l=this.Qe.get(n);if(l!==void 0)return l.W_;if(this.Ke===this.tr){const c=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(ke(c)),this.Ge++,this.Ke--}const o=this.L_(t);return this.Qe.set(n,{W_:o,er:this.Ze}),this.Je.set(this.Ze,n),this.Ke++,this.Ze++,o}}class ga{constructor(t,e){$n(t<=e,"right should be >= left"),this.j_=t,this.H_=e}Os(){return this.j_}di(){return this.H_}U_(){return this.H_-this.j_+1}Kr(t){return this.j_<=t&&t<=this.H_}Mh(t){return this.j_===t.Os()&&this.H_===t.di()}}function Fy(r,t){return r===null||t===null?r===t:r.Mh(t)}class rx{constructor(){this.q_=new Map,this.Qe=null,this.Y_=!1}X_(t){this.Y_=t,this.Qe=null}K_(t,e){this.Z_(e),this.Qe=null;for(let n=e;n<t.length;++n){const l=t[n];let o=this.q_.get(l.timeWeight);o===void 0&&(o=[],this.q_.set(l.timeWeight,o)),o.push({index:n,time:l.time,weight:l.timeWeight,originalTime:l.originalTime})}}G_(t,e){const n=Math.ceil(e/t);return this.Qe!==null&&this.Qe.J_===n||(this.Qe={Ea:this.Q_(n),J_:n}),this.Qe.Ea}Z_(t){if(t===0)return void this.q_.clear();const e=[];this.q_.forEach((n,l)=>{t<=n[0].index?e.push(l):n.splice(Ra(n,t,o=>o.index<t),1/0)});for(const n of e)this.q_.delete(n)}Q_(t){let e=[];for(const n of Array.from(this.q_.keys()).sort((l,o)=>o-l)){if(!this.q_.get(n))continue;const l=e;e=[];const o=l.length;let c=0;const f=ke(this.q_.get(n)),d=f.length;let p=1/0,m=-1/0;for(let y=0;y<d;y++){const v=f[y],E=v.index;for(;c<o;){const S=l[c],A=S.index;if(!(A<E)){p=A;break}c++,e.push(S),m=A,p=1/0}if(p-E>=t&&E-m>=t)e.push(v),m=E;else if(this.Y_)return l}for(;c<o;c++)e.push(l[c])}return e}}class Vr{constructor(t){this.tu=t}iu(){return this.tu===null?null:new ga(Math.floor(this.tu.Os()),Math.ceil(this.tu.di()))}nu(){return this.tu}static su(){return new Vr(null)}}function lx(r,t){return r.weight>t.weight?r:t}class ax{constructor(t,e,n,l){this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new rx,this.lu=new Map,this.au=Vr.su(),this.ou=!0,this._u=new oe,this.uu=new oe,this.cu=new oe,this.du=null,this.fu=null,this.vu=[],this.cn=e,this.bo=n,this.pu=e.rightOffset,this.mu=e.barSpacing,this.Ui=t,this.N_=l,this.bu(),this.hu.X_(e.uniformDistribution)}W(){return this.cn}wu(t){Ni(this.bo,t),this.gu(),this.bu()}Nh(t,e){var n;Ni(this.cn,t),this.cn.fixLeftEdge&&this.Mu(),this.cn.fixRightEdge&&this.xu(),t.barSpacing!==void 0&&this.Ui.Gn(t.barSpacing),t.rightOffset!==void 0&&this.Ui.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.Ui.Gn((n=t.barSpacing)!==null&&n!==void 0?n:this.mu),this.gu(),this.bu(),this.cu.m()}mn(t){var e,n;return(n=(e=this.ru[t])===null||e===void 0?void 0:e.time)!==null&&n!==void 0?n:null}qi(t){var e;return(e=this.ru[t])!==null&&e!==void 0?e:null}ya(t,e){if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return e?this.ru.length-1:null;const n=Ra(this.ru,this.N_.key(t),(l,o)=>this.N_.key(l.time)<o);return this.N_.key(t)<this.N_.key(this.ru[n].time)?e?n:null:n}Fi(){return this.e_===0||this.ru.length===0||this.eu===null}ka(){return this.ru.length>0}Xs(){return this.Su(),this.au.iu()}ku(){return this.Su(),this.au.nu()}yu(){const t=this.Xs();if(t===null)return null;const e={from:t.Os(),to:t.di()};return this.Cu(e)}Cu(t){const e=Math.round(t.from),n=Math.round(t.to),l=j(this.Tu()),o=j(this.Pu());return{from:j(this.qi(Math.max(l,e))),to:j(this.qi(Math.min(o,n)))}}Ru(t){return{from:j(this.ya(t.from,!0)),to:j(this.ya(t.to,!0))}}$i(){return this.e_}m_(t){if(!isFinite(t)||t<=0||this.e_===t)return;const e=this.ku(),n=this.e_;if(this.e_=t,this.ou=!0,this.cn.lockVisibleTimeRangeOnResize&&n!==0){const l=this.mu*t/n;this.mu=l}if(this.cn.fixLeftEdge&&e!==null&&e.Os()<=0){const l=n-t;this.pu-=Math.round(l/this.mu)+1,this.ou=!0}this.Du(),this.Ou()}Et(t){if(this.Fi()||!ba(t))return 0;const e=this.Au()+this.pu-t;return this.e_-(e+.5)*this.mu-1}Js(t,e){const n=this.Au(),l=e===void 0?0:e.from,o=e===void 0?t.length:e.to;for(let c=l;c<o;c++){const f=t[c].ut,d=n+this.pu-f,p=this.e_-(d+.5)*this.mu-1;t[c].et=p}}Vu(t){return Math.ceil(this.Bu(t))}Jn(t){this.ou=!0,this.pu=t,this.Ou(),this.Ui.Iu(),this.Ui.Fh()}he(){return this.mu}Gn(t){this.zu(t),this.Ou(),this.Ui.Iu(),this.Ui.Fh()}Eu(){return this.pu}Ea(){if(this.Fi())return null;if(this.fu!==null)return this.fu;const t=this.mu,e=5*(this.Ui.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),n=Math.round(e/t),l=j(this.Xs()),o=Math.max(l.Os(),l.Os()-n),c=Math.max(l.di(),l.di()-n),f=this.hu.G_(t,e),d=this.Tu()+n,p=this.Pu()-n,m=this.Lu(),y=this.cn.fixLeftEdge||m,v=this.cn.fixRightEdge||m;let E=0;for(const S of f){if(!(o<=S.index&&S.index<=c))continue;let A;E<this.vu.length?(A=this.vu[E],A.coord=this.Et(S.index),A.label=this.Nu(S),A.weight=S.weight):(A={needAlignCoordinate:!1,coord:this.Et(S.index),label:this.Nu(S),weight:S.weight},this.vu.push(A)),this.mu>e/2&&!m?A.needAlignCoordinate=!1:A.needAlignCoordinate=y&&S.index<=d||v&&S.index>=p,E++}return this.vu.length=E,this.fu=this.vu,this.vu}Fu(){this.ou=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Wu(t){this.ou=!0,this.eu=t,this.Ou(),this.Mu()}ju(t,e){const n=this.Bu(t),l=this.he(),o=l+e*(l/10);this.Gn(o),this.cn.rightBarStaysOnScroll||this.Jn(this.Eu()+(n-this.Bu(t)))}Uo(t){this.fo&&this.Zo(),this.do===null&&this.du===null&&(this.Fi()||(this.do=t,this.Hu()))}qo(t){if(this.du===null)return;const e=cd(this.e_-t,0,this.e_),n=cd(this.e_-j(this.do),0,this.e_);e!==0&&n!==0&&this.Gn(this.du.he*e/n)}Yo(){this.do!==null&&(this.do=null,this.$u())}Xo(t){this.fo===null&&this.du===null&&(this.Fi()||(this.fo=t,this.Hu()))}Ko(t){if(this.fo===null)return;const e=(this.fo-t)/this.he();this.pu=j(this.du).Eu+e,this.ou=!0,this.Ou()}Zo(){this.fo!==null&&(this.fo=null,this.$u())}Uu(){this.qu(this.cn.rightOffset)}qu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.pu,l=performance.now();this.Ui.Xn({Yu:o=>(o-l)/e>=1,Xu:o=>{const c=(o-l)/e;return c>=1?t:n+(t-n)*c}})}gt(t,e){this.ou=!0,this.ru=t,this.hu.K_(t,e),this.Ou()}Ku(){return this._u}Zu(){return this.uu}Gu(){return this.cu}Au(){return this.eu||0}Ju(t){const e=t.U_();this.zu(this.e_/e),this.pu=t.di()-this.Au(),this.Ou(),this.ou=!0,this.Ui.Iu(),this.Ui.Fh()}Qu(){const t=this.Tu(),e=this.Pu();t!==null&&e!==null&&this.Ju(new ga(t,e+this.cn.rightOffset))}tc(t){const e=new ga(t.from,t.to);this.Ju(e)}Yi(t){return this.bo.timeFormatter!==void 0?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}Lu(){const{handleScroll:t,handleScale:e}=this.Ui.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Tu(){return this.ru.length===0?null:0}Pu(){return this.ru.length===0?null:this.ru.length-1}ic(t){return(this.e_-1-t)/this.mu}Bu(t){const e=this.ic(t),n=this.Au()+this.pu-e;return Math.round(1e6*n)/1e6}zu(t){const e=this.mu;this.mu=t,this.Du(),e!==this.mu&&(this.ou=!0,this.nc())}Su(){if(!this.ou)return;if(this.ou=!1,this.Fi())return void this.sc(Vr.su());const t=this.Au(),e=this.e_/this.mu,n=this.pu+t,l=new ga(n-e+1,n);this.sc(new Vr(l))}Du(){const t=this.ec();if(this.mu<t&&(this.mu=t,this.ou=!0),this.e_!==0){const e=.5*this.e_;this.mu>e&&(this.mu=e,this.ou=!0)}}ec(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.ru.length!==0?this.e_/this.ru.length:this.cn.minBarSpacing}Ou(){const t=this.rc();this.pu>t&&(this.pu=t,this.ou=!0);const e=this.hc();e!==null&&this.pu<e&&(this.pu=e,this.ou=!0)}hc(){const t=this.Tu(),e=this.eu;return t===null||e===null?null:t-e-1+(this.cn.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}rc(){return this.cn.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}Hu(){this.du={he:this.he(),Eu:this.Eu()}}$u(){this.du=null}Nu(t){let e=this.lu.get(t.weight);return e===void 0&&(e=new sx(n=>this.lc(n),this.N_),this.lu.set(t.weight,e)),e.F_(t)}lc(t){return this.N_.formatTickmark(t,this.bo)}sc(t){const e=this.au;this.au=t,Fy(e.iu(),this.au.iu())||this._u.m(),Fy(e.nu(),this.au.nu())||this.uu.m(),this.nc()}nc(){this.fu=null}gu(){this.nc(),this.lu.clear()}bu(){this.N_.updateFormatter(this.bo)}Mu(){if(!this.cn.fixLeftEdge)return;const t=this.Tu();if(t===null)return;const e=this.Xs();if(e===null)return;const n=e.Os()-t;if(n<0){const l=this.pu-n-1;this.Jn(l)}this.Du()}xu(){this.Ou(),this.Du()}}class ox extends Gd{constructor(t){super(),this.ac=new Map,this.Lt=t}Z(t){}J(t){if(!this.Lt.Tt)return;const{context:e,mediaSize:n}=t;let l=0;for(const c of this.Lt.oc){if(c.Jt.length===0)continue;e.font=c.R;const f=this._c(e,c.Jt);f>n.width?c.ju=n.width/f:c.ju=1,l+=c.uc*c.ju}let o=0;switch(this.Lt.cc){case"top":o=0;break;case"center":o=Math.max((n.height-l)/2,0);break;case"bottom":o=Math.max(n.height-l,0)}e.fillStyle=this.Lt.O;for(const c of this.Lt.oc){e.save();let f=0;switch(this.Lt.dc){case"left":e.textAlign="left",f=c.uc/2;break;case"center":e.textAlign="center",f=n.width/2;break;case"right":e.textAlign="right",f=n.width-1-c.uc/2}e.translate(f,o),e.textBaseline="top",e.font=c.R,e.scale(c.ju,c.ju),e.fillText(c.Jt,0,c.fc),e.restore(),o+=c.uc*c.ju}}_c(t,e){const n=this.vc(t.font);let l=n.get(e);return l===void 0&&(l=t.measureText(e).width,n.set(e,l)),l}vc(t){let e=this.ac.get(t);return e===void 0&&(e=new Map,this.ac.set(t,e)),e}}class ux{constructor(t){this.bt=!0,this.jt={Tt:!1,O:"",oc:[],cc:"center",dc:"center"},this.Ht=new ox(this.jt),this.$t=t}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht}St(){const t=this.$t.W(),e=this.jt;e.Tt=t.visible,e.Tt&&(e.O=t.color,e.dc=t.horzAlign,e.cc=t.vertAlign,e.oc=[{Jt:t.text,R:Kr(t.fontSize,t.fontFamily,t.fontStyle),uc:1.2*t.fontSize,fc:0,ju:0}])}}class cx extends Vd{constructor(t,e){super(),this.cn=e,this.wn=new ux(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}On(){this.wn.gt()}}var Iy,Qy,qy,jy,Yy;(function(r){r[r.OnTouchEnd=0]="OnTouchEnd",r[r.OnNextTap=1]="OnNextTap"})(Iy||(Iy={}));class hx{constructor(t,e,n){this.mc=[],this.bc=[],this.e_=0,this.wc=null,this.gc=new oe,this.Mc=new oe,this.xc=null,this.Sc=t,this.cn=e,this.N_=n,this.kc=new QS(this),this.wl=new ax(this,e.timeScale,this.cn.localization,n),this.wt=new e2(this,e.crosshair),this.yc=new X2(e.crosshair),this.Cc=new cx(this,e.watermark),this.Tc(),this.mc[0].p_(2e3),this.Pc=this.Rc(0),this.Dc=this.Rc(1)}$l(){this.Oc(xe.es())}Fh(){this.Oc(xe.ss())}sa(){this.Oc(new xe(1))}Ul(t){const e=this.Ac(t);this.Oc(e)}Vc(){return this.wc}Bc(t){const e=this.wc;this.wc=t,e!==null&&this.Ul(e.Ic),t!==null&&this.Ul(t.Ic)}W(){return this.cn}Nh(t){Ni(this.cn,t),this.mc.forEach(e=>e.c_(t)),t.timeScale!==void 0&&this.wl.Nh(t.timeScale),t.localization!==void 0&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.gc.m(),this.Pc=this.Rc(0),this.Dc=this.Rc(1),this.$l()}zc(t,e){if(t==="left")return void this.Nh({leftPriceScale:e});if(t==="right")return void this.Nh({rightPriceScale:e});const n=this.Ec(t);n!==null&&(n.At.Nh(e),this.gc.m())}Ec(t){for(const e of this.mc){const n=e.d_(t);if(n!==null)return{Ut:e,At:n}}return null}yt(){return this.wl}Lc(){return this.mc}Nc(){return this.Cc}Fc(){return this.wt}Wc(){return this.Mc}jc(t,e){t.Oo(e),this.Iu()}m_(t){this.e_=t,this.wl.m_(this.e_),this.mc.forEach(e=>e.m_(t)),this.Iu()}Tc(t){const e=new nx(this.wl,this);t!==void 0?this.mc.splice(t,0,e):this.mc.push(e);const n=t===void 0?this.mc.length-1:t,l=xe.es();return l.Nn(n,{Fn:0,Wn:!0}),this.Oc(l),e}y_(t,e,n){t.y_(e,n)}C_(t,e,n){t.C_(e,n),this.ql(),this.Oc(this.Hc(t,2))}T_(t,e){t.T_(e),this.Oc(this.Hc(t,2))}P_(t,e,n){e.yo()||t.P_(e,n)}R_(t,e,n){e.yo()||(t.R_(e,n),this.ql(),this.Oc(this.Hc(t,2)))}D_(t,e){e.yo()||(t.D_(e),this.Oc(this.Hc(t,2)))}A_(t,e){t.A_(e),this.Oc(this.Hc(t,2))}$c(t){this.wl.Uo(t)}Uc(t,e){const n=this.yt();if(n.Fi()||e===0)return;const l=n.$i();t=Math.max(1,Math.min(t,l)),n.ju(t,e),this.Iu()}qc(t){this.Yc(0),this.Xc(t),this.Kc()}Zc(t){this.wl.qo(t),this.Iu()}Gc(){this.wl.Yo(),this.Fh()}Yc(t){this.wl.Xo(t)}Xc(t){this.wl.Ko(t),this.Iu()}Kc(){this.wl.Zo(),this.Fh()}Mt(){return this.bc}Jc(t,e,n,l,o){this.wt.gn(t,e);let c=NaN,f=this.wl.Vu(t);const d=this.wl.Xs();d!==null&&(f=Math.min(Math.max(d.Os(),f),d.di()));const p=l.vn(),m=p.Pt();m!==null&&(c=p.pn(e,m)),c=this.yc.Ca(c,f,l),this.wt.kn(f,c,l),this.sa(),o||this.Mc.m(this.wt.kt(),{x:t,y:e},n)}Qc(t,e,n){const l=n.vn(),o=l.Pt(),c=l.Ot(t,j(o)),f=this.wl.ya(e,!0),d=this.wl.Et(j(f));this.Jc(d,c,null,n,!0)}td(t){this.Fc().Cn(),this.sa(),t||this.Mc.m(null,null,null)}ql(){const t=this.wt.Ut();if(t!==null){const e=this.wt.xn(),n=this.wt.Sn();this.Jc(e,n,null,t)}this.wt.On()}nd(t,e,n){const l=this.wl.mn(0);e!==void 0&&n!==void 0&&this.wl.gt(e,n);const o=this.wl.mn(0),c=this.wl.Au(),f=this.wl.Xs();if(f!==null&&l!==null&&o!==null){const d=f.Kr(c),p=this.N_.key(l)>this.N_.key(o),m=t!==null&&t>c&&!p,y=this.wl.W().allowShiftVisibleRangeOnWhitespaceReplacement,v=d&&(n!==void 0||y)&&this.wl.W().shiftVisibleRangeOnNewBar;if(m&&!v){const E=t-c;this.wl.Jn(this.wl.Eu()-E)}}this.wl.Wu(t)}Kl(t){t!==null&&t.B_()}cr(t){const e=this.mc.find(n=>n.No().includes(t));return e===void 0?null:e}Iu(){this.Cc.On(),this.mc.forEach(t=>t.B_()),this.ql()}S(){this.mc.forEach(t=>t.S()),this.mc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}sd(){return this.kc}mr(){return this.kc.W()}f_(){return this.gc}ed(t,e,n){const l=this.mc[0],o=this.rd(e,t,l,n);return this.bc.push(o),this.bc.length===1?this.$l():this.Fh(),o}hd(t){const e=this.cr(t),n=this.bc.indexOf(t);$n(n!==-1,"Series not found"),this.bc.splice(n,1),j(e).jo(t),t.S&&t.S()}Hl(t,e){const n=j(this.cr(t));n.jo(t);const l=this.Ec(e);if(l===null){const o=t.Zi();n.Fo(t,e,o)}else{const o=l.Ut===n?t.Zi():void 0;l.Ut.Fo(t,e,o)}}Qu(){const t=xe.ss();t.$n(),this.Oc(t)}ld(t){const e=xe.ss();e.Yn(t),this.Oc(e)}Zn(){const t=xe.ss();t.Zn(),this.Oc(t)}Gn(t){const e=xe.ss();e.Gn(t),this.Oc(e)}Jn(t){const e=xe.ss();e.Jn(t),this.Oc(e)}Xn(t){const e=xe.ss();e.Xn(t),this.Oc(e)}Un(){const t=xe.ss();t.Un(),this.Oc(t)}ad(){return this.cn.rightPriceScale.visible?"right":"left"}od(){return this.Dc}q(){return this.Pc}It(t){const e=this.Dc,n=this.Pc;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.xc===null||this.xc.Ts!==n||this.xc.Ps!==e)this.xc={Ts:n,Ps:e,_d:new Map};else{const o=this.xc._d.get(t);if(o!==void 0)return o}const l=function(o,c,f){const[d,p,m,y]=Tu(o),[v,E,S,A]=Tu(c),M=[mi(d+f*(v-d)),mi(p+f*(E-p)),mi(m+f*(S-m)),Lv(y+f*(A-y))];return`rgba(${M[0]}, ${M[1]}, ${M[2]}, ${M[3]})`}(n,e,t/100);return this.xc._d.set(t,l),l}Hc(t,e){const n=new xe(e);if(t!==null){const l=this.mc.indexOf(t);n.Nn(l,{Fn:e})}return n}Ac(t,e){return e===void 0&&(e=2),this.Hc(this.cr(t),e)}Oc(t){this.Sc&&this.Sc(t),this.mc.forEach(e=>e.z_().Wh().gt())}rd(t,e,n,l){const o=new qd(this,t,e,n,l),c=t.priceScaleId!==void 0?t.priceScaleId:this.ad();return n.Fo(o,c),Vu(c)||o.Nh(t),o}Rc(t){const e=this.cn.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function hd(r){return!Fi(r)&&!Ba(r)}function Xv(r){return Fi(r)}(function(r){r[r.Disabled=0]="Disabled",r[r.Continuous=1]="Continuous",r[r.OnDataUpdate=2]="OnDataUpdate"})(Qy||(Qy={})),function(r){r[r.LastBar=0]="LastBar",r[r.LastVisible=1]="LastVisible"}(qy||(qy={})),function(r){r.Solid="solid",r.VerticalGradient="gradient"}(jy||(jy={})),function(r){r[r.Year=0]="Year",r[r.Month=1]="Month",r[r.DayOfMonth=2]="DayOfMonth",r[r.Time=3]="Time",r[r.TimeWithSeconds=4]="TimeWithSeconds"}(Yy||(Yy={}));const Ky=r=>r.getUTCFullYear();function fx(r,t,e){return t.replace(/yyyy/g,(n=>hn(Ky(n),4))(r)).replace(/yy/g,(n=>hn(Ky(n)%100,2))(r)).replace(/MMMM/g,((n,l)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(l,{month:"long"}))(r,e)).replace(/MMM/g,((n,l)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(l,{month:"short"}))(r,e)).replace(/MM/g,(n=>hn((l=>l.getUTCMonth()+1)(n),2))(r)).replace(/dd/g,(n=>hn((l=>l.getUTCDate())(n),2))(r))}class Zv{constructor(t="yyyy-MM-dd",e="default"){this.ud=t,this.dd=e}F_(t){return fx(t,this.ud,this.dd)}}class dx{constructor(t){this.fd=t||"%h:%m:%s"}F_(t){return this.fd.replace("%h",hn(t.getUTCHours(),2)).replace("%m",hn(t.getUTCMinutes(),2)).replace("%s",hn(t.getUTCSeconds(),2))}}const gx={vd:"yyyy-MM-dd",pd:"%h:%m:%s",md:" ",bd:"default"};class px{constructor(t={}){const e=Object.assign(Object.assign({},gx),t);this.wd=new Zv(e.vd,e.bd),this.gd=new dx(e.pd),this.Md=e.md}F_(t){return`${this.wd.F_(t)}${this.Md}${this.gd.F_(t)}`}}function lu(r){return 60*r*60*1e3}function Lf(r){return 60*r*1e3}const au=[{xd:(Jy=1,1e3*Jy),Sd:10},{xd:Lf(1),Sd:20},{xd:Lf(5),Sd:21},{xd:Lf(30),Sd:22},{xd:lu(1),Sd:30},{xd:lu(3),Sd:31},{xd:lu(6),Sd:32},{xd:lu(12),Sd:33}];var Jy;function Xy(r,t){if(r.getUTCFullYear()!==t.getUTCFullYear())return 70;if(r.getUTCMonth()!==t.getUTCMonth())return 60;if(r.getUTCDate()!==t.getUTCDate())return 50;for(let e=au.length-1;e>=0;--e)if(Math.floor(t.getTime()/au[e].xd)!==Math.floor(r.getTime()/au[e].xd))return au[e].Sd;return 0}function _f(r){let t=r;if(Ba(r)&&(t=jd(r)),!hd(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{kd:Math.round(e.getTime()/1e3),yd:t}}function Zy(r){if(!Xv(r))throw new Error("time must be of type isUTCTimestamp");return{kd:r}}function jd(r){const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${r}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Wy(r){Ba(r.time)&&(r.time=jd(r.time))}class $y{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(Wy)}(t):Wy(t)}createConverterToInternalObj(t){return j(function(e){return e.length===0?null:hd(e[0].time)||Ba(e[0].time)?_f:Zy}(t))}key(t){return typeof t=="object"&&"kd"in t?t.kd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.yd===void 0?new Date(1e3*e.kd).getTime():new Date(Date.UTC(e.yd.year,e.yd.month-1,e.yd.day)).getTime()}convertHorzItemToInternal(t){return Xv(e=t)?Zy(e):hd(e)?_f(e):_f(jd(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Cd=new px({vd:e,pd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",md:"   ",bd:t.locale}):this.Cd=new Zv(e,t.locale)}formatHorzItem(t){const e=t;return this.Cd.F_(new Date(1e3*e.kd))}formatTickmark(t,e){const n=function(o,c,f){switch(o){case 0:case 10:return c?f?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),l=this.cn.timeScale;if(l.tickMarkFormatter!==void 0){const o=l.tickMarkFormatter(t.originalTime,n,e.locale);if(o!==null)return o}return function(o,c,f){const d={};switch(c){case 0:d.year="numeric";break;case 1:d.month="short";break;case 2:d.day="numeric";break;case 3:d.hour12=!1,d.hour="2-digit",d.minute="2-digit";break;case 4:d.hour12=!1,d.hour="2-digit",d.minute="2-digit",d.second="2-digit"}const p=o.yd===void 0?new Date(1e3*o.kd):new Date(Date.UTC(o.yd.year,o.yd.month-1,o.yd.day));return new Date(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()).toLocaleString(f,d)}(t.time,n,e.locale)}maxTickMarkWeight(t){let e=t.reduce(lx,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(n,l=0){if(n.length===0)return;let o=l===0?null:n[l-1].time.kd,c=o!==null?new Date(1e3*o):null,f=0;for(let d=l;d<n.length;++d){const p=n[d],m=new Date(1e3*p.time.kd);c!==null&&(p.timeWeight=Xy(m,c)),f+=p.time.kd-(o||p.time.kd),o=p.time.kd,c=m}if(l===0&&n.length>1){const d=Math.ceil(f/(n.length-1)),p=new Date(1e3*(n[0].time.kd-d));n[0].timeWeight=Xy(new Date(1e3*n[0].time.kd),p)}})(t,e)}static Td(t){return Ni({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const Jr=typeof window<"u";function tb(){return!!Jr&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Uf(){return!!Jr&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function fd(r){return r+r%2}function Df(r,t){return r.Pd-t.Pd}function zf(r,t,e){const n=(r.Pd-t.Pd)/(r.ut-t.ut);return Math.sign(n)*Math.min(Math.abs(n),e)}class mx{constructor(t,e,n,l){this.Rd=null,this.Dd=null,this.Od=null,this.Ad=null,this.Vd=null,this.Bd=0,this.Id=0,this.zd=t,this.Ed=e,this.Ld=n,this.rs=l}Nd(t,e){if(this.Rd!==null){if(this.Rd.ut===e)return void(this.Rd.Pd=t);if(Math.abs(this.Rd.Pd-t)<this.rs)return}this.Ad=this.Od,this.Od=this.Dd,this.Dd=this.Rd,this.Rd={ut:e,Pd:t}}Dr(t,e){if(this.Rd===null||this.Dd===null||e-this.Rd.ut>50)return;let n=0;const l=zf(this.Rd,this.Dd,this.Ed),o=Df(this.Rd,this.Dd),c=[l],f=[o];if(n+=o,this.Od!==null){const p=zf(this.Dd,this.Od,this.Ed);if(Math.sign(p)===Math.sign(l)){const m=Df(this.Dd,this.Od);if(c.push(p),f.push(m),n+=m,this.Ad!==null){const y=zf(this.Od,this.Ad,this.Ed);if(Math.sign(y)===Math.sign(l)){const v=Df(this.Od,this.Ad);c.push(y),f.push(v),n+=v}}}}let d=0;for(let p=0;p<c.length;++p)d+=f[p]/n*c[p];Math.abs(d)<this.zd||(this.Vd={Pd:t,ut:e},this.Id=d,this.Bd=function(p,m){const y=Math.log(m);return Math.log(1*y/-p)/y}(Math.abs(d),this.Ld))}Xu(t){const e=j(this.Vd),n=t-e.ut;return e.Pd+this.Id*(Math.pow(this.Ld,n)-1)/Math.log(this.Ld)}Yu(t){return this.Vd===null||this.Fd(t)===this.Bd}Fd(t){const e=t-j(this.Vd).ut;return Math.min(e,this.Bd)}}function Ps(r,t){const e=j(r.ownerDocument).createElement("canvas");r.appendChild(e);const n=CS(e,{options:{allowResizeObserver:!1},transform:(l,o)=>({width:Math.max(l.width,o.width),height:Math.max(l.height,o.height)})});return n.resizeCanvasElement(t),n}function Hs(r){var t;r.width=1,r.height=1,(t=r.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function dd(r,t,e,n){r.G&&r.G(t,e,n)}function Au(r,t,e,n){r.K(t,e,n)}function gd(r,t,e,n){const l=r(e,n);for(const o of l){const c=o.xt();c!==null&&t(c)}}function yx(r){Jr&&window.chrome!==void 0&&r.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Yd{constructor(t,e,n){this.Wd=0,this.jd=null,this.Hd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.$d=0,this.Ud=null,this.qd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.Yd=null,this.Xd=!1,this.Kd=null,this.Zd=null,this.Gd=!1,this.Jd=!1,this.Qd=!1,this.tf=null,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=null,this.lf=0,this.af=!1,this._f=!1,this.uf=!1,this.cf=0,this.df=null,this.ff=!Uf(),this.vf=l=>{this.pf(l)},this.mf=l=>{if(this.bf(l)){const o=this.wf(l);if(++this.$d,this.Ud&&this.$d>1){const{gf:c}=this.Mf(Pi(l),this.qd);c<30&&!this.Qd&&this.xf(o,this.kf.Sf),this.yf()}}else{const o=this.wf(l);if(++this.Wd,this.jd&&this.Wd>1){const{gf:c}=this.Mf(Pi(l),this.Hd);c<5&&!this.Jd&&this.Cf(o,this.kf.Tf),this.Pf()}}},this.Rf=t,this.kf=e,this.cn=n,this.Df()}S(){this.tf!==null&&(this.tf(),this.tf=null),this.if!==null&&(this.if(),this.if=null),this.sf!==null&&(this.sf(),this.sf=null),this.ef!==null&&(this.ef(),this.ef=null),this.rf!==null&&(this.rf(),this.rf=null),this.nf!==null&&(this.nf(),this.nf=null),this.Of(),this.Pf()}Af(t){this.sf&&this.sf();const e=this.Vf.bind(this);if(this.sf=()=>{this.Rf.removeEventListener("mousemove",e)},this.Rf.addEventListener("mousemove",e),this.bf(t))return;const n=this.wf(t);this.Cf(n,this.kf.Bf),this.ff=!0}Pf(){this.jd!==null&&clearTimeout(this.jd),this.Wd=0,this.jd=null,this.Hd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}yf(){this.Ud!==null&&clearTimeout(this.Ud),this.$d=0,this.Ud=null,this.qd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}Vf(t){if(this.uf||this.Zd!==null||this.bf(t))return;const e=this.wf(t);this.Cf(e,this.kf.If),this.ff=!0}zf(t){const e=kf(t.changedTouches,j(this.df));if(e===null||(this.cf=ou(t),this.hf!==null)||this._f)return;this.af=!0;const n=this.Mf(Pi(e),j(this.Zd)),{Ef:l,Lf:o,gf:c}=n;if(this.Gd||!(c<5)){if(!this.Gd){const f=.5*l,d=o>=f&&!this.cn.Nf(),p=f>o&&!this.cn.Ff();d||p||(this._f=!0),this.Gd=!0,this.Qd=!0,this.Of(),this.yf()}if(!this._f){const f=this.wf(t,e);this.xf(f,this.kf.Wf),Rr(t)}}}jf(t){if(t.button!==0)return;const e=this.Mf(Pi(t),j(this.Kd)),{gf:n}=e;if(n>=5&&(this.Jd=!0,this.Pf()),this.Jd){const l=this.wf(t);this.Cf(l,this.kf.Hf)}}Mf(t,e){const n=Math.abs(e.et-t.et),l=Math.abs(e.rt-t.rt);return{Ef:n,Lf:l,gf:n+l}}$f(t){let e=kf(t.changedTouches,j(this.df));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.df=null,this.cf=ou(t),this.Of(),this.Zd=null,this.rf&&(this.rf(),this.rf=null);const n=this.wf(t,e);if(this.xf(n,this.kf.Uf),++this.$d,this.Ud&&this.$d>1){const{gf:l}=this.Mf(Pi(e),this.qd);l<30&&!this.Qd&&this.xf(n,this.kf.Sf),this.yf()}else this.Qd||(this.xf(n,this.kf.qf),this.kf.qf&&Rr(t));this.$d===0&&Rr(t),t.touches.length===0&&this.Xd&&(this.Xd=!1,Rr(t))}pf(t){if(t.button!==0)return;const e=this.wf(t);if(this.Kd=null,this.uf=!1,this.ef&&(this.ef(),this.ef=null),tb()&&this.Rf.ownerDocument.documentElement.removeEventListener("mouseleave",this.vf),!this.bf(t))if(this.Cf(e,this.kf.Yf),++this.Wd,this.jd&&this.Wd>1){const{gf:n}=this.Mf(Pi(t),this.Hd);n<5&&!this.Jd&&this.Cf(e,this.kf.Tf),this.Pf()}else this.Jd||this.Cf(e,this.kf.Xf)}Of(){this.Yd!==null&&(clearTimeout(this.Yd),this.Yd=null)}Kf(t){if(this.df!==null)return;const e=t.changedTouches[0];this.df=e.identifier,this.cf=ou(t);const n=this.Rf.ownerDocument.documentElement;this.Qd=!1,this.Gd=!1,this._f=!1,this.Zd=Pi(e),this.rf&&(this.rf(),this.rf=null);{const o=this.zf.bind(this),c=this.$f.bind(this);this.rf=()=>{n.removeEventListener("touchmove",o),n.removeEventListener("touchend",c)},n.addEventListener("touchmove",o,{passive:!1}),n.addEventListener("touchend",c,{passive:!1}),this.Of(),this.Yd=setTimeout(this.Zf.bind(this,t),240)}const l=this.wf(t,e);this.xf(l,this.kf.Gf),this.Ud||(this.$d=0,this.Ud=setTimeout(this.yf.bind(this),500),this.qd=Pi(e))}Jf(t){if(t.button!==0)return;const e=this.Rf.ownerDocument.documentElement;tb()&&e.addEventListener("mouseleave",this.vf),this.Jd=!1,this.Kd=Pi(t),this.ef&&(this.ef(),this.ef=null);{const l=this.jf.bind(this),o=this.pf.bind(this);this.ef=()=>{e.removeEventListener("mousemove",l),e.removeEventListener("mouseup",o)},e.addEventListener("mousemove",l),e.addEventListener("mouseup",o)}if(this.uf=!0,this.bf(t))return;const n=this.wf(t);this.Cf(n,this.kf.Qf),this.jd||(this.Wd=0,this.jd=setTimeout(this.Pf.bind(this),500),this.Hd=Pi(t))}Df(){this.Rf.addEventListener("mouseenter",this.Af.bind(this)),this.Rf.addEventListener("touchcancel",this.Of.bind(this));{const t=this.Rf.ownerDocument,e=n=>{this.kf.tv&&(n.composed&&this.Rf.contains(n.composedPath()[0])||n.target&&this.Rf.contains(n.target)||this.kf.tv())};this.if=()=>{t.removeEventListener("touchstart",e)},this.tf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Uf()&&(this.nf=()=>{this.Rf.removeEventListener("dblclick",this.mf)},this.Rf.addEventListener("dblclick",this.mf)),this.Rf.addEventListener("mouseleave",this.iv.bind(this)),this.Rf.addEventListener("touchstart",this.Kf.bind(this),{passive:!0}),yx(this.Rf),this.Rf.addEventListener("mousedown",this.Jf.bind(this)),this.nv(),this.Rf.addEventListener("touchmove",()=>{},{passive:!1})}nv(){this.kf.sv===void 0&&this.kf.ev===void 0&&this.kf.rv===void 0||(this.Rf.addEventListener("touchstart",t=>this.hv(t.touches),{passive:!0}),this.Rf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.hf!==null&&this.kf.ev!==void 0){const e=eb(t.touches[0],t.touches[1])/this.lf;this.kf.ev(this.hf,e),Rr(t)}},{passive:!1}),this.Rf.addEventListener("touchend",t=>{this.hv(t.touches)}))}hv(t){t.length===1&&(this.af=!1),t.length!==2||this.af||this.Xd?this.lv():this.av(t)}av(t){const e=this.Rf.getBoundingClientRect()||{left:0,top:0};this.hf={et:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,rt:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.lf=eb(t[0],t[1]),this.kf.sv!==void 0&&this.kf.sv(),this.Of()}lv(){this.hf!==null&&(this.hf=null,this.kf.rv!==void 0&&this.kf.rv())}iv(t){if(this.sf&&this.sf(),this.bf(t)||!this.ff)return;const e=this.wf(t);this.Cf(e,this.kf.ov),this.ff=!Uf()}Zf(t){const e=kf(t.touches,j(this.df));if(e===null)return;const n=this.wf(t,e);this.xf(n,this.kf._v),this.Qd=!0,this.Xd=!0}bf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:ou(t)<this.cf+500}xf(t,e){e&&e.call(this.kf,t)}Cf(t,e){e&&e.call(this.kf,t)}wf(t,e){const n=e||t,l=this.Rf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-l.left,localY:n.clientY-l.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,uv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",cv:t.type,dv:n.target,fv:t.view,vv:()=>{t.type!=="touchstart"&&Rr(t)}}}}function eb(r,t){const e=r.clientX-t.clientX,n=r.clientY-t.clientY;return Math.sqrt(e*e+n*n)}function Rr(r){r.cancelable&&r.preventDefault()}function Pi(r){return{et:r.pageX,rt:r.pageY}}function ou(r){return r.timeStamp||performance.now()}function kf(r,t){for(let e=0;e<r.length;++e)if(r[e].identifier===t)return r[e];return null}function uu(r){return{Ic:r.Ic,pv:{wr:r.mv.externalId},bv:r.mv.cursorStyle}}function bx(r,t,e){for(const n of r){const l=n.xt();if(l!==null&&l.br){const o=l.br(t,e);if(o!==null)return{fv:n,pv:o}}}return null}function Pf(r,t){return e=>{var n,l,o,c;return((l=(n=e.At())===null||n===void 0?void 0:n.xa())!==null&&l!==void 0?l:"")!==t?[]:(c=(o=e.la)===null||o===void 0?void 0:o.call(e,r))!==null&&c!==void 0?c:[]}}class ib{constructor(t,e,n,l){this.Li=null,this.wv=null,this.gv=!1,this.Mv=new wa(200),this.Gr=null,this.xv=0,this.Sv=!1,this.kv=()=>{this.Sv||this.nn.yv().qt().Fh()},this.Cv=()=>{this.Sv||this.nn.yv().qt().Fh()},this.nn=t,this.cn=e,this.mo=e.layout,this.kc=n,this.Tv=l==="left",this.Pv=Pf("normal",l),this.Rv=Pf("top",l),this.Dv=Pf("bottom",l),this.Ov=document.createElement("div"),this.Ov.style.height="100%",this.Ov.style.overflow="hidden",this.Ov.style.width="25px",this.Ov.style.left="0",this.Ov.style.position="relative",this.Av=Ps(this.Ov,qt({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);const o=this.Av.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Vv=Ps(this.Ov,qt({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);const c=this.Vv.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const f={Qf:this.Bv.bind(this),Gf:this.Bv.bind(this),Hf:this.Iv.bind(this),Wf:this.Iv.bind(this),tv:this.zv.bind(this),Yf:this.Ev.bind(this),Uf:this.Ev.bind(this),Tf:this.Lv.bind(this),Sf:this.Lv.bind(this),Bf:this.Nv.bind(this),ov:this.Fv.bind(this)};this.Wv=new Yd(this.Vv.canvasElement,f,{Nf:()=>!this.cn.handleScroll.vertTouchDrag,Ff:()=>!0})}S(){this.Wv.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),Hs(this.Vv.canvasElement),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),Hs(this.Av.canvasElement),this.Av.dispose(),this.Li!==null&&this.Li.$o().p(this),this.Li=null}jv(){return this.Ov}P(){return this.mo.fontSize}Hv(){const t=this.kc.W();return this.Gr!==t.R&&(this.Mv.ir(),this.Gr=t.R),t}$v(){if(this.Li===null)return 0;let t=0;const e=this.Hv(),n=j(this.Av.canvasElement.getContext("2d"));n.save();const l=this.Li.Ea();n.font=this.Uv(),l.length>0&&(t=Math.max(this.Mv.Si(n,l[0].Za),this.Mv.Si(n,l[l.length-1].Za)));const o=this.qv();for(let d=o.length;d--;){const p=this.Mv.Si(n,o[d].Jt());p>t&&(t=p)}const c=this.Li.Pt();if(c!==null&&this.wv!==null){const d=this.Li.pn(1,c),p=this.Li.pn(this.wv.height-2,c);t=Math.max(t,this.Mv.Si(n,this.Li.Wi(Math.floor(Math.min(d,p))+.11111111111111,c)),this.Mv.Si(n,this.Li.Wi(Math.ceil(Math.max(d,p))-.11111111111111,c)))}n.restore();const f=t||34;return fd(Math.ceil(e.C+e.T+e.B+e.I+5+f))}Yv(t){this.wv!==null&&_s(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.Ov.style.width=`${t.width}px`,this.Ov.style.height=`${t.height}px`)}Xv(){return j(this.wv).width}Ji(t){this.Li!==t&&(this.Li!==null&&this.Li.$o().p(this),this.Li=t,t.$o().l(this.ao.bind(this),this))}At(){return this.Li}ir(){const t=this.nn.Kv();this.nn.yv().qt().A_(t,j(this.At()))}Zv(t){if(this.wv===null)return;if(t!==1){this.Gv(),this.Av.applySuggestedBitmapSize();const n=zs(this.Av);n!==null&&(n.useBitmapCoordinateSpace(l=>{this.Jv(l),this.Be(l)}),this.nn.Qv(n,this.Dv),this.tp(n),this.nn.Qv(n,this.Pv),this.ip(n))}this.Vv.applySuggestedBitmapSize();const e=zs(this.Vv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:l})=>{n.clearRect(0,0,l.width,l.height)}),this.np(e),this.nn.Qv(e,this.Rv))}sp(){return this.Av.bitmapSize}ep(t,e,n){const l=this.sp();l.width>0&&l.height>0&&t.drawImage(this.Av.canvasElement,e,n)}gt(){var t;(t=this.Li)===null||t===void 0||t.Ea()}Bv(t){if(this.Li===null||this.Li.Fi()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.nn.yv().qt(),n=this.nn.Kv();this.gv=!0,e.y_(n,this.Li,t.localY)}Iv(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.nn.yv().qt(),n=this.nn.Kv(),l=this.Li;e.C_(n,l,t.localY)}zv(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.nn.yv().qt(),e=this.nn.Kv(),n=this.Li;this.gv&&(this.gv=!1,t.T_(e,n))}Ev(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.nn.yv().qt(),n=this.nn.Kv();this.gv=!1,e.T_(n,this.Li)}Lv(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}Nv(t){this.Li!==null&&(!this.nn.yv().qt().W().handleScale.axisPressedMouseMove.price||this.Li.ph()||this.Li.Co()||this.rp(1))}Fv(t){this.rp(0)}qv(){const t=[],e=this.Li===null?void 0:this.Li;return(n=>{for(let l=0;l<n.length;++l){const o=n[l].Rn(this.nn.Kv(),e);for(let c=0;c<o.length;c++)t.push(o[c])}})(this.nn.Kv().No()),t}Jv({context:t,bitmapSize:e}){const{width:n,height:l}=e,o=this.nn.Kv().qt(),c=o.q(),f=o.od();c===f?Hu(t,0,0,n,l,c):_v(t,0,0,n,l,c,f)}Be({context:t,bitmapSize:e,horizontalPixelRatio:n}){if(this.wv===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const l=Math.max(1,Math.floor(this.Hv().C*n));let o;o=this.Tv?e.width-l:0,t.fillRect(o,0,l,e.height)}tp(t){if(this.wv===null||this.Li===null)return;const e=this.Li.Ea(),n=this.Li.W(),l=this.Hv(),o=this.Tv?this.wv.width-l.T:0;n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace(({context:c,horizontalPixelRatio:f,verticalPixelRatio:d})=>{c.fillStyle=n.borderColor;const p=Math.max(1,Math.floor(d)),m=Math.floor(.5*d),y=Math.round(l.T*f);c.beginPath();for(const v of e)c.rect(Math.floor(o*f),Math.round(v.Aa*d)-m,y,p);c.fill()}),t.useMediaCoordinateSpace(({context:c})=>{var f;c.font=this.Uv(),c.fillStyle=(f=n.textColor)!==null&&f!==void 0?f:this.mo.textColor,c.textAlign=this.Tv?"right":"left",c.textBaseline="middle";const d=this.Tv?Math.round(o-l.B):Math.round(o+l.T+l.B),p=e.map(m=>this.Mv.xi(c,m.Za));for(let m=e.length;m--;){const y=e[m];c.fillText(y.Za,d,y.Aa+p[m])}})}Gv(){if(this.wv===null||this.Li===null)return;let t=this.wv.height/2;const e=[],n=this.Li.No().slice(),l=this.nn.Kv(),o=this.Hv();this.Li===l.vr()&&this.nn.Kv().No().forEach(d=>{l.dr(d)&&n.push(d)});const c=this.Li.Ta()[0],f=this.Li;n.forEach(d=>{const p=d.Rn(l,f);p.forEach(m=>{m.Vi(null),m.Bi()&&e.push(m)}),c===d&&p.length>0&&(t=p[0].yi())}),e.forEach(d=>d.Vi(d.yi())),this.Li.W().alignLabels&&this.hp(e,o,t)}hp(t,e,n){if(this.wv===null)return;const l=t.filter(c=>c.yi()<=n),o=t.filter(c=>c.yi()>n);l.sort((c,f)=>f.yi()-c.yi()),l.length&&o.length&&o.push(l[0]),o.sort((c,f)=>c.yi()-f.yi());for(const c of t){const f=Math.floor(c.zt(e)/2),d=c.yi();d>-f&&d<f&&c.Vi(f),d>this.wv.height-f&&d<this.wv.height+f&&c.Vi(this.wv.height-f)}for(let c=1;c<l.length;c++){const f=l[c],d=l[c-1],p=d.zt(e,!1),m=f.yi(),y=d.Ai();m>y-p&&f.Vi(y-p)}for(let c=1;c<o.length;c++){const f=o[c],d=o[c-1],p=d.zt(e,!0),m=f.yi(),y=d.Ai();m<y+p&&f.Vi(y+p)}}ip(t){if(this.wv===null)return;const e=this.qv(),n=this.Hv(),l=this.Tv?"right":"left";e.forEach(o=>{o.Ii()&&o.xt(j(this.Li)).K(t,n,this.Mv,l)})}np(t){if(this.wv===null||this.Li===null)return;const e=this.nn.yv().qt(),n=[],l=this.nn.Kv(),o=e.Fc().Rn(l,this.Li);o.length&&n.push(o);const c=this.Hv(),f=this.Tv?"right":"left";n.forEach(d=>{d.forEach(p=>{p.xt(j(this.Li)).K(t,c,this.Mv,f)})})}rp(t){this.Ov.style.cursor=t===1?"ns-resize":"default"}ao(){const t=this.$v();this.xv<t&&this.nn.yv().qt().$l(),this.xv=t}Uv(){return Kr(this.mo.fontSize,this.mo.fontFamily)}}function vx(r,t){var e,n;return(n=(e=r.ra)===null||e===void 0?void 0:e.call(r,t))!==null&&n!==void 0?n:[]}function cu(r,t){var e,n;return(n=(e=r.Pn)===null||e===void 0?void 0:e.call(r,t))!==null&&n!==void 0?n:[]}function wx(r,t){var e,n;return(n=(e=r.Qi)===null||e===void 0?void 0:e.call(r,t))!==null&&n!==void 0?n:[]}function Ax(r,t){var e,n;return(n=(e=r.na)===null||e===void 0?void 0:e.call(r,t))!==null&&n!==void 0?n:[]}class Kd{constructor(t,e){this.wv=qt({width:0,height:0}),this.lp=null,this.ap=null,this.op=null,this._p=!1,this.up=new oe,this.cp=new oe,this.dp=0,this.fp=!1,this.vp=null,this.pp=!1,this.mp=null,this.bp=null,this.Sv=!1,this.kv=()=>{this.Sv||this.wp===null||this.Ui().Fh()},this.Cv=()=>{this.Sv||this.wp===null||this.Ui().Fh()},this.gp=t,this.wp=e,this.wp.I_().l(this.Mp.bind(this),this,!0),this.xp=document.createElement("td"),this.xp.style.padding="0",this.xp.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.kp=document.createElement("td"),this.kp.style.padding="0",this.xp.appendChild(n),this.Av=Ps(n,qt({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);const l=this.Av.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Vv=Ps(n,qt({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);const o=this.Vv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.yp=document.createElement("tr"),this.yp.appendChild(this.Sp),this.yp.appendChild(this.xp),this.yp.appendChild(this.kp),this.Cp(),this.Wv=new Yd(this.Vv.canvasElement,this,{Nf:()=>this.vp===null&&!this.gp.W().handleScroll.vertTouchDrag,Ff:()=>this.vp===null&&!this.gp.W().handleScroll.horzTouchDrag})}S(){this.lp!==null&&this.lp.S(),this.ap!==null&&this.ap.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),Hs(this.Vv.canvasElement),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),Hs(this.Av.canvasElement),this.Av.dispose(),this.wp!==null&&this.wp.I_().p(this),this.Wv.S()}Kv(){return j(this.wp)}Tp(t){this.wp!==null&&this.wp.I_().p(this),this.wp=t,this.wp!==null&&this.wp.I_().l(Kd.prototype.Mp.bind(this),this,!0),this.Cp()}yv(){return this.gp}jv(){return this.yp}Cp(){if(this.wp!==null&&(this.Pp(),this.Ui().Mt().length!==0)){if(this.lp!==null){const t=this.wp.S_();this.lp.Ji(j(t))}if(this.ap!==null){const t=this.wp.k_();this.ap.Ji(j(t))}}}Rp(){this.lp!==null&&this.lp.gt(),this.ap!==null&&this.ap.gt()}v_(){return this.wp!==null?this.wp.v_():0}p_(t){this.wp&&this.wp.p_(t)}Bf(t){if(!this.wp)return;this.Dp();const e=t.localX,n=t.localY;this.Op(e,n,t)}Qf(t){this.Dp(),this.Ap(),this.Op(t.localX,t.localY,t)}If(t){var e;if(!this.wp)return;this.Dp();const n=t.localX,l=t.localY;this.Op(n,l,t);const o=this.br(n,l);this.gp.Vp((e=o?.bv)!==null&&e!==void 0?e:null),this.Ui().Bc(o&&{Ic:o.Ic,pv:o.pv})}Xf(t){this.wp!==null&&(this.Dp(),this.Bp(t))}Tf(t){this.wp!==null&&this.Ip(this.cp,t)}Sf(t){this.Tf(t)}Hf(t){this.Dp(),this.zp(t),this.Op(t.localX,t.localY,t)}Yf(t){this.wp!==null&&(this.Dp(),this.fp=!1,this.Ep(t))}qf(t){this.wp!==null&&this.Bp(t)}_v(t){if(this.fp=!0,this.vp===null){const e={x:t.localX,y:t.localY};this.Lp(e,e,t)}}ov(t){this.wp!==null&&(this.Dp(),this.wp.qt().Bc(null),this.Np())}Fp(){return this.up}Wp(){return this.cp}sv(){this.dp=1,this.Ui().Un()}ev(t,e){if(!this.gp.W().handleScale.pinch)return;const n=5*(e-this.dp);this.dp=e,this.Ui().Uc(t.et,n)}Gf(t){this.fp=!1,this.pp=this.vp!==null,this.Ap();const e=this.Ui().Fc();this.vp!==null&&e.Tt()&&(this.mp={x:e.Kt(),y:e.Zt()},this.vp={x:t.localX,y:t.localY})}Wf(t){if(this.wp===null)return;const e=t.localX,n=t.localY;if(this.vp===null)this.zp(t);else{this.pp=!1;const l=j(this.mp),o=l.x+(e-this.vp.x),c=l.y+(n-this.vp.y);this.Op(o,c,t)}}Uf(t){this.yv().W().trackingMode.exitMode===0&&(this.pp=!0),this.jp(),this.Ep(t)}br(t,e){const n=this.wp;return n===null?null:function(l,o,c){const f=l.No(),d=function(p,m,y){var v,E;let S,A;for(const H of p){const k=(E=(v=H.oa)===null||v===void 0?void 0:v.call(H,m,y))!==null&&E!==void 0?E:[];for(const Y of k)M=Y.zOrder,(!(R=S?.zOrder)||M==="top"&&R!=="top"||M==="normal"&&R==="bottom")&&(S=Y,A=H)}var M,R;return S&&A?{mv:S,Ic:A}:null}(f,o,c);if(d?.mv.zOrder==="top")return uu(d);for(const p of f){if(d&&d.Ic===p&&d.mv.zOrder!=="bottom"&&!d.mv.isBackground)return uu(d);const m=bx(p.Pn(l),o,c);if(m!==null)return{Ic:p,fv:m.fv,pv:m.pv};if(d&&d.Ic===p&&d.mv.zOrder!=="bottom"&&d.mv.isBackground)return uu(d)}return d?.mv?uu(d):null}(n,t,e)}Hp(t,e){j(e==="left"?this.lp:this.ap).Yv(qt({width:t,height:this.wv.height}))}$p(){return this.wv}Yv(t){_s(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.xp.style.width=t.width+"px",this.xp.style.height=t.height+"px")}Up(){const t=j(this.wp);t.x_(t.S_()),t.x_(t.k_());for(const e of t.Ta())if(t.dr(e)){const n=e.At();n!==null&&t.x_(n),e.On()}}sp(){return this.Av.bitmapSize}ep(t,e,n){const l=this.sp();l.width>0&&l.height>0&&t.drawImage(this.Av.canvasElement,e,n)}Zv(t){if(t===0||this.wp===null)return;if(t>1&&this.Up(),this.lp!==null&&this.lp.Zv(t),this.ap!==null&&this.ap.Zv(t),t!==1){this.Av.applySuggestedBitmapSize();const n=zs(this.Av);n!==null&&(n.useBitmapCoordinateSpace(l=>{this.Jv(l)}),this.wp&&(this.qp(n,vx),this.Yp(n),this.Xp(n),this.qp(n,cu),this.qp(n,wx)))}this.Vv.applySuggestedBitmapSize();const e=zs(this.Vv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:l})=>{n.clearRect(0,0,l.width,l.height)}),this.Kp(e),this.qp(e,Ax))}Zp(){return this.lp}Gp(){return this.ap}Qv(t,e){this.qp(t,e)}Mp(){this.wp!==null&&this.wp.I_().p(this),this.wp=null}Bp(t){this.Ip(this.up,t)}Ip(t,e){const n=e.localX,l=e.localY;t.M()&&t.m(this.Ui().yt().Vu(n),{x:n,y:l},e)}Jv({context:t,bitmapSize:e}){const{width:n,height:l}=e,o=this.Ui(),c=o.q(),f=o.od();c===f?Hu(t,0,0,n,l,f):_v(t,0,0,n,l,c,f)}Yp(t){const e=j(this.wp).z_().Wh().xt();e!==null&&e.K(t,!1)}Xp(t){const e=this.Ui().Nc();this.Jp(t,cu,dd,e),this.Jp(t,cu,Au,e)}Kp(t){this.Jp(t,cu,Au,this.Ui().Fc())}qp(t,e){const n=j(this.wp).No();for(const l of n)this.Jp(t,e,dd,l);for(const l of n)this.Jp(t,e,Au,l)}Jp(t,e,n,l){const o=j(this.wp),c=o.qt().Vc(),f=c!==null&&c.Ic===l,d=c!==null&&f&&c.pv!==void 0?c.pv.gr:void 0;gd(e,p=>n(p,t,f,d),l,o)}Pp(){if(this.wp===null)return;const t=this.gp,e=this.wp.S_().W().visible,n=this.wp.k_().W().visible;e||this.lp===null||(this.Sp.removeChild(this.lp.jv()),this.lp.S(),this.lp=null),n||this.ap===null||(this.kp.removeChild(this.ap.jv()),this.ap.S(),this.ap=null);const l=t.qt().sd();e&&this.lp===null&&(this.lp=new ib(this,t.W(),l,"left"),this.Sp.appendChild(this.lp.jv())),n&&this.ap===null&&(this.ap=new ib(this,t.W(),l,"right"),this.kp.appendChild(this.ap.jv()))}Qp(t){return t.uv&&this.fp||this.vp!==null}tm(t){return Math.max(0,Math.min(t,this.wv.width-1))}im(t){return Math.max(0,Math.min(t,this.wv.height-1))}Op(t,e,n){this.Ui().Jc(this.tm(t),this.im(e),n,j(this.wp))}Np(){this.Ui().td()}jp(){this.pp&&(this.vp=null,this.Np())}Lp(t,e,n){this.vp=t,this.pp=!1,this.Op(e.x,e.y,n);const l=this.Ui().Fc();this.mp={x:l.Kt(),y:l.Zt()}}Ui(){return this.gp.qt()}Ep(t){if(!this._p)return;const e=this.Ui(),n=this.Kv();if(e.D_(n,n.vn()),this.op=null,this._p=!1,e.Kc(),this.bp!==null){const l=performance.now(),o=e.yt();this.bp.Dr(o.Eu(),l),this.bp.Yu(l)||e.Xn(this.bp)}}Dp(){this.vp=null}Ap(){if(this.wp){if(this.Ui().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)j(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.wp.vn().Fi()&&this.Ui().yt().Fi()}}zp(t){if(this.wp===null)return;const e=this.Ui(),n=e.yt();if(n.Fi())return;const l=this.gp.W(),o=l.handleScroll,c=l.kineticScroll;if((!o.pressedMouseMove||t.uv)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!t.uv))return;const f=this.wp.vn(),d=performance.now();if(this.op!==null||this.Qp(t)||(this.op={x:t.clientX,y:t.clientY,kd:d,nm:t.localX,sm:t.localY}),this.op!==null&&!this._p&&(this.op.x!==t.clientX||this.op.y!==t.clientY)){if(t.uv&&c.touch||!t.uv&&c.mouse){const p=n.he();this.bp=new mx(.2/p,7/p,.997,15/p),this.bp.Nd(n.Eu(),this.op.kd)}else this.bp=null;f.Fi()||e.P_(this.wp,f,t.localY),e.Yc(t.localX),this._p=!0}this._p&&(f.Fi()||e.R_(this.wp,f,t.localY),e.Xc(t.localX),this.bp!==null&&this.bp.Nd(n.Eu(),d))}}class nb{constructor(t,e,n,l,o){this.bt=!0,this.wv=qt({width:0,height:0}),this.kv=()=>this.Zv(3),this.Tv=t==="left",this.kc=n.sd,this.cn=e,this.rm=l,this.hm=o,this.Ov=document.createElement("div"),this.Ov.style.width="25px",this.Ov.style.height="100%",this.Ov.style.overflow="hidden",this.Av=Ps(this.Ov,qt({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv)}S(){this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),Hs(this.Av.canvasElement),this.Av.dispose()}jv(){return this.Ov}$p(){return this.wv}Yv(t){_s(this.wv,t)||(this.wv=t,this.Av.resizeCanvasElement(t),this.Ov.style.width=`${t.width}px`,this.Ov.style.height=`${t.height}px`,this.bt=!0)}Zv(t){if(t<3&&!this.bt||this.wv.width===0||this.wv.height===0)return;this.bt=!1,this.Av.applySuggestedBitmapSize();const e=zs(this.Av);e!==null&&e.useBitmapCoordinateSpace(n=>{this.Jv(n),this.Be(n)})}sp(){return this.Av.bitmapSize}ep(t,e,n){const l=this.sp();l.width>0&&l.height>0&&t.drawImage(this.Av.canvasElement,e,n)}Be({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:l}){if(!this.rm())return;t.fillStyle=this.cn.timeScale.borderColor;const o=Math.floor(this.kc.W().C*n),c=Math.floor(this.kc.W().C*l),f=this.Tv?e.width-o:0;t.fillRect(f,0,o,c)}Jv({context:t,bitmapSize:e}){Hu(t,0,0,e.width,e.height,this.hm())}}function Jd(r){return t=>{var e,n;return(n=(e=t.aa)===null||e===void 0?void 0:e.call(t,r))!==null&&n!==void 0?n:[]}}const Ex=Jd("normal"),Sx=Jd("top"),xx=Jd("bottom");class Tx{constructor(t,e){this.lm=null,this.am=null,this.k=null,this.om=!1,this.wv=qt({width:0,height:0}),this._m=new oe,this.Mv=new wa(5),this.Sv=!1,this.kv=()=>{this.Sv||this.gp.qt().Fh()},this.Cv=()=>{this.Sv||this.gp.qt().Fh()},this.gp=t,this.N_=e,this.cn=t.W().layout,this.um=document.createElement("tr"),this.dm=document.createElement("td"),this.dm.style.padding="0",this.fm=document.createElement("td"),this.fm.style.padding="0",this.Ov=document.createElement("td"),this.Ov.style.height="25px",this.Ov.style.padding="0",this.vm=document.createElement("div"),this.vm.style.width="100%",this.vm.style.height="100%",this.vm.style.position="relative",this.vm.style.overflow="hidden",this.Ov.appendChild(this.vm),this.Av=Ps(this.vm,qt({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.kv);const n=this.Av.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Vv=Ps(this.vm,qt({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.Cv);const l=this.Vv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0",this.um.appendChild(this.dm),this.um.appendChild(this.Ov),this.um.appendChild(this.fm),this.pm(),this.gp.qt().f_().l(this.pm.bind(this),this),this.Wv=new Yd(this.Vv.canvasElement,this,{Nf:()=>!0,Ff:()=>!this.gp.W().handleScroll.horzTouchDrag})}S(){this.Wv.S(),this.lm!==null&&this.lm.S(),this.am!==null&&this.am.S(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.Cv),Hs(this.Vv.canvasElement),this.Vv.dispose(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.kv),Hs(this.Av.canvasElement),this.Av.dispose()}jv(){return this.um}bm(){return this.lm}wm(){return this.am}Qf(t){if(this.om)return;this.om=!0;const e=this.gp.qt();!e.yt().Fi()&&this.gp.W().handleScale.axisPressedMouseMove.time&&e.$c(t.localX)}Gf(t){this.Qf(t)}tv(){const t=this.gp.qt();!t.yt().Fi()&&this.om&&(this.om=!1,this.gp.W().handleScale.axisPressedMouseMove.time&&t.Gc())}Hf(t){const e=this.gp.qt();!e.yt().Fi()&&this.gp.W().handleScale.axisPressedMouseMove.time&&e.Zc(t.localX)}Wf(t){this.Hf(t)}Yf(){this.om=!1;const t=this.gp.qt();t.yt().Fi()&&!this.gp.W().handleScale.axisPressedMouseMove.time||t.Gc()}Uf(){this.Yf()}Tf(){this.gp.W().handleScale.axisDoubleClickReset.time&&this.gp.qt().Zn()}Sf(){this.Tf()}Bf(){this.gp.qt().W().handleScale.axisPressedMouseMove.time&&this.rp(1)}ov(){this.rp(0)}$p(){return this.wv}gm(){return this._m}Mm(t,e,n){_s(this.wv,t)||(this.wv=t,this.Sv=!0,this.Av.resizeCanvasElement(t),this.Vv.resizeCanvasElement(t),this.Sv=!1,this.Ov.style.width=`${t.width}px`,this.Ov.style.height=`${t.height}px`,this._m.m(t)),this.lm!==null&&this.lm.Yv(qt({width:e,height:t.height})),this.am!==null&&this.am.Yv(qt({width:n,height:t.height}))}xm(){const t=this.Sm();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.km)}gt(){this.gp.qt().yt().Ea()}sp(){return this.Av.bitmapSize}ep(t,e,n){const l=this.sp();l.width>0&&l.height>0&&t.drawImage(this.Av.canvasElement,e,n)}Zv(t){if(t===0)return;if(t!==1){this.Av.applySuggestedBitmapSize();const n=zs(this.Av);n!==null&&(n.useBitmapCoordinateSpace(l=>{this.Jv(l),this.Be(l),this.ym(n,xx)}),this.tp(n),this.ym(n,Ex)),this.lm!==null&&this.lm.Zv(t),this.am!==null&&this.am.Zv(t)}this.Vv.applySuggestedBitmapSize();const e=zs(this.Vv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:l})=>{n.clearRect(0,0,l.width,l.height)}),this.Cm([...this.gp.qt().Mt(),this.gp.qt().Fc()],e),this.ym(e,Sx))}ym(t,e){const n=this.gp.qt().Mt();for(const l of n)gd(e,o=>dd(o,t,!1,void 0),l,void 0);for(const l of n)gd(e,o=>Au(o,t,!1,void 0),l,void 0)}Jv({context:t,bitmapSize:e}){Hu(t,0,0,e.width,e.height,this.gp.qt().od())}Be({context:t,bitmapSize:e,verticalPixelRatio:n}){if(this.gp.W().timeScale.borderVisible){t.fillStyle=this.Tm();const l=Math.max(1,Math.floor(this.Sm().C*n));t.fillRect(0,0,e.width,l)}}tp(t){const e=this.gp.qt().yt(),n=e.Ea();if(!n||n.length===0)return;const l=this.N_.maxTickMarkWeight(n),o=this.Sm(),c=e.W();c.borderVisible&&c.ticksVisible&&t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:p})=>{f.strokeStyle=this.Tm(),f.fillStyle=this.Tm();const m=Math.max(1,Math.floor(d)),y=Math.floor(.5*d);f.beginPath();const v=Math.round(o.T*p);for(let E=n.length;E--;){const S=Math.round(n[E].coord*d);f.rect(S-y,0,m,v)}f.fill()}),t.useMediaCoordinateSpace(({context:f})=>{const d=o.C+o.T+o.L+o.P/2;f.textAlign="center",f.textBaseline="middle",f.fillStyle=this.$(),f.font=this.Uv();for(const p of n)if(p.weight<l){const m=p.needAlignCoordinate?this.Pm(f,p.coord,p.label):p.coord;f.fillText(p.label,m,d)}f.font=this.Rm();for(const p of n)if(p.weight>=l){const m=p.needAlignCoordinate?this.Pm(f,p.coord,p.label):p.coord;f.fillText(p.label,m,d)}})}Pm(t,e,n){const l=this.Mv.Si(t,n),o=l/2,c=Math.floor(e-o)+.5;return c<0?e+=Math.abs(0-c):c+l>this.wv.width&&(e-=Math.abs(this.wv.width-(c+l))),e}Cm(t,e){const n=this.Sm();for(const l of t)for(const o of l.tn())o.xt().K(e,n)}Tm(){return this.gp.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}Uv(){return Kr(this.j(),this.cn.fontFamily)}Rm(){return Kr(this.j(),this.cn.fontFamily,"bold")}Sm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Hi:NaN,T:5,P:NaN,R:"",ji:new wa,km:0});const t=this.k,e=this.Uv();if(t.R!==e){const n=this.j();t.P=n,t.R=e,t.L=3*n/12,t.V=3*n/12,t.Hi=9*n/12,t.N=0,t.km=4*n/12,t.ji.ir()}return this.k}rp(t){this.Ov.style.cursor=t===1?"ew-resize":"default"}pm(){const t=this.gp.qt(),e=t.W();e.leftPriceScale.visible||this.lm===null||(this.dm.removeChild(this.lm.jv()),this.lm.S(),this.lm=null),e.rightPriceScale.visible||this.am===null||(this.fm.removeChild(this.am.jv()),this.am.S(),this.am=null);const n={sd:this.gp.qt().sd()},l=()=>e.leftPriceScale.borderVisible&&t.yt().W().borderVisible,o=()=>t.od();e.leftPriceScale.visible&&this.lm===null&&(this.lm=new nb("left",e,n,l,o),this.dm.appendChild(this.lm.jv())),e.rightPriceScale.visible&&this.am===null&&(this.am=new nb("right",e,n,l,o),this.fm.appendChild(this.am.jv()))}}const Ox=!!Jr&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(r=>r.brand.includes("Chromium"))&&!!Jr&&(!((Hf=navigator?.userAgentData)===null||Hf===void 0)&&Hf.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Hf;class Mx{constructor(t,e,n){var l;this.Dm=[],this.Om=0,this.Qa=0,this.e_=0,this.Am=0,this.Vm=0,this.Bm=null,this.Im=!1,this.up=new oe,this.cp=new oe,this.Mc=new oe,this.zm=null,this.Em=null,this.Lm=t,this.cn=e,this.N_=n,this.um=document.createElement("div"),this.um.classList.add("tv-lightweight-charts"),this.um.style.overflow="hidden",this.um.style.direction="ltr",this.um.style.width="100%",this.um.style.height="100%",(l=this.um).style.userSelect="none",l.style.webkitUserSelect="none",l.style.msUserSelect="none",l.style.MozUserSelect="none",l.style.webkitTapHighlightColor="transparent",this.Nm=document.createElement("table"),this.Nm.setAttribute("cellspacing","0"),this.um.appendChild(this.Nm),this.Fm=this.Wm.bind(this),Gf(this.cn)&&this.jm(!0),this.Ui=new hx(this.Sc.bind(this),this.cn,n),this.qt().Wc().l(this.Hm.bind(this),this),this.$m=new Tx(this,this.N_),this.Nm.appendChild(this.$m.jv());const o=e.autoSize&&this.Um();let c=this.cn.width,f=this.cn.height;if(o||c===0||f===0){const d=t.getBoundingClientRect();c=c||d.width,f=f||d.height}this.qm(c,f),this.Ym(),t.appendChild(this.um),this.Xm(),this.Ui.yt().Gu().l(this.Ui.$l.bind(this.Ui),this),this.Ui.f_().l(this.Ui.$l.bind(this.Ui),this)}qt(){return this.Ui}W(){return this.cn}Km(){return this.Dm}Zm(){return this.$m}S(){this.jm(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.Ui.Wc().p(this),this.Ui.yt().Gu().p(this),this.Ui.f_().p(this),this.Ui.S();for(const t of this.Dm)this.Nm.removeChild(t.jv()),t.Fp().p(this),t.Wp().p(this),t.S();this.Dm=[],j(this.$m).S(),this.um.parentElement!==null&&this.um.parentElement.removeChild(this.um),this.Mc.S(),this.up.S(),this.cp.S(),this.Gm()}qm(t,e,n=!1){if(this.Qa===e&&this.e_===t)return;const l=function(f){const d=Math.floor(f.width),p=Math.floor(f.height);return qt({width:d-d%2,height:p-p%2})}(qt({width:t,height:e}));this.Qa=l.height,this.e_=l.width;const o=this.Qa+"px",c=this.e_+"px";j(this.um).style.height=o,j(this.um).style.width=c,this.Nm.style.height=o,this.Nm.style.width=c,n?this.Jm(xe.es(),performance.now()):this.Ui.$l()}Zv(t){t===void 0&&(t=xe.es());for(let e=0;e<this.Dm.length;e++)this.Dm[e].Zv(t.Hn(e).Fn);this.cn.timeScale.visible&&this.$m.Zv(t.jn())}Nh(t){const e=Gf(this.cn);this.Ui.Nh(t);const n=Gf(this.cn);n!==e&&this.jm(n),this.Xm(),this.Qm(t)}Fp(){return this.up}Wp(){return this.cp}Wc(){return this.Mc}tb(){this.Bm!==null&&(this.Jm(this.Bm,performance.now()),this.Bm=null);const t=this.ib(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=j(e.getContext("2d"));return this.ib(n),e}nb(t){return t==="left"&&!this.sb()||t==="right"&&!this.eb()||this.Dm.length===0?0:j(t==="left"?this.Dm[0].Zp():this.Dm[0].Gp()).Xv()}rb(){return this.cn.autoSize&&this.zm!==null}hb(){return this.um}Vp(t){this.Em=t,this.Em?this.hb().style.setProperty("cursor",t):this.hb().style.removeProperty("cursor")}lb(){return this.Em}ab(){return ke(this.Dm[0]).$p()}Qm(t){(t.autoSize!==void 0||!this.zm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.zm&&this.Um(),t.autoSize===!1&&this.zm!==null&&this.Gm(),t.autoSize||t.width===void 0&&t.height===void 0||this.qm(t.width||this.e_,t.height||this.Qa))}ib(t){let e=0,n=0;const l=this.Dm[0],o=(f,d)=>{let p=0;for(let m=0;m<this.Dm.length;m++){const y=this.Dm[m],v=j(f==="left"?y.Zp():y.Gp()),E=v.sp();t!==null&&v.ep(t,d,p),p+=E.height}};this.sb()&&(o("left",0),e+=j(l.Zp()).sp().width);for(let f=0;f<this.Dm.length;f++){const d=this.Dm[f],p=d.sp();t!==null&&d.ep(t,e,n),n+=p.height}e+=l.sp().width,this.eb()&&(o("right",e),e+=j(l.Gp()).sp().width);const c=(f,d,p)=>{j(f==="left"?this.$m.bm():this.$m.wm()).ep(j(t),d,p)};if(this.cn.timeScale.visible){const f=this.$m.sp();if(t!==null){let d=0;this.sb()&&(c("left",d,n),d=j(l.Zp()).sp().width),this.$m.ep(t,d,n),d+=f.width,this.eb()&&c("right",d,n)}n+=f.height}return qt({width:e,height:n})}ob(){let t=0,e=0,n=0;for(const S of this.Dm)this.sb()&&(e=Math.max(e,j(S.Zp()).$v(),this.cn.leftPriceScale.minimumWidth)),this.eb()&&(n=Math.max(n,j(S.Gp()).$v(),this.cn.rightPriceScale.minimumWidth)),t+=S.v_();e=fd(e),n=fd(n);const l=this.e_,o=this.Qa,c=Math.max(l-e-n,0),f=this.cn.timeScale.visible;let d=f?Math.max(this.$m.xm(),this.cn.timeScale.minimumHeight):0;var p;d=(p=d)+p%2;const m=0+d,y=o<m?0:o-m,v=y/t;let E=0;for(let S=0;S<this.Dm.length;++S){const A=this.Dm[S];A.Tp(this.Ui.Lc()[S]);let M=0,R=0;R=S===this.Dm.length-1?y-E:Math.round(A.v_()*v),M=Math.max(R,2),E+=M,A.Yv(qt({width:c,height:M})),this.sb()&&A.Hp(e,"left"),this.eb()&&A.Hp(n,"right"),A.Kv()&&this.Ui.jc(A.Kv(),M)}this.$m.Mm(qt({width:f?c:0,height:d}),f?e:0,f?n:0),this.Ui.m_(c),this.Am!==e&&(this.Am=e),this.Vm!==n&&(this.Vm=n)}jm(t){t?this.um.addEventListener("wheel",this.Fm,{passive:!1}):this.um.removeEventListener("wheel",this.Fm)}_b(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Ox?1/window.devicePixelRatio:1}Wm(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const e=this._b(t),n=e*t.deltaX/100,l=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),l!==0&&this.cn.handleScale.mouseWheel){const o=Math.sign(l)*Math.min(1,Math.abs(l)),c=t.clientX-this.um.getBoundingClientRect().left;this.qt().Uc(c,o)}n!==0&&this.cn.handleScroll.mouseWheel&&this.qt().qc(-80*n)}Jm(t,e){var n;const l=t.jn();l===3&&this.ub(),l!==3&&l!==2||(this.cb(t),this.fb(t,e),this.$m.gt(),this.Dm.forEach(o=>{o.Rp()}),((n=this.Bm)===null||n===void 0?void 0:n.jn())===3&&(this.Bm.ts(t),this.ub(),this.cb(this.Bm),this.fb(this.Bm,e),t=this.Bm,this.Bm=null)),this.Zv(t)}fb(t,e){for(const n of t.Qn())this.ns(n,e)}cb(t){const e=this.Ui.Lc();for(let n=0;n<e.length;n++)t.Hn(n).Wn&&e[n].V_()}ns(t,e){const n=this.Ui.yt();switch(t.qn){case 0:n.Qu();break;case 1:n.tc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.Fu();break;case 5:t.Vt.Yu(e)||n.Jn(t.Vt.Xu(e))}}Sc(t){this.Bm!==null?this.Bm.ts(t):this.Bm=t,this.Im||(this.Im=!0,this.Om=window.requestAnimationFrame(e=>{if(this.Im=!1,this.Om=0,this.Bm!==null){const n=this.Bm;this.Bm=null,this.Jm(n,e);for(const l of n.Qn())if(l.qn===5&&!l.Vt.Yu(e)){this.qt().Xn(l.Vt);break}}}))}ub(){this.Ym()}Ym(){const t=this.Ui.Lc(),e=t.length,n=this.Dm.length;for(let l=e;l<n;l++){const o=ke(this.Dm.pop());this.Nm.removeChild(o.jv()),o.Fp().p(this),o.Wp().p(this),o.S()}for(let l=n;l<e;l++){const o=new Kd(this,t[l]);o.Fp().l(this.vb.bind(this),this),o.Wp().l(this.pb.bind(this),this),this.Dm.push(o),this.Nm.insertBefore(o.jv(),this.$m.jv())}for(let l=0;l<e;l++){const o=t[l],c=this.Dm[l];c.Kv()!==o?c.Tp(o):c.Cp()}this.Xm(),this.ob()}mb(t,e,n){var l;const o=new Map;t!==null&&this.Ui.Mt().forEach(m=>{const y=m.In().nl(t);y!==null&&o.set(m,y)});let c;if(t!==null){const m=(l=this.Ui.yt().qi(t))===null||l===void 0?void 0:l.originalTime;m!==void 0&&(c=m)}const f=this.qt().Vc(),d=f!==null&&f.Ic instanceof qd?f.Ic:void 0,p=f!==null&&f.pv!==void 0?f.pv.wr:void 0;return{bb:c,se:t??void 0,wb:e??void 0,gb:d,Mb:o,xb:p,Sb:n??void 0}}vb(t,e,n){this.up.m(()=>this.mb(t,e,n))}pb(t,e,n){this.cp.m(()=>this.mb(t,e,n))}Hm(t,e,n){this.Mc.m(()=>this.mb(t,e,n))}Xm(){const t=this.cn.timeScale.visible?"":"none";this.$m.jv().style.display=t}sb(){return this.Dm[0].Kv().S_().W().visible}eb(){return this.Dm[0].Kv().k_().W().visible}Um(){return"ResizeObserver"in window&&(this.zm=new ResizeObserver(t=>{const e=t.find(n=>n.target===this.Lm);e&&this.qm(e.contentRect.width,e.contentRect.height)}),this.zm.observe(this.Lm,{box:"border-box"}),!0)}Gm(){this.zm!==null&&this.zm.disconnect(),this.zm=null}}function Gf(r){return!!(r.handleScroll.mouseWheel||r.handleScale.mouseWheel)}function Wv(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(n=Object.getOwnPropertySymbols(r);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(r,n[l])&&(e[n[l]]=r[n[l]])}return e}function sb(r,t,e,n){const l=e.value,o={se:t,ut:r,Vt:[l,l,l,l],bb:n};return e.color!==void 0&&(o.O=e.color),o}function Nx(r,t,e,n){const l=e.value,o={se:t,ut:r,Vt:[l,l,l,l],bb:n};return e.lineColor!==void 0&&(o._t=e.lineColor),e.topColor!==void 0&&(o.Ts=e.topColor),e.bottomColor!==void 0&&(o.Ps=e.bottomColor),o}function Cx(r,t,e,n){const l=e.value,o={se:t,ut:r,Vt:[l,l,l,l],bb:n};return e.topLineColor!==void 0&&(o.Pe=e.topLineColor),e.bottomLineColor!==void 0&&(o.Re=e.bottomLineColor),e.topFillColor1!==void 0&&(o.Se=e.topFillColor1),e.topFillColor2!==void 0&&(o.ke=e.topFillColor2),e.bottomFillColor1!==void 0&&(o.ye=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(o.Ce=e.bottomFillColor2),o}function Bx(r,t,e,n){const l={se:t,ut:r,Vt:[e.open,e.high,e.low,e.close],bb:n};return e.color!==void 0&&(l.O=e.color),l}function Rx(r,t,e,n){const l={se:t,ut:r,Vt:[e.open,e.high,e.low,e.close],bb:n};return e.color!==void 0&&(l.O=e.color),e.borderColor!==void 0&&(l.Bt=e.borderColor),e.wickColor!==void 0&&(l.$h=e.wickColor),l}function Lx(r,t,e,n,l){const o=ke(l)(e),c=Math.max(...o),f=Math.min(...o),d=o[o.length-1],p=[d,c,f,d],m=e,{time:y,color:v}=m;return{se:t,ut:r,Vt:p,bb:n,He:Wv(m,["time","color"]),O:v}}function hu(r){return r.Vt!==void 0}function rb(r,t){return t.customValues!==void 0&&(r.kb=t.customValues),r}function Es(r){return(t,e,n,l,o,c)=>function(f,d){return d?d(f):(p=f).open===void 0&&p.value===void 0;var p}(n,c)?rb({ut:t,se:e,bb:l},n):rb(r(t,e,n,l,o),n)}function lb(r){return{Candlestick:Es(Rx),Bar:Es(Bx),Area:Es(Nx),Baseline:Es(Cx),Histogram:Es(sb),Line:Es(sb),Custom:Es(Lx)}[r]}function ab(r){return{se:0,yb:new Map,ia:r}}function ob(r,t){if(r!==void 0&&r.length!==0)return{Cb:t.key(r[0].ut),Tb:t.key(r[r.length-1].ut)}}function ub(r){let t;return r.forEach(e=>{t===void 0&&(t=e.bb)}),ke(t)}class _x{constructor(t){this.Pb=new Map,this.Rb=new Map,this.Db=new Map,this.Ob=[],this.N_=t}S(){this.Pb.clear(),this.Rb.clear(),this.Db.clear(),this.Ob=[]}Ab(t,e){let n=this.Pb.size!==0,l=!1;const o=this.Rb.get(t);if(o!==void 0)if(this.Rb.size===1)n=!1,l=!0,this.Pb.clear();else for(const d of this.Ob)d.pointData.yb.delete(t)&&(l=!0);let c=[];if(e.length!==0){const d=e.map(E=>E.time),p=this.N_.createConverterToInternalObj(e),m=lb(t.Xh()),y=t.ga(),v=t.Ma();c=e.map((E,S)=>{const A=p(E.time),M=this.N_.key(A);let R=this.Pb.get(M);R===void 0&&(R=ab(A),this.Pb.set(M,R),l=!0);const H=m(A,R.se,E,d[S],y,v);return R.yb.set(t,H),H})}n&&this.Vb(),this.Bb(t,c);let f=-1;if(l){const d=[];this.Pb.forEach(p=>{d.push({timeWeight:0,time:p.ia,pointData:p,originalTime:ub(p.yb)})}),d.sort((p,m)=>this.N_.key(p.time)-this.N_.key(m.time)),f=this.Ib(d)}return this.zb(t,f,function(d,p,m){const y=ob(d,m),v=ob(p,m);if(y!==void 0&&v!==void 0)return{Xl:y.Tb>=v.Tb&&y.Cb>=v.Cb}}(this.Rb.get(t),o,this.N_))}hd(t){return this.Ab(t,[])}Eb(t,e){const n=e;(function(A){A.bb===void 0&&(A.bb=A.time)})(n),this.N_.preprocessData(e);const l=this.N_.createConverterToInternalObj([e])(e.time),o=this.Db.get(t);if(o!==void 0&&this.N_.key(l)<this.N_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${l}`);let c=this.Pb.get(this.N_.key(l));const f=c===void 0;c===void 0&&(c=ab(l),this.Pb.set(this.N_.key(l),c));const d=lb(t.Xh()),p=t.ga(),m=t.Ma(),y=d(l,c.se,e,n.bb,p,m);c.yb.set(t,y),this.Lb(t,y);const v={Xl:hu(y)};if(!f)return this.zb(t,-1,v);const E={timeWeight:0,time:c.ia,pointData:c,originalTime:ub(c.yb)},S=Ra(this.Ob,this.N_.key(E.time),(A,M)=>this.N_.key(A.time)<M);this.Ob.splice(S,0,E);for(let A=S;A<this.Ob.length;++A)Vf(this.Ob[A].pointData,A);return this.N_.fillWeightsForPoints(this.Ob,S),this.zb(t,S,v)}Lb(t,e){let n=this.Rb.get(t);n===void 0&&(n=[],this.Rb.set(t,n));const l=n.length!==0?n[n.length-1]:null;l===null||this.N_.key(e.ut)>this.N_.key(l.ut)?hu(e)&&n.push(e):hu(e)?n[n.length-1]=e:n.splice(-1,1),this.Db.set(t,e.ut)}Bb(t,e){e.length!==0?(this.Rb.set(t,e.filter(hu)),this.Db.set(t,e[e.length-1].ut)):(this.Rb.delete(t),this.Db.delete(t))}Vb(){for(const t of this.Ob)t.pointData.yb.size===0&&this.Pb.delete(this.N_.key(t.time))}Ib(t){let e=-1;for(let n=0;n<this.Ob.length&&n<t.length;++n){const l=this.Ob[n],o=t[n];if(this.N_.key(l.time)!==this.N_.key(o.time)){e=n;break}o.timeWeight=l.timeWeight,Vf(o.pointData,n)}if(e===-1&&this.Ob.length!==t.length&&(e=Math.min(this.Ob.length,t.length)),e===-1)return-1;for(let n=e;n<t.length;++n)Vf(t[n].pointData,n);return this.N_.fillWeightsForPoints(t,e),this.Ob=t,e}Nb(){if(this.Rb.size===0)return null;let t=0;return this.Rb.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].se))}),t}zb(t,e,n){const l={Fb:new Map,yt:{Au:this.Nb()}};if(e!==-1)this.Rb.forEach((o,c)=>{l.Fb.set(c,{He:o,Wb:c===t?n:void 0})}),this.Rb.has(t)||l.Fb.set(t,{He:[],Wb:n}),l.yt.jb=this.Ob,l.yt.Hb=e;else{const o=this.Rb.get(t);l.Fb.set(t,{He:o||[],Wb:n})}return l}}function Vf(r,t){r.se=t,r.yb.forEach(e=>{e.se=t})}function Xd(r){const t={value:r.Vt[3],time:r.bb};return r.kb!==void 0&&(t.customValues=r.kb),t}function cb(r){const t=Xd(r);return r.O!==void 0&&(t.color=r.O),t}function Ux(r){const t=Xd(r);return r._t!==void 0&&(t.lineColor=r._t),r.Ts!==void 0&&(t.topColor=r.Ts),r.Ps!==void 0&&(t.bottomColor=r.Ps),t}function Dx(r){const t=Xd(r);return r.Pe!==void 0&&(t.topLineColor=r.Pe),r.Re!==void 0&&(t.bottomLineColor=r.Re),r.Se!==void 0&&(t.topFillColor1=r.Se),r.ke!==void 0&&(t.topFillColor2=r.ke),r.ye!==void 0&&(t.bottomFillColor1=r.ye),r.Ce!==void 0&&(t.bottomFillColor2=r.Ce),t}function $v(r){const t={open:r.Vt[0],high:r.Vt[1],low:r.Vt[2],close:r.Vt[3],time:r.bb};return r.kb!==void 0&&(t.customValues=r.kb),t}function zx(r){const t=$v(r);return r.O!==void 0&&(t.color=r.O),t}function kx(r){const t=$v(r),{O:e,Bt:n,$h:l}=r;return e!==void 0&&(t.color=e),n!==void 0&&(t.borderColor=n),l!==void 0&&(t.wickColor=l),t}function pd(r){return{Area:Ux,Line:cb,Baseline:Dx,Histogram:cb,Bar:zx,Candlestick:kx,Custom:Px}[r]}function Px(r){const t=r.bb;return Object.assign(Object.assign({},r.He),{time:t})}const Hx={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Gx={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Vx={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Pd},Ff={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Fx={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0},Ix={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Pd,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function hb(){return{width:0,height:0,autoSize:!1,layout:Vx,crosshair:Hx,grid:Gx,overlayPriceScales:Object.assign({},Ff),leftPriceScale:Object.assign(Object.assign({},Ff),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Ff),{visible:!0}),timeScale:Fx,watermark:Ix,localization:{locale:Jr?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Qx{constructor(t,e){this.$b=t,this.Ub=e}applyOptions(t){this.$b.qt().zc(this.Ub,t)}options(){return this.Li().W()}width(){return Vu(this.Ub)?this.$b.nb(this.Ub):0}Li(){return j(this.$b.qt().Ec(this.Ub)).At}}function fb(r,t,e){const n=Wv(r,["time","originalTime"]),l=Object.assign({time:t},n);return e!==void 0&&(l.originalTime=e),l}const qx={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class jx{constructor(t){this.Bh=t}applyOptions(t){this.Bh.Nh(t)}options(){return this.Bh.W()}qb(){return this.Bh}}class Yx{constructor(t,e,n,l,o){this.Yb=new oe,this.Es=t,this.Xb=e,this.Kb=n,this.N_=o,this.Zb=l}S(){this.Yb.S()}priceFormatter(){return this.Es.ca()}priceToCoordinate(t){const e=this.Es.Pt();return e===null?null:this.Es.At().Ot(t,e.Vt)}coordinateToPrice(t){const e=this.Es.Pt();return e===null?null:this.Es.At().pn(t,e.Vt)}barsInLogicalRange(t){if(t===null)return null;const e=new Vr(new ga(t.from,t.to)).iu(),n=this.Es.In();if(n.Fi())return null;const l=n.nl(e.Os(),1),o=n.nl(e.di(),-1),c=j(n.Qh()),f=j(n.Bn());if(l!==null&&o!==null&&l.se>o.se)return{barsBefore:t.from-c,barsAfter:f-t.to};const d={barsBefore:l===null||l.se===c?t.from-c:l.se-c,barsAfter:o===null||o.se===f?f-t.to:f-o.se};return l!==null&&o!==null&&(d.from=l.bb,d.to=o.bb),d}setData(t){this.N_,this.Es.Xh(),this.Xb.Gb(this.Es,t),this.Jb("full")}update(t){this.Es.Xh(),this.Xb.Qb(this.Es,t),this.Jb("update")}dataByIndex(t,e){const n=this.Es.In().nl(t,e);return n===null?null:pd(this.seriesType())(n)}data(){const t=pd(this.seriesType());return this.Es.In().ie().map(e=>t(e))}subscribeDataChanged(t){this.Yb.l(t)}unsubscribeDataChanged(t){this.Yb.v(t)}setMarkers(t){this.N_;const e=t.map(n=>fb(n,this.N_.convertHorzItemToInternal(n.time),n.time));this.Es.Zl(e)}markers(){return this.Es.Gl().map(t=>fb(t,t.originalTime,void 0))}applyOptions(t){this.Es.Nh(t)}options(){return cn(this.Es.W())}priceScale(){return this.Kb.priceScale(this.Es.At().xa())}createPriceLine(t){const e=Ni(cn(qx),t),n=this.Es.Jl(e);return new jx(n)}removePriceLine(t){this.Es.Ql(t.qb())}seriesType(){return this.Es.Xh()}attachPrimitive(t){this.Es.ba(t),t.attached&&t.attached({chart:this.Zb,series:this,requestUpdate:()=>this.Es.qt().$l()})}detachPrimitive(t){this.Es.wa(t),t.detached&&t.detached()}Jb(t){this.Yb.M()&&this.Yb.m(t)}}class Kx{constructor(t,e,n){this.tw=new oe,this.uu=new oe,this._m=new oe,this.Ui=t,this.wl=t.yt(),this.$m=e,this.wl.Ku().l(this.iw.bind(this)),this.wl.Zu().l(this.nw.bind(this)),this.$m.gm().l(this.sw.bind(this)),this.N_=n}S(){this.wl.Ku().p(this),this.wl.Zu().p(this),this.$m.gm().p(this),this.tw.S(),this.uu.S(),this._m.S()}scrollPosition(){return this.wl.Eu()}scrollToPosition(t,e){e?this.wl.qu(t,1e3):this.Ui.Jn(t)}scrollToRealTime(){this.wl.Uu()}getVisibleRange(){const t=this.wl.yu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},n=this.wl.Ru(e);this.Ui.ld(n)}getVisibleLogicalRange(){const t=this.wl.ku();return t===null?null:{from:t.Os(),to:t.di()}}setVisibleLogicalRange(t){$n(t.from<=t.to,"The from index cannot be after the to index."),this.Ui.ld(t)}resetTimeScale(){this.Ui.Zn()}fitContent(){this.Ui.Qu()}logicalToCoordinate(t){const e=this.Ui.yt();return e.Fi()?null:e.Et(t)}coordinateToLogical(t){return this.wl.Fi()?null:this.wl.Vu(t)}timeToCoordinate(t){const e=this.N_.convertHorzItemToInternal(t),n=this.wl.ya(e,!1);return n===null?null:this.wl.Et(n)}coordinateToTime(t){const e=this.Ui.yt(),n=e.Vu(t),l=e.qi(n);return l===null?null:l.originalTime}width(){return this.$m.$p().width}height(){return this.$m.$p().height}subscribeVisibleTimeRangeChange(t){this.tw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.tw.v(t)}subscribeVisibleLogicalRangeChange(t){this.uu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.uu.v(t)}subscribeSizeChange(t){this._m.l(t)}unsubscribeSizeChange(t){this._m.v(t)}applyOptions(t){this.wl.Nh(t)}options(){return Object.assign(Object.assign({},cn(this.wl.W())),{barSpacing:this.wl.he()})}iw(){this.tw.M()&&this.tw.m(this.getVisibleRange())}nw(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}sw(t){this._m.m(t.width,t.height)}}function Jx(r){if(r===void 0||r.type==="custom")return;const t=r;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let n=0;for(;n<8;n++){const l=Math.round(e);if(Math.abs(l-e)<1e-8)return n;e*=10}return n}(t.minMove))}function db(r){return function(t){if(iu(t.handleScale)){const n=t.handleScale;t.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:l}=t.handleScale;iu(n)&&(t.handleScale.axisPressedMouseMove={time:n,price:n}),iu(l)&&(t.handleScale.axisDoubleClickReset={time:l,price:l})}const e=t.handleScroll;iu(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(r),r}class Xx{constructor(t,e,n){this.ew=new Map,this.rw=new Map,this.hw=new oe,this.lw=new oe,this.aw=new oe,this.ow=new _x(e);const l=n===void 0?cn(hb()):Ni(cn(hb()),db(n));this.N_=e,this.$b=new Mx(t,l,e),this.$b.Fp().l(c=>{this.hw.M()&&this.hw.m(this._w(c()))},this),this.$b.Wp().l(c=>{this.lw.M()&&this.lw.m(this._w(c()))},this),this.$b.Wc().l(c=>{this.aw.M()&&this.aw.m(this._w(c()))},this);const o=this.$b.qt();this.uw=new Kx(o,this.$b.Zm(),this.N_)}remove(){this.$b.Fp().p(this),this.$b.Wp().p(this),this.$b.Wc().p(this),this.uw.S(),this.$b.S(),this.ew.clear(),this.rw.clear(),this.hw.S(),this.lw.S(),this.aw.S(),this.ow.S()}resize(t,e,n){this.autoSizeActive()||this.$b.qm(t,e,n)}addCustomSeries(t,e){const n=zr(t),l=Object.assign(Object.assign({},Cv),n.defaultOptions());return this.cw("Custom",l,e,n)}addAreaSeries(t){return this.cw("Area",zS,t)}addBaselineSeries(t){return this.cw("Baseline",kS,t)}addBarSeries(t){return this.cw("Bar",US,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.cw("Candlestick",_S,t)}addHistogramSeries(t){return this.cw("Histogram",PS,t)}addLineSeries(t){return this.cw("Line",DS,t)}removeSeries(t){const e=ke(this.ew.get(t)),n=this.ow.hd(e);this.$b.qt().hd(e),this.dw(n),this.ew.delete(t),this.rw.delete(e)}Gb(t,e){this.dw(this.ow.Ab(t,e))}Qb(t,e){this.dw(this.ow.Eb(t,e))}subscribeClick(t){this.hw.l(t)}unsubscribeClick(t){this.hw.v(t)}subscribeCrosshairMove(t){this.aw.l(t)}unsubscribeCrosshairMove(t){this.aw.v(t)}subscribeDblClick(t){this.lw.l(t)}unsubscribeDblClick(t){this.lw.v(t)}priceScale(t){return new Qx(this.$b,t)}timeScale(){return this.uw}applyOptions(t){this.$b.Nh(db(t))}options(){return this.$b.W()}takeScreenshot(){return this.$b.tb()}autoSizeActive(){return this.$b.rb()}chartElement(){return this.$b.hb()}paneSize(){const t=this.$b.ab();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,n){const l=this.ew.get(n);if(l===void 0)return;const o=this.$b.qt().cr(l);o!==null&&this.$b.qt().Qc(t,e,o)}clearCrosshairPosition(){this.$b.qt().td(!0)}cw(t,e,n={},l){Jx(n.priceFormat);const o=Ni(cn(Bv),cn(e),n),c=this.$b.qt().ed(t,o,l),f=new Yx(c,this,this,this,this.N_);return this.ew.set(f,c),this.rw.set(c,f),f}dw(t){const e=this.$b.qt();e.nd(t.yt.Au,t.yt.jb,t.yt.Hb),t.Fb.forEach((n,l)=>l.it(n.He,n.Wb)),e.Iu()}fw(t){return ke(this.rw.get(t))}_w(t){const e=new Map;t.Mb.forEach((l,o)=>{const c=o.Xh(),f=pd(c)(l);if(c!=="Custom")$n(function(d){return d.open!==void 0||d.value!==void 0}(f));else{const d=o.Ma();$n(!d||d(f)===!1)}e.set(this.fw(o),f)});const n=t.gb===void 0?void 0:this.fw(t.gb);return{time:t.bb,logical:t.se,point:t.wb,hoveredSeries:n,hoveredObjectId:t.xb,seriesData:e,sourceEvent:t.Sb}}}function Zx(r,t,e){let n;if(Ba(r)){const o=document.getElementById(r);$n(o!==null,`Cannot find element in DOM with id=${r}`),n=o}else n=r;const l=new Xx(n,t,e);return t.setOptions(l.options()),l}function Wx(r,t){return Zx(r,new $y,$y.Td(t))}Object.assign(Object.assign({},Bv),Cv);function gb(r,t=15*60*1e3){if(!r.length)return[];const e={};for(const n of r){const{time:l,baseFee:o,priorityFee:c}=n,f=Math.floor(l/t)*t,d=(o+c)/1e9;e[f]||(e[f]={values:[],time:f}),e[f].values.push(d)}return Object.values(e).map(({values:n,time:l})=>({time:Math.floor(l/1e3),open:n[0],high:Math.max(...n),low:Math.min(...n),close:n[n.length-1]}))}const $x=()=>{const r=Yr.useRef(),t=bi(n=>n.chains.ethereum.history),e=bi(n=>n.mode);return Yr.useEffect(()=>{if(!r.current)return;const n=Wx(r.current,{width:700,height:350,layout:{background:{color:"#fff"},textColor:"#000"},grid:{vertLines:{color:"#eee"},horzLines:{color:"#eee"}}}),l=n.addCandlestickSeries(),o=gb(t);l.setData(o);const c=setInterval(()=>{const f=gb(bi.getState().chains.ethereum.history);l.setData(f)},1e4);return()=>{clearInterval(c),n.remove()}},[t,e]),Rt.jsx("div",{className:"chart-container",ref:r})},tT="6.15.0";function eT(r,t,e){const n=t.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===t)return}const l=new Error(`invalid value for type ${t}`);throw l.code="INVALID_ARGUMENT",l.argument=`value.${e}`,l.value=r,l}async function Le(r){const t=Object.keys(r);return(await Promise.all(t.map(n=>Promise.resolve(r[n])))).reduce((n,l,o)=>(n[t[o]]=l,n),{})}function ot(r,t,e){for(let n in t){let l=t[n];const o=e?e[n]:null;o&&eT(l,o,n),Object.defineProperty(r,n,{enumerable:!0,value:l,writable:!1})}}function Pr(r,t){if(r==null)return"null";if(t==null&&(t=new Set),typeof r=="object"){if(t.has(r))return"[Circular]";t.add(r)}if(Array.isArray(r))return"[ "+r.map(e=>Pr(e,t)).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let l=0;l<r.length;l++)n+=e[r[l]>>4],n+=e[r[l]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return Pr(r.toJSON(),t);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(n=>`${Pr(n,t)}: ${Pr(r[n],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Oe(r,t){return r&&r.code===t}function Zd(r){return Oe(r,"CALL_EXCEPTION")}function Kt(r,t,e){let n=r;{const o=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Pr(e)}`);for(const c in e){if(c==="shortMessage")continue;const f=e[c];o.push(c+"="+Pr(f))}}o.push(`code=${t}`),o.push(`version=${tT}`),o.length&&(r+=" ("+o.join(", ")+")")}let l;switch(t){case"INVALID_ARGUMENT":l=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":l=new RangeError(r);break;default:l=new Error(r)}return ot(l,{code:t}),e&&Object.assign(l,e),l.shortMessage==null&&ot(l,{shortMessage:n}),l}function I(r,t,e,n){if(!r)throw Kt(t,e,n)}function N(r,t,e,n){I(r,t,"INVALID_ARGUMENT",{argument:e,value:n})}function tw(r,t,e){e==null&&(e=""),e&&(e=": "+e),I(r>=t,"missing argument"+e,"MISSING_ARGUMENT",{count:r,expectedCount:t}),I(r<=t,"too many arguments"+e,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((r,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");r.push(t)}catch{}return r},[]);function La(r,t,e){if(e==null&&(e=""),r!==t){let n=e,l="new";e&&(n+=".",l+=" "+e),I(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:l})}}function ew(r,t,e){if(r instanceof Uint8Array)return e?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let l=2;for(let o=0;o<n.length;o++)n[o]=parseInt(r.substring(l,l+2),16),l+=2;return n}N(!1,"invalid BytesLike value",t||"value",r)}function vt(r,t){return ew(r,t,!1)}function _e(r,t){return ew(r,t,!0)}function Qt(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&r.length!==2+2*t||t===!0&&r.length%2!==0)}function Wd(r){return Qt(r,!0)||r instanceof Uint8Array}const pb="0123456789abcdef";function tt(r){const t=vt(r);let e="0x";for(let n=0;n<t.length;n++){const l=t[n];e+=pb[(l&240)>>4]+pb[l&15]}return e}function ne(r){return"0x"+r.map(t=>tt(t).substring(2)).join("")}function Fr(r){return Qt(r,!0)?(r.length-2)/2:vt(r).length}function te(r,t,e){const n=vt(r);return e!=null&&e>n.length&&I(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:e}),tt(n.slice(t??0,e??n.length))}function iw(r,t,e){const n=vt(r);I(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const l=new Uint8Array(t);return l.fill(0),e?l.set(n,t-n.length):l.set(n,0),tt(l)}function mn(r,t){return iw(r,t,!0)}function iT(r,t){return iw(r,t,!1)}const Qu=BigInt(0),Mi=BigInt(1),Hr=9007199254740991;function Nu(r,t){const e=qu(r,"value"),n=BigInt(wt(t,"width"));if(I(e>>n===Qu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),e>>n-Mi){const l=(Mi<<n)-Mi;return-((~e&l)+Mi)}return e}function nw(r,t){let e=it(r,"value");const n=BigInt(wt(t,"width")),l=Mi<<n-Mi;if(e<Qu){e=-e,I(e<=l,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const o=(Mi<<n)-Mi;return(~e&o)+Mi}else I(e<l,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return e}function Cs(r,t){const e=qu(r,"value"),n=BigInt(wt(t,"bits"));return e&(Mi<<n)-Mi}function it(r,t){switch(typeof r){case"bigint":return r;case"number":return N(Number.isInteger(r),"underflow",t||"value",r),N(r>=-Hr&&r<=Hr,"overflow",t||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(e){N(!1,`invalid BigNumberish string: ${e.message}`,t||"value",r)}}N(!1,"invalid BigNumberish value",t||"value",r)}function qu(r,t){const e=it(r,t);return I(e>=Qu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),e}const mb="0123456789abcdef";function ju(r){if(r instanceof Uint8Array){let t="0x0";for(const e of r)t+=mb[e>>4],t+=mb[e&15];return BigInt(t)}return it(r)}function wt(r,t){switch(typeof r){case"bigint":return N(r>=-Hr&&r<=Hr,"overflow",t||"value",r),Number(r);case"number":return N(Number.isInteger(r),"underflow",t||"value",r),N(r>=-Hr&&r<=Hr,"overflow",t||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return wt(BigInt(r),t)}catch(e){N(!1,`invalid numeric string: ${e.message}`,t||"value",r)}}N(!1,"invalid numeric value",t||"value",r)}function nT(r){return wt(ju(r))}function ts(r,t){let n=qu(r,"value").toString(16);if(t==null)n.length%2&&(n="0"+n);else{const l=wt(t,"width");for(I(l*2>=n.length,`value exceeds width (${l} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<l*2;)n="0"+n}return"0x"+n}function ge(r){const t=qu(r,"value");if(t===Qu)return new Uint8Array([]);let e=t.toString(16);e.length%2&&(e="0"+e);const n=new Uint8Array(e.length/2);for(let l=0;l<n.length;l++){const o=l*2;n[l]=parseInt(e.substring(o,o+2),16)}return n}function Oi(r){let t=tt(Wd(r)?r:ge(r)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const yb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const bb=BigInt(58);function sT(r){const t=vt(r);let e=ju(t),n="";for(;e;)n=yb[Number(e%bb)]+n,e/=bb;for(let l=0;l<t.length&&!t[l];l++)n=yb[0]+n;return n}function rT(r){r=atob(r);const t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return vt(t)}function lT(r){const t=vt(r);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class sw{filter;emitter;#t;constructor(t,e,n){this.#t=e,ot(this,{emitter:t,filter:n})}async removeListener(){this.#t!=null&&await this.emitter.off(this.filter,this.#t)}}function aT(r,t,e,n,l){N(!1,`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function rw(r,t,e,n,l){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let o=0;for(let c=t+1;c<e.length&&e[c]>>6===2;c++)o++;return o}return r==="OVERRUN"?e.length-t-1:0}function oT(r,t,e,n,l){return r==="OVERLONG"?(N(typeof l=="number","invalid bad code point for replacement","badCodepoint",l),n.push(l),0):(n.push(65533),rw(r,t,e))}const uT=Object.freeze({error:aT,ignore:rw,replace:oT});function cT(r,t){t==null&&(t=uT.error);const e=vt(r,"bytes"),n=[];let l=0;for(;l<e.length;){const o=e[l++];if(o>>7===0){n.push(o);continue}let c=null,f=null;if((o&224)===192)c=1,f=127;else if((o&240)===224)c=2,f=2047;else if((o&248)===240)c=3,f=65535;else{(o&192)===128?l+=t("UNEXPECTED_CONTINUE",l-1,e,n):l+=t("BAD_PREFIX",l-1,e,n);continue}if(l-1+c>=e.length){l+=t("OVERRUN",l-1,e,n);continue}let d=o&(1<<8-c-1)-1;for(let p=0;p<c;p++){let m=e[l];if((m&192)!=128){l+=t("MISSING_CONTINUE",l,e,n),d=null;break}d=d<<6|m&63,l++}if(d!==null){if(d>1114111){l+=t("OUT_OF_RANGE",l-1-c,e,n,d);continue}if(d>=55296&&d<=57343){l+=t("UTF16_SURROGATE",l-1-c,e,n,d);continue}if(d<=f){l+=t("OVERLONG",l-1-c,e,n,d);continue}n.push(d)}}return n}function gn(r,t){N(typeof r=="string","invalid string value","str",r);let e=[];for(let n=0;n<r.length;n++){const l=r.charCodeAt(n);if(l<128)e.push(l);else if(l<2048)e.push(l>>6|192),e.push(l&63|128);else if((l&64512)==55296){n++;const o=r.charCodeAt(n);N(n<r.length&&(o&64512)===56320,"invalid surrogate pair","str",r);const c=65536+((l&1023)<<10)+(o&1023);e.push(c>>18|240),e.push(c>>12&63|128),e.push(c>>6&63|128),e.push(c&63|128)}else e.push(l>>12|224),e.push(l>>6&63|128),e.push(l&63|128)}return new Uint8Array(e)}function hT(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Cu(r,t){return hT(cT(r,t))}function lw(r){async function t(e,n){I(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const l=e.url.split(":")[0].toLowerCase();I(l==="http"||l==="https",`unsupported protocol ${l}`,"UNSUPPORTED_OPERATION",{info:{protocol:l},operation:"request"}),I(l==="https"||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const c=new AbortController,f=setTimeout(()=>{o=Kt("request timeout","TIMEOUT"),c.abort()},e.timeout);n&&n.addListener(()=>{o=Kt("request cancelled","CANCELLED"),c.abort()});const d=Object.assign({},r,{method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:c.signal});let p;try{p=await fetch(e.url,d)}catch(E){throw clearTimeout(f),o||E}clearTimeout(f);const m={};p.headers.forEach((E,S)=>{m[S.toLowerCase()]=E});const y=await p.arrayBuffer(),v=y==null?null:new Uint8Array(y);return{statusCode:p.status,statusMessage:p.statusText,headers:m,body:v}}return t}const fT=12,dT=250;let vb=lw();const gT=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),pT=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let If=!1;async function aw(r,t){try{const e=r.match(gT);if(!e)throw new Error("invalid data");return new Wn(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?rT(e[3]):yT(e[3]))}catch{return new Wn(599,"BAD REQUEST (invalid data: URI)",{},null,new Ii(r))}}function ow(r){async function t(e,n){try{const l=e.match(pT);if(!l)throw new Error("invalid link");return new Ii(`${r}${l[2]}`)}catch{return new Wn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ii(e))}}return t}const fu={data:aw,ipfs:ow("https://gateway.ipfs.io/ipfs/")},uw=new WeakMap;class mT{#t;#e;constructor(t){this.#t=[],this.#e=!1,uw.set(t,()=>{if(!this.#e){this.#e=!0;for(const e of this.#t)setTimeout(()=>{e()},0);this.#t=[]}})}addListener(t){I(!this.#e,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#t.push(t)}get cancelled(){return this.#e}checkSignal(){I(!this.cancelled,"cancelled","CANCELLED",{})}}function du(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}class Ii{#t;#e;#i;#n;#s;#l;#r;#a;#h;#u;#g;#p;#o;#c;#f;get url(){return this.#l}set url(t){this.#l=String(t)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}set body(t){if(t==null)this.#r=void 0,this.#a=void 0;else if(typeof t=="string")this.#r=gn(t),this.#a="text/plain";else if(t instanceof Uint8Array)this.#r=t,this.#a="application/octet-stream";else if(typeof t=="object")this.#r=gn(JSON.stringify(t)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#r!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),this.#n=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#i);return this.#h&&(t.authorization=`Basic ${lT(gn(this.#h))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&this.#a&&(t["content-type"]=this.#a),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#i[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#i={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const l=e[n++];return{value:[l,t[l]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#h||null}setCredentials(t,e){N(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#h=`${t}:${e}`}get allowGzip(){return this.#e}set allowGzip(t){this.#e=!!t}get allowInsecureAuthentication(){return!!this.#t}set allowInsecureAuthentication(t){this.#t=!!t}get timeout(){return this.#s}set timeout(t){N(t>=0,"timeout must be non-zero","timeout",t),this.#s=t}get preflightFunc(){return this.#u||null}set preflightFunc(t){this.#u=t}get processFunc(){return this.#g||null}set processFunc(t){this.#g=t}get retryFunc(){return this.#p||null}set retryFunc(t){this.#p=t}get getUrlFunc(){return this.#f||vb}set getUrlFunc(t){this.#f=t}constructor(t){this.#l=String(t),this.#t=!1,this.#e=!0,this.#i={},this.#n="",this.#s=3e5,this.#c={slotInterval:dT,maxAttempts:fT},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#r?tt(this.#r):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(this.#c.slotInterval=t.slotInterval),t.maxAttempts!=null&&(this.#c.maxAttempts=t.maxAttempts)}async#d(t,e,n,l,o){if(t>=this.#c.maxAttempts)return o.makeServerError("exceeded maximum retry limit");I(wb()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:l}),n>0&&await bT(n);let c=this.clone();const f=(c.url.split(":")[0]||"").toLowerCase();if(f in fu){const m=await fu[f](c.url,du(l.#o));if(m instanceof Wn){let y=m;if(this.processFunc){du(l.#o);try{y=await this.processFunc(c,y)}catch(v){(v.throttle==null||typeof v.stall!="number")&&y.makeServerError("error in post-processing function",v).assertOk()}}return y}c=m}this.preflightFunc&&(c=await this.preflightFunc(c));const d=await this.getUrlFunc(c,du(l.#o));let p=new Wn(d.statusCode,d.statusMessage,d.headers,d.body,l);if(p.statusCode===301||p.statusCode===302){try{const m=p.headers.location||"";return c.redirect(m).#d(t+1,e,0,l,p)}catch{}return p}else if(p.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,p,t))){const m=p.headers["retry-after"];let y=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(y=parseInt(m)),c.clone().#d(t+1,e,y,l,p)}if(this.processFunc){du(l.#o);try{p=await this.processFunc(c,p)}catch(m){(m.throttle==null||typeof m.stall!="number")&&p.makeServerError("error in post-processing function",m).assertOk();let y=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return m.stall>=0&&(y=m.stall),c.clone().#d(t+1,e,y,l,p)}}return p}send(){return I(this.#o==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#o=new mT(this),this.#d(0,wb()+this.timeout,0,this,new Wn(0,"",{},null,this))}cancel(){I(this.#o!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=uw.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();I(this.method==="GET"&&(e!=="https"||n!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const l=new Ii(t);return l.method="GET",l.allowGzip=this.allowGzip,l.timeout=this.timeout,l.#i=Object.assign({},this.#i),this.#r&&(l.#r=new Uint8Array(this.#r)),l.#a=this.#a,l}clone(){const t=new Ii(this.url);return t.#n=this.#n,this.#r&&(t.#r=this.#r),t.#a=this.#a,t.#i=Object.assign({},this.#i),t.#h=this.#h,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#u=this.#u,t.#g=this.#g,t.#p=this.#p,t.#c=Object.assign({},this.#c),t.#f=this.#f,t}static lockConfig(){If=!0}static getGateway(t){return fu[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(If)throw new Error("gateways locked");fu[t]=e}static registerGetUrl(t){if(If)throw new Error("gateways locked");vb=t}static createGetUrlFunc(t){return lw(t)}static createDataGateway(){return aw}static createIpfsGatewayFunc(t){return ow(t)}}class Wn{#t;#e;#i;#n;#s;#l;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?tt(this.#n):"null"}>`}get statusCode(){return this.#t}get statusMessage(){return this.#e}get headers(){return Object.assign({},this.#i)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":Cu(this.#n)}catch{I(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{I(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const l=e[n++];return{value:[l,t[l]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,n,l,o){this.#t=t,this.#e=e,this.#i=Object.keys(n).reduce((c,f)=>(c[f.toLowerCase()]=String(n[f]),c),{}),this.#n=l==null?null:new Uint8Array(l),this.#s=o||null,this.#l={message:""}}makeServerError(t,e){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const l=new Wn(599,n,this.headers,this.body,this.#s||void 0);return l.#l={message:t,error:e},l}throwThrottleError(t,e){e==null?e=-1:N(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const n=new Error(t||"throttling requests");throw ot(n,{stall:e,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#s}ok(){return this.#l.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#l;t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let l=null;try{this.#n&&(l=Cu(this.#n))}catch{}I(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:n,responseBody:l,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function wb(){return new Date().getTime()}function yT(r){return gn(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function bT(r){return new Promise(t=>setTimeout(t,r))}const vT=BigInt(-1),Si=BigInt(0),Gr=BigInt(1),wT=BigInt(5),Lr={};let Ir="0000";for(;Ir.length<80;)Ir+=Ir;function Ss(r){let t=Ir;for(;t.length<r;)t+=t;return BigInt("1"+t.substring(0,r))}function la(r,t,e){const n=BigInt(t.width);if(t.signed){const l=Gr<<n-Gr;I(e==null||r>=-l&&r<l,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:r}),r>Si?r=Nu(Cs(r,n),n):r=-Nu(Cs(-r,n),n)}else{const l=Gr<<n;I(e==null||r>=0&&r<l,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:r}),r=(r%l+l)%l&l-Gr}return r}function Qf(r){typeof r=="number"&&(r=`fixed128x${r}`);let t=!0,e=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")t=!1;else{const o=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);N(o,"invalid fixed format","format",r),t=o[1]!=="u",e=parseInt(o[2]),n=parseInt(o[3])}}else if(r){const o=r,c=(f,d,p)=>o[f]==null?p:(N(typeof o[f]===d,"invalid fixed format ("+f+" not "+d+")","format."+f,o[f]),o[f]);t=c("signed","boolean",t),e=c("width","number",e),n=c("decimals","number",n)}N(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),N(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const l=(t?"":"u")+"fixed"+String(e)+"x"+String(n);return{signed:t,width:e,decimals:n,name:l}}function AT(r,t){let e="";r<Si&&(e="-",r*=vT);let n=r.toString();if(t===0)return e+n;for(;n.length<=t;)n=Ir+n;const l=n.length-t;for(n=n.substring(0,l)+"."+n.substring(l);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return e+n}class Zn{format;#t;#e;#i;_value;constructor(t,e,n){La(t,Lr,"FixedNumber"),this.#e=e,this.#t=n;const l=AT(e,n.decimals);ot(this,{format:n.name,_value:l}),this.#i=Ss(n.decimals)}get signed(){return this.#t.signed}get width(){return this.#t.width}get decimals(){return this.#t.decimals}get value(){return this.#e}#n(t){N(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#s(t,e){return t=la(t,this.#t,e),new Zn(Lr,t,this.#t)}#l(t,e){return this.#n(t),this.#s(this.#e+t.#e,e)}addUnsafe(t){return this.#l(t)}add(t){return this.#l(t,"add")}#r(t,e){return this.#n(t),this.#s(this.#e-t.#e,e)}subUnsafe(t){return this.#r(t)}sub(t){return this.#r(t,"sub")}#a(t,e){return this.#n(t),this.#s(this.#e*t.#e/this.#i,e)}mulUnsafe(t){return this.#a(t)}mul(t){return this.#a(t,"mul")}mulSignal(t){this.#n(t);const e=this.#e*t.#e;return I(e%this.#i===Si,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(e/this.#i,"mulSignal")}#h(t,e){return I(t.#e!==Si,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(t),this.#s(this.#e*this.#i/t.#e,e)}divUnsafe(t){return this.#h(t)}div(t){return this.#h(t,"div")}divSignal(t){I(t.#e!==Si,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(t);const e=this.#e*this.#i;return I(e%t.#e===Si,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(e/t.#e,"divSignal")}cmp(t){let e=this.value,n=t.value;const l=this.decimals-t.decimals;return l>0?n*=Ss(l):l<0&&(e*=Ss(-l)),e<n?-1:e>n?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#e;return this.#e<Si&&(t-=this.#i-Gr),t=this.#e/this.#i*this.#i,this.#s(t,"floor")}ceiling(){let t=this.#e;return this.#e>Si&&(t+=this.#i-Gr),t=this.#e/this.#i*this.#i,this.#s(t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,n=wT*Ss(e-1);let l=this.value+n;const o=Ss(e);return l=l/o*o,la(l,this.#t,"round"),new Zn(Lr,l,this.#t)}isZero(){return this.#e===Si}isNegative(){return this.#e<Si}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Zn.fromString(this.toString(),t)}static fromValue(t,e,n){const l=e==null?0:wt(e),o=Qf(n);let c=it(t,"value");const f=l-o.decimals;if(f>0){const d=Ss(f);I(c%d===Si,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),c/=d}else f<0&&(c*=Ss(-f));return la(c,o,"fromValue"),new Zn(Lr,c,o)}static fromString(t,e){const n=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);N(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",t);const l=Qf(e);let o=n[2]||"0",c=n[3]||"";for(;c.length<l.decimals;)c+=Ir;I(c.substring(l.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),c=c.substring(0,l.decimals);const f=BigInt(n[1]+o+c);return la(f,l,"fromString"),new Zn(Lr,f,l)}static fromBytes(t,e){let n=ju(vt(t,"value"));const l=Qf(e);return l.signed&&(n=Nu(n,l.width)),la(n,l,"fromBytes"),new Zn(Lr,n,l)}}function ET(r){let t=r.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Ab(r,t,e){let n=0;for(let l=0;l<e;l++)n=n*256+r[t+l];return n}function Eb(r,t,e,n){const l=[];for(;e<t+1+n;){const o=cw(r,e);l.push(o.result),e+=o.consumed,I(e<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:t})}return{consumed:1+n,result:l}}function cw(r,t){I(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const e=n=>{I(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[t]>=248){const n=r[t]-247;e(t+1+n);const l=Ab(r,t+1,n);return e(t+1+n+l),Eb(r,t,t+1+n,n+l)}else if(r[t]>=192){const n=r[t]-192;return e(t+1+n),Eb(r,t,t+1,n)}else if(r[t]>=184){const n=r[t]-183;e(t+1+n);const l=Ab(r,t+1,n);e(t+1+n+l);const o=tt(r.slice(t+1+n,t+1+n+l));return{consumed:1+n+l,result:o}}else if(r[t]>=128){const n=r[t]-128;e(t+1+n);const l=tt(r.slice(t+1,t+1+n));return{consumed:1+n,result:l}}return{consumed:1,result:ET(r[t])}}function _a(r){const t=vt(r,"data"),e=cw(t,0);return N(e.consumed===t.length,"unexpected junk after rlp payload","data",r),e.result}function Sb(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function hw(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(o){n=n.concat(hw(o))}),n.length<=55)return n.unshift(192+n.length),n;const l=Sb(n.length);return l.unshift(247+l.length),l.concat(n)}const t=Array.prototype.slice.call(vt(r,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=Sb(t.length);return e.unshift(183+e.length),e.concat(t)}const xb="0123456789abcdef";function es(r){let t="0x";for(const e of hw(r))t+=xb[e>>4],t+=xb[e&15];return t}const ST=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Tb(r,t){let e=18;{const n=ST.indexOf(t);N(n>=0,"invalid unit","unit",t),e=3*n}return Zn.fromValue(r,e,{decimals:e,width:512}).toString()}const Ue=32,md=new Uint8Array(Ue),xT=["then"],gu={},fw=new WeakMap;function Os(r){return fw.get(r)}function Ob(r,t){fw.set(r,t)}function aa(r,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw e.error=t,e}function yd(r,t,e){return r.indexOf(null)>=0?t.map((n,l)=>n instanceof fn?yd(Os(n),n,e):n):r.reduce((n,l,o)=>{let c=t.getValue(l);return l in n||(e&&c instanceof fn&&(c=yd(Os(c),c,e)),n[l]=c),n},{})}class fn extends Array{#t;constructor(...t){const e=t[0];let n=t[1],l=(t[2]||[]).slice(),o=!0;e!==gu&&(n=t,l=[],o=!1),super(n.length),n.forEach((d,p)=>{this[p]=d});const c=l.reduce((d,p)=>(typeof p=="string"&&d.set(p,(d.get(p)||0)+1),d),new Map);if(Ob(this,Object.freeze(n.map((d,p)=>{const m=l[p];return m!=null&&c.get(m)===1?m:null}))),this.#t=[],this.#t==null&&this.#t,!o)return;Object.freeze(this);const f=new Proxy(this,{get:(d,p,m)=>{if(typeof p=="string"){if(p.match(/^[0-9]+$/)){const v=wt(p,"%index");if(v<0||v>=this.length)throw new RangeError("out of result range");const E=d[v];return E instanceof Error&&aa(`index ${v}`,E),E}if(xT.indexOf(p)>=0)return Reflect.get(d,p,m);const y=d[p];if(y instanceof Function)return function(...v){return y.apply(this===m?d:this,v)};if(!(p in d))return d.getValue.apply(this===m?d:this,[p])}return Reflect.get(d,p,m)}});return Ob(f,Os(this)),f}toArray(t){const e=[];return this.forEach((n,l)=>{n instanceof Error&&aa(`index ${l}`,n),t&&n instanceof fn&&(n=n.toArray(t)),e.push(n)}),e}toObject(t){const e=Os(this);return e.reduce((n,l,o)=>(I(l!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),yd(e,this,t)),{})}slice(t,e){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),e==null&&(e=this.length),e<0&&(e+=this.length,e<0&&(e=0)),e>this.length&&(e=this.length);const n=Os(this),l=[],o=[];for(let c=t;c<e;c++)l.push(this[c]),o.push(n[c]);return new fn(gu,l,o)}filter(t,e){const n=Os(this),l=[],o=[];for(let c=0;c<this.length;c++){const f=this[c];f instanceof Error&&aa(`index ${c}`,f),t.call(e,f,c,this)&&(l.push(f),o.push(n[c]))}return new fn(gu,l,o)}map(t,e){const n=[];for(let l=0;l<this.length;l++){const o=this[l];o instanceof Error&&aa(`index ${l}`,o),n.push(t.call(e,o,l,this))}return n}getValue(t){const e=Os(this).indexOf(t);if(e===-1)return;const n=this[e];return n instanceof Error&&aa(`property ${JSON.stringify(t)}`,n.error),n}static fromItems(t,e){return new fn(gu,t,e)}}function Mb(r){let t=ge(r);return I(t.length<=Ue,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ue,offset:t.length}),t.length!==Ue&&(t=_e(ne([md.slice(t.length%Ue),t]))),t}class vn{name;type;localName;dynamic;constructor(t,e,n,l){ot(this,{name:t,type:e,localName:n,dynamic:l},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){N(!1,t,this.localName,e)}}class bd{#t;#e;constructor(){this.#t=[],this.#e=0}get data(){return ne(this.#t)}get length(){return this.#e}#i(t){return this.#t.push(t),this.#e+=t.length,t.length}appendWriter(t){return this.#i(_e(t.data))}writeBytes(t){let e=_e(t);const n=e.length%Ue;return n&&(e=_e(ne([e,md.slice(n)]))),this.#i(e)}writeValue(t){return this.#i(Mb(t))}writeUpdatableValue(){const t=this.#t.length;return this.#t.push(md),this.#e+=Ue,e=>{this.#t[t]=Mb(e)}}}class $d{allowLoose;#t;#e;#i;#n;#s;constructor(t,e,n){ot(this,{allowLoose:!!e}),this.#t=_e(t),this.#i=0,this.#n=null,this.#s=n??1024,this.#e=0}get data(){return tt(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#t)}#l(t){if(this.#n)return this.#n.#l(t);this.#i+=t,I(this.#s<1||this.#i<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:_e(this.#t),offset:this.#e,length:t,info:{bytesRead:this.#i,dataLength:this.dataLength}})}#r(t,e,n){let l=Math.ceil(e/Ue)*Ue;return this.#e+l>this.#t.length&&(this.allowLoose&&n&&this.#e+e<=this.#t.length?l=e:I(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:_e(this.#t),length:this.#t.length,offset:this.#e+l})),this.#t.slice(this.#e,this.#e+l)}subReader(t){const e=new $d(this.#t.slice(this.#e+t),this.allowLoose,this.#s);return e.#n=this,e}readBytes(t,e){let n=this.#r(0,t,!!e);return this.#l(t),this.#e+=n.length,n.slice(0,t)}readValue(){return ju(this.readBytes(Ue))}readIndex(){return nT(this.readBytes(Ue))}}function Bu(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function t0(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function TT(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bu(r.outputLen),Bu(r.blockLen)}function Xr(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function dw(r,t){t0(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const qf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gw=r=>r instanceof Uint8Array,OT=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),jf=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Hi=(r,t)=>r<<32-t|r>>>t,MT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!MT)throw new Error("Non little-endian hardware is not supported");function NT(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Yu(r){if(typeof r=="string"&&(r=NT(r)),!gw(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function CT(...r){const t=new Uint8Array(r.reduce((n,l)=>n+l.length,0));let e=0;return r.forEach(n=>{if(!gw(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}class e0{clone(){return this._cloneInto()}}function i0(r){const t=n=>r().update(Yu(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function BT(r=32){if(qf&&typeof qf.getRandomValues=="function")return qf.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class pw extends e0{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,TT(t);const n=Yu(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,o=new Uint8Array(l);o.set(n.length>l?t.create().update(n).digest():n);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=t.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(t){return Xr(this),this.iHash.update(t),this}digestInto(t){Xr(this),t0(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:l,destroyed:o,blockLen:c,outputLen:f}=this;return t=t,t.finished=l,t.destroyed=o,t.blockLen=c,t.outputLen=f,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mw=(r,t,e)=>new pw(r,t).update(e).digest();mw.create=(r,t)=>new pw(r,t);function RT(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const l=BigInt(32),o=BigInt(4294967295),c=Number(e>>l&o),f=Number(e&o),d=n?4:0,p=n?0:4;r.setUint32(t+d,c,n),r.setUint32(t+p,f,n)}class yw extends e0{constructor(t,e,n,l){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=jf(this.buffer)}update(t){Xr(this);const{view:e,buffer:n,blockLen:l}=this;t=Yu(t);const o=t.length;for(let c=0;c<o;){const f=Math.min(l-this.pos,o-c);if(f===l){const d=jf(t);for(;l<=o-c;c+=l)this.process(d,c);continue}n.set(t.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===l&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Xr(this),dw(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:l,isLE:o}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(n,0),c=0);for(let y=c;y<l;y++)e[y]=0;RT(n,l-8,BigInt(this.length*8),o),this.process(n,0);const f=jf(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,m[y],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:l,finished:o,destroyed:c,pos:f}=this;return t.length=l,t.pos=f,t.finished=o,t.destroyed=c,l%e&&t.buffer.set(n),t}}const LT=(r,t,e)=>r&t^~r&e,_T=(r,t,e)=>r&t^r&e^t&e,UT=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yn=new Uint32Array(64);class DT extends yw{constructor(){super(64,32,8,!1),this.A=jn[0]|0,this.B=jn[1]|0,this.C=jn[2]|0,this.D=jn[3]|0,this.E=jn[4]|0,this.F=jn[5]|0,this.G=jn[6]|0,this.H=jn[7]|0}get(){const{A:t,B:e,C:n,D:l,E:o,F:c,G:f,H:d}=this;return[t,e,n,l,o,c,f,d]}set(t,e,n,l,o,c,f,d){this.A=t|0,this.B=e|0,this.C=n|0,this.D=l|0,this.E=o|0,this.F=c|0,this.G=f|0,this.H=d|0}process(t,e){for(let y=0;y<16;y++,e+=4)Yn[y]=t.getUint32(e,!1);for(let y=16;y<64;y++){const v=Yn[y-15],E=Yn[y-2],S=Hi(v,7)^Hi(v,18)^v>>>3,A=Hi(E,17)^Hi(E,19)^E>>>10;Yn[y]=A+Yn[y-7]+S+Yn[y-16]|0}let{A:n,B:l,C:o,D:c,E:f,F:d,G:p,H:m}=this;for(let y=0;y<64;y++){const v=Hi(f,6)^Hi(f,11)^Hi(f,25),E=m+v+LT(f,d,p)+UT[y]+Yn[y]|0,A=(Hi(n,2)^Hi(n,13)^Hi(n,22))+_T(n,l,o)|0;m=p,p=d,d=f,f=c+E|0,c=o,o=l,l=n,n=E+A|0}n=n+this.A|0,l=l+this.B|0,o=o+this.C|0,c=c+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(n,l,o,c,f,d,p,m)}roundClean(){Yn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const bw=i0(()=>new DT),pu=BigInt(2**32-1),vd=BigInt(32);function vw(r,t=!1){return t?{h:Number(r&pu),l:Number(r>>vd&pu)}:{h:Number(r>>vd&pu)|0,l:Number(r&pu)|0}}function ww(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let l=0;l<r.length;l++){const{h:o,l:c}=vw(r[l],t);[e[l],n[l]]=[o,c]}return[e,n]}const zT=(r,t)=>BigInt(r>>>0)<<vd|BigInt(t>>>0),kT=(r,t,e)=>r>>>e,PT=(r,t,e)=>r<<32-e|t>>>e,HT=(r,t,e)=>r>>>e|t<<32-e,GT=(r,t,e)=>r<<32-e|t>>>e,VT=(r,t,e)=>r<<64-e|t>>>e-32,FT=(r,t,e)=>r>>>e-32|t<<64-e,IT=(r,t)=>t,QT=(r,t)=>r,Aw=(r,t,e)=>r<<e|t>>>32-e,Ew=(r,t,e)=>t<<e|r>>>32-e,Sw=(r,t,e)=>t<<e-32|r>>>64-e,xw=(r,t,e)=>r<<e-32|t>>>64-e;function qT(r,t,e,n){const l=(t>>>0)+(n>>>0);return{h:r+e+(l/2**32|0)|0,l:l|0}}const jT=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),YT=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,KT=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),JT=(r,t,e,n,l)=>t+e+n+l+(r/2**32|0)|0,XT=(r,t,e,n,l)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(l>>>0),ZT=(r,t,e,n,l,o)=>t+e+n+l+o+(r/2**32|0)|0,mt={fromBig:vw,split:ww,toBig:zT,shrSH:kT,shrSL:PT,rotrSH:HT,rotrSL:GT,rotrBH:VT,rotrBL:FT,rotr32H:IT,rotr32L:QT,rotlSH:Aw,rotlSL:Ew,rotlBH:Sw,rotlBL:xw,add:qT,add3L:jT,add3H:YT,add4L:KT,add4H:JT,add5H:ZT,add5L:XT},[WT,$T]=mt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Kn=new Uint32Array(80),Jn=new Uint32Array(80);class tO extends yw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:l,Ch:o,Cl:c,Dh:f,Dl:d,Eh:p,El:m,Fh:y,Fl:v,Gh:E,Gl:S,Hh:A,Hl:M}=this;return[t,e,n,l,o,c,f,d,p,m,y,v,E,S,A,M]}set(t,e,n,l,o,c,f,d,p,m,y,v,E,S,A,M){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=l|0,this.Ch=o|0,this.Cl=c|0,this.Dh=f|0,this.Dl=d|0,this.Eh=p|0,this.El=m|0,this.Fh=y|0,this.Fl=v|0,this.Gh=E|0,this.Gl=S|0,this.Hh=A|0,this.Hl=M|0}process(t,e){for(let k=0;k<16;k++,e+=4)Kn[k]=t.getUint32(e),Jn[k]=t.getUint32(e+=4);for(let k=16;k<80;k++){const Y=Kn[k-15]|0,Q=Jn[k-15]|0,K=mt.rotrSH(Y,Q,1)^mt.rotrSH(Y,Q,8)^mt.shrSH(Y,Q,7),$=mt.rotrSL(Y,Q,1)^mt.rotrSL(Y,Q,8)^mt.shrSL(Y,Q,7),J=Kn[k-2]|0,ut=Jn[k-2]|0,dt=mt.rotrSH(J,ut,19)^mt.rotrBH(J,ut,61)^mt.shrSH(J,ut,6),gt=mt.rotrSL(J,ut,19)^mt.rotrBL(J,ut,61)^mt.shrSL(J,ut,6),Et=mt.add4L($,gt,Jn[k-7],Jn[k-16]),Dt=mt.add4H(Et,K,dt,Kn[k-7],Kn[k-16]);Kn[k]=Dt|0,Jn[k]=Et|0}let{Ah:n,Al:l,Bh:o,Bl:c,Ch:f,Cl:d,Dh:p,Dl:m,Eh:y,El:v,Fh:E,Fl:S,Gh:A,Gl:M,Hh:R,Hl:H}=this;for(let k=0;k<80;k++){const Y=mt.rotrSH(y,v,14)^mt.rotrSH(y,v,18)^mt.rotrBH(y,v,41),Q=mt.rotrSL(y,v,14)^mt.rotrSL(y,v,18)^mt.rotrBL(y,v,41),K=y&E^~y&A,$=v&S^~v&M,J=mt.add5L(H,Q,$,$T[k],Jn[k]),ut=mt.add5H(J,R,Y,K,WT[k],Kn[k]),dt=J|0,gt=mt.rotrSH(n,l,28)^mt.rotrBH(n,l,34)^mt.rotrBH(n,l,39),Et=mt.rotrSL(n,l,28)^mt.rotrBL(n,l,34)^mt.rotrBL(n,l,39),Dt=n&o^n&f^o&f,Xt=l&c^l&d^c&d;R=A|0,H=M|0,A=E|0,M=S|0,E=y|0,S=v|0,{h:y,l:v}=mt.add(p|0,m|0,ut|0,dt|0),p=f|0,m=d|0,f=o|0,d=c|0,o=n|0,c=l|0;const q=mt.add3L(dt,Et,Xt);n=mt.add3H(q,ut,gt,Dt),l=q|0}({h:n,l}=mt.add(this.Ah|0,this.Al|0,n|0,l|0)),{h:o,l:c}=mt.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:f,l:d}=mt.add(this.Ch|0,this.Cl|0,f|0,d|0),{h:p,l:m}=mt.add(this.Dh|0,this.Dl|0,p|0,m|0),{h:y,l:v}=mt.add(this.Eh|0,this.El|0,y|0,v|0),{h:E,l:S}=mt.add(this.Fh|0,this.Fl|0,E|0,S|0),{h:A,l:M}=mt.add(this.Gh|0,this.Gl|0,A|0,M|0),{h:R,l:H}=mt.add(this.Hh|0,this.Hl|0,R|0,H|0),this.set(n,l,o,c,f,d,p,m,y,v,E,S,A,M,R,H)}roundClean(){Kn.fill(0),Jn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const eO=i0(()=>new tO);function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Nb=iO();Nb.crypto||Nb.msCrypto;function nO(r){switch(r){case"sha256":return bw.create();case"sha512":return eO.create()}N(!1,"invalid hashing algorithm name","algorithm",r)}const[Tw,Ow,Mw]=[[],[],[]],sO=BigInt(0),oa=BigInt(1),rO=BigInt(2),lO=BigInt(7),aO=BigInt(256),oO=BigInt(113);for(let r=0,t=oa,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],Tw.push(2*(5*n+e)),Ow.push((r+1)*(r+2)/2%64);let l=sO;for(let o=0;o<7;o++)t=(t<<oa^(t>>lO)*oO)%aO,t&rO&&(l^=oa<<(oa<<BigInt(o))-oa);Mw.push(l)}const[uO,cO]=ww(Mw,!0),Cb=(r,t,e)=>e>32?Sw(r,t,e):Aw(r,t,e),Bb=(r,t,e)=>e>32?xw(r,t,e):Ew(r,t,e);function hO(r,t=24){const e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let c=0;c<10;c++)e[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const f=(c+8)%10,d=(c+2)%10,p=e[d],m=e[d+1],y=Cb(p,m,1)^e[f],v=Bb(p,m,1)^e[f+1];for(let E=0;E<50;E+=10)r[c+E]^=y,r[c+E+1]^=v}let l=r[2],o=r[3];for(let c=0;c<24;c++){const f=Ow[c],d=Cb(l,o,f),p=Bb(l,o,f),m=Tw[c];l=r[m],o=r[m+1],r[m]=d,r[m+1]=p}for(let c=0;c<50;c+=10){for(let f=0;f<10;f++)e[f]=r[c+f];for(let f=0;f<10;f++)r[c+f]^=~e[(f+2)%10]&e[(f+4)%10]}r[0]^=uO[n],r[1]^=cO[n]}e.fill(0)}class n0 extends e0{constructor(t,e,n,l=!1,o=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=l,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Bu(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=OT(this.state)}keccak(){hO(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Xr(this);const{blockLen:e,state:n}=this;t=Yu(t);const l=t.length;for(let o=0;o<l;){const c=Math.min(e-this.pos,l-o);for(let f=0;f<c;f++)n[this.pos++]^=t[o++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:l}=this;t[n]^=e,(e&128)!==0&&n===l-1&&this.keccak(),t[l-1]^=128,this.keccak()}writeInto(t){Xr(this,!1),t0(t),this.finish();const e=this.state,{blockLen:n}=this;for(let l=0,o=t.length;l<o;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,o-l);t.set(e.subarray(this.posOut,this.posOut+c),l),this.posOut+=c,l+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Bu(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(dw(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:l,rounds:o,enableXOF:c}=this;return t||(t=new n0(e,n,l,c,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=l,t.enableXOF=c,t.destroyed=this.destroyed,t}}const fO=(r,t,e)=>i0(()=>new n0(t,r,e)),dO=fO(1,136,256/8);let Nw=!1;const Cw=function(r){return dO(r)};let Bw=Cw;function he(r){const t=vt(r,"data");return tt(Bw(t))}he._=Cw;he.lock=function(){Nw=!0};he.register=function(r){if(Nw)throw new TypeError("keccak256 is locked");Bw=r};Object.freeze(he);const Rw=function(r){return nO("sha256").update(r).digest()};let Lw=Rw,_w=!1;function sl(r){const t=vt(r,"data");return tt(Lw(t))}sl._=Rw;sl.lock=function(){_w=!0};sl.register=function(r){if(_w)throw new Error("sha256 is locked");Lw=r};Object.freeze(sl);Object.freeze(sl);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uw=BigInt(0),Ku=BigInt(1),gO=BigInt(2),Ju=r=>r instanceof Uint8Array,pO=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Zr(r){if(!Ju(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=pO[r[e]];return t}function Dw(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function s0(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function Wr(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){const l=n*2,o=r.slice(l,l+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");e[n]=c}return e}function Us(r){return s0(Zr(r))}function r0(r){if(!Ju(r))throw new Error("Uint8Array expected");return s0(Zr(Uint8Array.from(r).reverse()))}function $r(r,t){return Wr(r.toString(16).padStart(t*2,"0"))}function l0(r,t){return $r(r,t).reverse()}function mO(r){return Wr(Dw(r))}function xi(r,t,e){let n;if(typeof t=="string")try{n=Wr(t)}catch(o){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Ju(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);const l=n.length;if(typeof e=="number"&&l!==e)throw new Error(`${r} expected ${e} bytes, got ${l}`);return n}function Ea(...r){const t=new Uint8Array(r.reduce((n,l)=>n+l.length,0));let e=0;return r.forEach(n=>{if(!Ju(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}function yO(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function bO(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function vO(r){let t;for(t=0;r>Uw;r>>=Ku,t+=1);return t}function wO(r,t){return r>>BigInt(t)&Ku}const AO=(r,t,e)=>r|(e?Ku:Uw)<<BigInt(t),a0=r=>(gO<<BigInt(r-1))-Ku,Yf=r=>new Uint8Array(r),Rb=r=>Uint8Array.from(r);function zw(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=Yf(r),l=Yf(r),o=0;const c=()=>{n.fill(1),l.fill(0),o=0},f=(...y)=>e(l,n,...y),d=(y=Yf())=>{l=f(Rb([0]),y),n=f(),y.length!==0&&(l=f(Rb([1]),y),n=f())},p=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const v=[];for(;y<t;){n=f();const E=n.slice();v.push(E),y+=n.length}return Ea(...v)};return(y,v)=>{c(),d(y);let E;for(;!(E=v(p()));)d();return c(),E}}const EO={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Ua(r,t,e={}){const n=(l,o,c)=>{const f=EO[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);const d=r[l];if(!(c&&d===void 0)&&!f(d,r))throw new Error(`Invalid param ${String(l)}=${d} (${typeof d}), expected ${o}`)};for(const[l,o]of Object.entries(t))n(l,o,!1);for(const[l,o]of Object.entries(e))n(l,o,!0);return r}const SO=Object.freeze(Object.defineProperty({__proto__:null,bitGet:wO,bitLen:vO,bitMask:a0,bitSet:AO,bytesToHex:Zr,bytesToNumberBE:Us,bytesToNumberLE:r0,concatBytes:Ea,createHmacDrbg:zw,ensureBytes:xi,equalBytes:yO,hexToBytes:Wr,hexToNumber:s0,numberToBytesBE:$r,numberToBytesLE:l0,numberToHexUnpadded:Dw,numberToVarBytesBE:mO,utf8ToBytes:bO,validateObject:Ua},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const we=BigInt(0),ae=BigInt(1),Ms=BigInt(2),xO=BigInt(3),wd=BigInt(4),Lb=BigInt(5),_b=BigInt(8);BigInt(9);BigInt(16);function Qe(r,t){const e=r%t;return e>=we?e:t+e}function TO(r,t,e){if(e<=we||t<we)throw new Error("Expected power/modulo > 0");if(e===ae)return we;let n=ae;for(;t>we;)t&ae&&(n=n*r%e),r=r*r%e,t>>=ae;return n}function pi(r,t,e){let n=r;for(;t-- >we;)n*=n,n%=e;return n}function Ad(r,t){if(r===we||t<=we)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Qe(r,t),n=t,l=we,o=ae;for(;e!==we;){const f=n/e,d=n%e,p=l-o*f;n=e,e=d,l=o,o=p}if(n!==ae)throw new Error("invert: does not exist");return Qe(l,t)}function OO(r){const t=(r-ae)/Ms;let e,n,l;for(e=r-ae,n=0;e%Ms===we;e/=Ms,n++);for(l=Ms;l<r&&TO(l,t,r)!==r-ae;l++);if(n===1){const c=(r+ae)/wd;return function(d,p){const m=d.pow(p,c);if(!d.eql(d.sqr(m),p))throw new Error("Cannot find square root");return m}}const o=(e+ae)/Ms;return function(f,d){if(f.pow(d,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let p=n,m=f.pow(f.mul(f.ONE,l),e),y=f.pow(d,o),v=f.pow(d,e);for(;!f.eql(v,f.ONE);){if(f.eql(v,f.ZERO))return f.ZERO;let E=1;for(let A=f.sqr(v);E<p&&!f.eql(A,f.ONE);E++)A=f.sqr(A);const S=f.pow(m,ae<<BigInt(p-E-1));m=f.sqr(S),y=f.mul(y,S),v=f.mul(v,m),p=E}return y}}function MO(r){if(r%wd===xO){const t=(r+ae)/wd;return function(n,l){const o=n.pow(l,t);if(!n.eql(n.sqr(o),l))throw new Error("Cannot find square root");return o}}if(r%_b===Lb){const t=(r-Lb)/_b;return function(n,l){const o=n.mul(l,Ms),c=n.pow(o,t),f=n.mul(l,c),d=n.mul(n.mul(f,Ms),c),p=n.mul(f,n.sub(d,n.ONE));if(!n.eql(n.sqr(p),l))throw new Error("Cannot find square root");return p}}return OO(r)}const NO=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CO(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=NO.reduce((n,l)=>(n[l]="function",n),t);return Ua(r,e)}function BO(r,t,e){if(e<we)throw new Error("Expected power > 0");if(e===we)return r.ONE;if(e===ae)return t;let n=r.ONE,l=t;for(;e>we;)e&ae&&(n=r.mul(n,l)),l=r.sqr(l),e>>=ae;return n}function RO(r,t){const e=new Array(t.length),n=t.reduce((o,c,f)=>r.is0(c)?o:(e[f]=o,r.mul(o,c)),r.ONE),l=r.inv(n);return t.reduceRight((o,c,f)=>r.is0(c)?o:(e[f]=r.mul(o,e[f]),r.mul(o,c)),l),e}function kw(r,t){const e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function LO(r,t,e=!1,n={}){if(r<=we)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:o}=kw(r,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=MO(r),f=Object.freeze({ORDER:r,BITS:l,BYTES:o,MASK:a0(l),ZERO:we,ONE:ae,create:d=>Qe(d,r),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return we<=d&&d<r},is0:d=>d===we,isOdd:d=>(d&ae)===ae,neg:d=>Qe(-d,r),eql:(d,p)=>d===p,sqr:d=>Qe(d*d,r),add:(d,p)=>Qe(d+p,r),sub:(d,p)=>Qe(d-p,r),mul:(d,p)=>Qe(d*p,r),pow:(d,p)=>BO(f,d,p),div:(d,p)=>Qe(d*Ad(p,r),r),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Ad(d,r),sqrt:n.sqrt||(d=>c(f,d)),invertBatch:d=>RO(f,d),cmov:(d,p,m)=>m?p:d,toBytes:d=>e?l0(d,o):$r(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return e?r0(d):Us(d)}});return Object.freeze(f)}function Pw(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Hw(r){const t=Pw(r);return t+Math.ceil(t/2)}function _O(r,t,e=!1){const n=r.length,l=Pw(t),o=Hw(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const c=e?Us(r):r0(r),f=Qe(c,t-ae)+ae;return e?l0(f,l):$r(f,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UO=BigInt(0),Kf=BigInt(1);function DO(r,t){const e=(l,o)=>{const c=o.negate();return l?c:o},n=l=>{const o=Math.ceil(t/l)+1,c=2**(l-1);return{windows:o,windowSize:c}};return{constTimeNegate:e,unsafeLadder(l,o){let c=r.ZERO,f=l;for(;o>UO;)o&Kf&&(c=c.add(f)),f=f.double(),o>>=Kf;return c},precomputeWindow(l,o){const{windows:c,windowSize:f}=n(o),d=[];let p=l,m=p;for(let y=0;y<c;y++){m=p,d.push(m);for(let v=1;v<f;v++)m=m.add(p),d.push(m);p=m.double()}return d},wNAF(l,o,c){const{windows:f,windowSize:d}=n(l);let p=r.ZERO,m=r.BASE;const y=BigInt(2**l-1),v=2**l,E=BigInt(l);for(let S=0;S<f;S++){const A=S*d;let M=Number(c&y);c>>=E,M>d&&(M-=v,c+=Kf);const R=A,H=A+Math.abs(M)-1,k=S%2!==0,Y=M<0;M===0?m=m.add(e(k,o[R])):p=p.add(e(Y,o[H]))}return{p,f:m}},wNAFCached(l,o,c,f){const d=l._WINDOW_SIZE||1;let p=o.get(l);return p||(p=this.precomputeWindow(l,d),d!==1&&o.set(l,f(p))),this.wNAF(d,p,c)}}}function Gw(r){return CO(r.Fp),Ua(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kw(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zO(r){const t=Gw(r);Ua(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:n,a:l}=t;if(e){if(!n.eql(l,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:kO,hexToBytes:PO}=SO,Bs={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=Bs;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");const e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:kO(n),l:r.subarray(e+2)}},toSig(r){const{Err:t}=Bs,e=typeof r=="string"?PO(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:l,l:o}=Bs._parseInt(e.subarray(2)),{d:c,l:f}=Bs._parseInt(o);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,e=p=>{const m=p.toString(16);return m.length&1?`0${m}`:m},n=t(e(r.s)),l=t(e(r.r)),o=n.length/2,c=l.length/2,f=e(o),d=e(c);return`30${e(c+o+4)}02${d}${l}02${f}${n}`}},on=BigInt(0),yi=BigInt(1);BigInt(2);const Ub=BigInt(3);BigInt(4);function HO(r){const t=zO(r),{Fp:e}=t,n=t.toBytes||((S,A,M)=>{const R=A.toAffine();return Ea(Uint8Array.from([4]),e.toBytes(R.x),e.toBytes(R.y))}),l=t.fromBytes||(S=>{const A=S.subarray(1),M=e.fromBytes(A.subarray(0,e.BYTES)),R=e.fromBytes(A.subarray(e.BYTES,2*e.BYTES));return{x:M,y:R}});function o(S){const{a:A,b:M}=t,R=e.sqr(S),H=e.mul(R,S);return e.add(e.add(H,e.mul(S,A)),M)}if(!e.eql(e.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function c(S){return typeof S=="bigint"&&on<S&&S<t.n}function f(S){if(!c(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(S){const{allowedPrivateKeyLengths:A,nByteLength:M,wrapPrivateKey:R,n:H}=t;if(A&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Zr(S)),typeof S!="string"||!A.includes(S.length))throw new Error("Invalid key");S=S.padStart(M*2,"0")}let k;try{k=typeof S=="bigint"?S:Us(xi("private key",S,M))}catch{throw new Error(`private key must be ${M} bytes, hex or bigint, not ${typeof S}`)}return R&&(k=Qe(k,H)),f(k),k}const p=new Map;function m(S){if(!(S instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(A,M,R){if(this.px=A,this.py=M,this.pz=R,A==null||!e.isValid(A))throw new Error("x required");if(M==null||!e.isValid(M))throw new Error("y required");if(R==null||!e.isValid(R))throw new Error("z required")}static fromAffine(A){const{x:M,y:R}=A||{};if(!A||!e.isValid(M)||!e.isValid(R))throw new Error("invalid affine point");if(A instanceof y)throw new Error("projective point not allowed");const H=k=>e.eql(k,e.ZERO);return H(M)&&H(R)?y.ZERO:new y(M,R,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const M=e.invertBatch(A.map(R=>R.pz));return A.map((R,H)=>R.toAffine(M[H])).map(y.fromAffine)}static fromHex(A){const M=y.fromAffine(l(xi("pointHex",A)));return M.assertValidity(),M}static fromPrivateKey(A){return y.BASE.multiply(d(A))}_setWindowSize(A){this._WINDOW_SIZE=A,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:M}=this.toAffine();if(!e.isValid(A)||!e.isValid(M))throw new Error("bad point: x or y not FE");const R=e.sqr(M),H=o(A);if(!e.eql(R,H))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(e.isOdd)return!e.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){m(A);const{px:M,py:R,pz:H}=this,{px:k,py:Y,pz:Q}=A,K=e.eql(e.mul(M,Q),e.mul(k,H)),$=e.eql(e.mul(R,Q),e.mul(Y,H));return K&&$}negate(){return new y(this.px,e.neg(this.py),this.pz)}double(){const{a:A,b:M}=t,R=e.mul(M,Ub),{px:H,py:k,pz:Y}=this;let Q=e.ZERO,K=e.ZERO,$=e.ZERO,J=e.mul(H,H),ut=e.mul(k,k),dt=e.mul(Y,Y),gt=e.mul(H,k);return gt=e.add(gt,gt),$=e.mul(H,Y),$=e.add($,$),Q=e.mul(A,$),K=e.mul(R,dt),K=e.add(Q,K),Q=e.sub(ut,K),K=e.add(ut,K),K=e.mul(Q,K),Q=e.mul(gt,Q),$=e.mul(R,$),dt=e.mul(A,dt),gt=e.sub(J,dt),gt=e.mul(A,gt),gt=e.add(gt,$),$=e.add(J,J),J=e.add($,J),J=e.add(J,dt),J=e.mul(J,gt),K=e.add(K,J),dt=e.mul(k,Y),dt=e.add(dt,dt),J=e.mul(dt,gt),Q=e.sub(Q,J),$=e.mul(dt,ut),$=e.add($,$),$=e.add($,$),new y(Q,K,$)}add(A){m(A);const{px:M,py:R,pz:H}=this,{px:k,py:Y,pz:Q}=A;let K=e.ZERO,$=e.ZERO,J=e.ZERO;const ut=t.a,dt=e.mul(t.b,Ub);let gt=e.mul(M,k),Et=e.mul(R,Y),Dt=e.mul(H,Q),Xt=e.add(M,R),q=e.add(k,Y);Xt=e.mul(Xt,q),q=e.add(gt,Et),Xt=e.sub(Xt,q),q=e.add(M,H);let C=e.add(k,Q);return q=e.mul(q,C),C=e.add(gt,Dt),q=e.sub(q,C),C=e.add(R,H),K=e.add(Y,Q),C=e.mul(C,K),K=e.add(Et,Dt),C=e.sub(C,K),J=e.mul(ut,q),K=e.mul(dt,Dt),J=e.add(K,J),K=e.sub(Et,J),J=e.add(Et,J),$=e.mul(K,J),Et=e.add(gt,gt),Et=e.add(Et,gt),Dt=e.mul(ut,Dt),q=e.mul(dt,q),Et=e.add(Et,Dt),Dt=e.sub(gt,Dt),Dt=e.mul(ut,Dt),q=e.add(q,Dt),gt=e.mul(Et,q),$=e.add($,gt),gt=e.mul(C,q),K=e.mul(Xt,K),K=e.sub(K,gt),gt=e.mul(Xt,Et),J=e.mul(C,J),J=e.add(J,gt),new y(K,$,J)}subtract(A){return this.add(A.negate())}is0(){return this.equals(y.ZERO)}wNAF(A){return E.wNAFCached(this,p,A,M=>{const R=e.invertBatch(M.map(H=>H.pz));return M.map((H,k)=>H.toAffine(R[k])).map(y.fromAffine)})}multiplyUnsafe(A){const M=y.ZERO;if(A===on)return M;if(f(A),A===yi)return this;const{endo:R}=t;if(!R)return E.unsafeLadder(this,A);let{k1neg:H,k1:k,k2neg:Y,k2:Q}=R.splitScalar(A),K=M,$=M,J=this;for(;k>on||Q>on;)k&yi&&(K=K.add(J)),Q&yi&&($=$.add(J)),J=J.double(),k>>=yi,Q>>=yi;return H&&(K=K.negate()),Y&&($=$.negate()),$=new y(e.mul($.px,R.beta),$.py,$.pz),K.add($)}multiply(A){f(A);let M=A,R,H;const{endo:k}=t;if(k){const{k1neg:Y,k1:Q,k2neg:K,k2:$}=k.splitScalar(M);let{p:J,f:ut}=this.wNAF(Q),{p:dt,f:gt}=this.wNAF($);J=E.constTimeNegate(Y,J),dt=E.constTimeNegate(K,dt),dt=new y(e.mul(dt.px,k.beta),dt.py,dt.pz),R=J.add(dt),H=ut.add(gt)}else{const{p:Y,f:Q}=this.wNAF(M);R=Y,H=Q}return y.normalizeZ([R,H])[0]}multiplyAndAddUnsafe(A,M,R){const H=y.BASE,k=(Q,K)=>K===on||K===yi||!Q.equals(H)?Q.multiplyUnsafe(K):Q.multiply(K),Y=k(this,M).add(k(A,R));return Y.is0()?void 0:Y}toAffine(A){const{px:M,py:R,pz:H}=this,k=this.is0();A==null&&(A=k?e.ONE:e.inv(H));const Y=e.mul(M,A),Q=e.mul(R,A),K=e.mul(H,A);if(k)return{x:e.ZERO,y:e.ZERO};if(!e.eql(K,e.ONE))throw new Error("invZ was invalid");return{x:Y,y:Q}}isTorsionFree(){const{h:A,isTorsionFree:M}=t;if(A===yi)return!0;if(M)return M(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:M}=t;return A===yi?this:M?M(y,this):this.multiplyUnsafe(t.h)}toRawBytes(A=!0){return this.assertValidity(),n(y,this,A)}toHex(A=!0){return Zr(this.toRawBytes(A))}}y.BASE=new y(t.Gx,t.Gy,e.ONE),y.ZERO=new y(e.ZERO,e.ONE,e.ZERO);const v=t.nBitLength,E=DO(y,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:c}}function GO(r){const t=Gw(r);return Ua(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function VO(r){const t=GO(r),{Fp:e,n}=t,l=e.BYTES+1,o=2*e.BYTES+1;function c(q){return on<q&&q<e.ORDER}function f(q){return Qe(q,n)}function d(q){return Ad(q,n)}const{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:y,isWithinCurveOrder:v}=HO({...t,toBytes(q,C,V){const X=C.toAffine(),rt=e.toBytes(X.x),T=Ea;return V?T(Uint8Array.from([C.hasEvenY()?2:3]),rt):T(Uint8Array.from([4]),rt,e.toBytes(X.y))},fromBytes(q){const C=q.length,V=q[0],X=q.subarray(1);if(C===l&&(V===2||V===3)){const rt=Us(X);if(!c(rt))throw new Error("Point is not on curve");const T=y(rt);let P=e.sqrt(T);const Z=(P&yi)===yi;return(V&1)===1!==Z&&(P=e.neg(P)),{x:rt,y:P}}else if(C===o&&V===4){const rt=e.fromBytes(X.subarray(0,e.BYTES)),T=e.fromBytes(X.subarray(e.BYTES,2*e.BYTES));return{x:rt,y:T}}else throw new Error(`Point of length ${C} was invalid. Expected ${l} compressed bytes or ${o} uncompressed bytes`)}}),E=q=>Zr($r(q,t.nByteLength));function S(q){const C=n>>yi;return q>C}function A(q){return S(q)?f(-q):q}const M=(q,C,V)=>Us(q.slice(C,V));class R{constructor(C,V,X){this.r=C,this.s=V,this.recovery=X,this.assertValidity()}static fromCompact(C){const V=t.nByteLength;return C=xi("compactSignature",C,V*2),new R(M(C,0,V),M(C,V,2*V))}static fromDER(C){const{r:V,s:X}=Bs.toSig(xi("DER",C));return new R(V,X)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new R(this.r,this.s,C)}recoverPublicKey(C){const{r:V,s:X,recovery:rt}=this,T=$(xi("msgHash",C));if(rt==null||![0,1,2,3].includes(rt))throw new Error("recovery id invalid");const P=rt===2||rt===3?V+t.n:V;if(P>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(rt&1)===0?"02":"03",W=p.fromHex(Z+E(P)),st=d(P),yt=f(-T*st),ct=f(X*st),Zt=p.BASE.multiplyAndAddUnsafe(W,yt,ct);if(!Zt)throw new Error("point at infinify");return Zt.assertValidity(),Zt}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Wr(this.toDERHex())}toDERHex(){return Bs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Wr(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const H={isValidPrivateKey(q){try{return m(q),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const q=Hw(t.n);return _O(t.randomBytes(q),t.n)},precompute(q=8,C=p.BASE){return C._setWindowSize(q),C.multiply(BigInt(3)),C}};function k(q,C=!0){return p.fromPrivateKey(q).toRawBytes(C)}function Y(q){const C=q instanceof Uint8Array,V=typeof q=="string",X=(C||V)&&q.length;return C?X===l||X===o:V?X===2*l||X===2*o:q instanceof p}function Q(q,C,V=!0){if(Y(q))throw new Error("first arg must be private key");if(!Y(C))throw new Error("second arg must be public key");return p.fromHex(C).multiply(m(q)).toRawBytes(V)}const K=t.bits2int||function(q){const C=Us(q),V=q.length*8-t.nBitLength;return V>0?C>>BigInt(V):C},$=t.bits2int_modN||function(q){return f(K(q))},J=a0(t.nBitLength);function ut(q){if(typeof q!="bigint")throw new Error("bigint expected");if(!(on<=q&&q<J))throw new Error(`bigint expected < 2^${t.nBitLength}`);return $r(q,t.nByteLength)}function dt(q,C,V=gt){if(["recovered","canonical"].some(Me=>Me in V))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:rt}=t;let{lowS:T,prehash:P,extraEntropy:Z}=V;T==null&&(T=!0),q=xi("msgHash",q),P&&(q=xi("prehashed msgHash",X(q)));const W=$(q),st=m(C),yt=[ut(st),ut(W)];if(Z!=null){const Me=Z===!0?rt(e.BYTES):Z;yt.push(xi("extraEntropy",Me))}const ct=Ea(...yt),Zt=W;function zt(Me){const Bi=K(Me);if(!v(Bi))return;const ns=d(Bi),Pe=p.BASE.multiply(Bi).toAffine(),Ri=f(Pe.x);if(Ri===on)return;const wn=f(ns*f(Zt+Ri*st));if(wn===on)return;let Ha=(Pe.x===Ri?0:2)|Number(Pe.y&yi),Ga=wn;return T&&S(wn)&&(Ga=A(wn),Ha^=1),new R(Ri,Ga,Ha)}return{seed:ct,k2sig:zt}}const gt={lowS:t.lowS,prehash:!1},Et={lowS:t.lowS,prehash:!1};function Dt(q,C,V=gt){const{seed:X,k2sig:rt}=dt(q,C,V),T=t;return zw(T.hash.outputLen,T.nByteLength,T.hmac)(X,rt)}p.BASE._setWindowSize(8);function Xt(q,C,V,X=Et){const rt=q;if(C=xi("msgHash",C),V=xi("publicKey",V),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:P}=X;let Z,W;try{if(typeof rt=="string"||rt instanceof Uint8Array)try{Z=R.fromDER(rt)}catch(Pe){if(!(Pe instanceof Bs.Err))throw Pe;Z=R.fromCompact(rt)}else if(typeof rt=="object"&&typeof rt.r=="bigint"&&typeof rt.s=="bigint"){const{r:Pe,s:Ri}=rt;Z=new R(Pe,Ri)}else throw new Error("PARSE");W=p.fromHex(V)}catch(Pe){if(Pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&Z.hasHighS())return!1;P&&(C=t.hash(C));const{r:st,s:yt}=Z,ct=$(C),Zt=d(yt),zt=f(ct*Zt),Me=f(st*Zt),Bi=p.BASE.multiplyAndAddUnsafe(W,zt,Me)?.toAffine();return Bi?f(Bi.x)===st:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:Q,sign:Dt,verify:Xt,ProjectivePoint:p,Signature:R,utils:H}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function FO(r){return{hash:r,hmac:(t,...e)=>mw(r,t,CT(...e)),randomBytes:BT}}function IO(r,t){const e=n=>VO({...r,...FO(n)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vw=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Db=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),QO=BigInt(1),Ed=BigInt(2),zb=(r,t)=>(r+t/Ed)/t;function qO(r){const t=Vw,e=BigInt(3),n=BigInt(6),l=BigInt(11),o=BigInt(22),c=BigInt(23),f=BigInt(44),d=BigInt(88),p=r*r*r%t,m=p*p*r%t,y=pi(m,e,t)*m%t,v=pi(y,e,t)*m%t,E=pi(v,Ed,t)*p%t,S=pi(E,l,t)*E%t,A=pi(S,o,t)*S%t,M=pi(A,f,t)*A%t,R=pi(M,d,t)*M%t,H=pi(R,f,t)*A%t,k=pi(H,e,t)*m%t,Y=pi(k,c,t)*S%t,Q=pi(Y,n,t)*p%t,K=pi(Q,Ed,t);if(!Sd.eql(Sd.sqr(K),r))throw new Error("Cannot find square root");return K}const Sd=LO(Vw,void 0,void 0,{sqrt:qO}),Xn=IO({a:BigInt(0),b:BigInt(7),Fp:Sd,n:Db,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=Db,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-QO*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),l=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=e,c=BigInt("0x100000000000000000000000000000000"),f=zb(o*r,t),d=zb(-n*r,t);let p=Qe(r-f*e-d*l,t),m=Qe(-f*n-d*o,t);const y=p>c,v=m>c;if(y&&(p=t-p),v&&(m=t-m),p>c||m>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:y,k1:p,k2neg:v,k2:m}}}},bw);BigInt(0);Xn.ProjectivePoint;const Sa="0x0000000000000000000000000000000000000000",kb="0x0000000000000000000000000000000000000000000000000000000000000000",Pb=BigInt(0),Hb=BigInt(1),Gb=BigInt(2),Vb=BigInt(27),Fb=BigInt(28),mu=BigInt(35),_r={};function Ib(r){return mn(ge(r),32)}class ee{#t;#e;#i;#n;get r(){return this.#t}set r(t){N(Fr(t)===32,"invalid r","value",t),this.#t=tt(t)}get s(){return N(parseInt(this.#e.substring(0,3))<8,"non-canonical s; use ._s","s",this.#e),this.#e}set s(t){N(Fr(t)===32,"invalid s","value",t),this.#e=tt(t)}get _s(){return this.#e}isValid(){return parseInt(this.#e.substring(0,3))<8}get v(){return this.#i}set v(t){const e=wt(t,"value");N(e===27||e===28,"invalid v","v",t),this.#i=e}get networkV(){return this.#n}get legacyChainId(){const t=this.networkV;return t==null?null:ee.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=vt(this.s);return this.yParity&&(t[0]|=128),tt(t)}get compactSerialized(){return ne([this.r,this.yParityAndS])}get serialized(){return ne([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,n,l){La(t,_r,"Signature"),this.#t=e,this.#e=n,this.#i=l,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new ee(_r,this.r,this._s,this.v);return this.networkV&&(t.#n=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(t){const e=it(t,"v");return e==Vb||e==Fb?Pb:(N(e>=mu,"invalid EIP-155 v","v",t),(e-mu)/Gb)}static getChainIdV(t,e){return it(t)*Gb+BigInt(35+e-27)}static getNormalizedV(t){const e=it(t);return e===Pb||e===Vb?27:e===Hb||e===Fb?28:(N(e>=mu,"invalid v","v",t),e&Hb?27:28)}static from(t){function e(p,m){N(p,m,"signature",t)}if(t==null)return new ee(_r,kb,kb,27);if(typeof t=="string"){const p=vt(t,"signature");if(p.length===64){const m=tt(p.slice(0,32)),y=p.slice(32,64),v=y[0]&128?28:27;return y[0]&=127,new ee(_r,m,tt(y),v)}if(p.length===65){const m=tt(p.slice(0,32)),y=tt(p.slice(32,64)),v=ee.getNormalizedV(p[64]);return new ee(_r,m,y,v)}e(!1,"invalid raw signature length")}if(t instanceof ee)return t.clone();const n=t.r;e(n!=null,"missing r");const l=Ib(n),o=function(p,m){if(p!=null)return Ib(p);if(m!=null){e(Qt(m,32),"invalid yParityAndS");const y=vt(m);return y[0]&=127,tt(y)}e(!1,"missing s")}(t.s,t.yParityAndS),{networkV:c,v:f}=function(p,m,y){if(p!=null){const v=it(p);return{networkV:v>=mu?v:void 0,v:ee.getNormalizedV(v)}}if(m!=null)return e(Qt(m,32),"invalid yParityAndS"),{v:vt(m)[0]&128?28:27};if(y!=null){switch(wt(y,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),d=new ee(_r,l,o,f);return c&&(d.#n=c),e(t.yParity==null||wt(t.yParity,"sig.yParity")===d.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===d.yParityAndS,"yParityAndS mismatch"),d}}class un{#t;constructor(t){N(Fr(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#t=tt(t)}get privateKey(){return this.#t}get publicKey(){return un.computePublicKey(this.#t)}get compressedPublicKey(){return un.computePublicKey(this.#t,!0)}sign(t){N(Fr(t)===32,"invalid digest length","digest",t);const e=Xn.sign(_e(t),_e(this.#t),{lowS:!0});return ee.from({r:ts(e.r,32),s:ts(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=un.computePublicKey(t);return tt(Xn.getSharedSecret(_e(this.#t),vt(e),!1))}static computePublicKey(t,e){let n=vt(t,"key");if(n.length===32){const o=Xn.getPublicKey(n,!!e);return tt(o)}if(n.length===64){const o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}const l=Xn.ProjectivePoint.fromHex(n);return tt(l.toRawBytes(e))}static recoverPublicKey(t,e){N(Fr(t)===32,"invalid digest length","digest",t);const n=ee.from(e);let l=Xn.Signature.fromCompact(_e(ne([n.r,n.s])));l=l.addRecoveryBit(n.yParity);const o=l.recoverPublicKey(_e(t));return N(o!=null,"invalid signature for digest","signature",e),"0x"+o.toHex(!1)}static addPoints(t,e,n){const l=Xn.ProjectivePoint.fromHex(un.computePublicKey(t).substring(2)),o=Xn.ProjectivePoint.fromHex(un.computePublicKey(e).substring(2));return"0x"+l.add(o).toHex(!!n)}}const jO=BigInt(0),YO=BigInt(36);function Qb(r){r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let l=0;l<40;l++)e[l]=t[l].charCodeAt(0);const n=vt(he(e));for(let l=0;l<40;l+=2)n[l>>1]>>4>=8&&(t[l]=t[l].toUpperCase()),(n[l>>1]&15)>=8&&(t[l+1]=t[l+1].toUpperCase());return"0x"+t.join("")}const o0={};for(let r=0;r<10;r++)o0[String(r)]=String(r);for(let r=0;r<26;r++)o0[String.fromCharCode(65+r)]=String(10+r);const qb=15;function KO(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(n=>o0[n]).join("");for(;t.length>=qb;){let n=t.substring(0,qb);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const JO=function(){const r={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];r[e]=BigInt(t)}return r}();function XO(r){r=r.toLowerCase();let t=jO;for(let e=0;e<r.length;e++)t=t*YO+JO[r[e]];return t}function Lt(r){if(N(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const t=Qb(r);return N(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===r,"bad address checksum","address",r),t}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){N(r.substring(2,4)===KO(r),"bad icap checksum","address",r);let t=XO(r.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Qb("0x"+t)}N(!1,"invalid address","address",r)}function ZO(r){const t=Lt(r.from);let n=it(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Lt(te(he(es([t,n])),12))}function Fw(r){return r&&typeof r.getAddress=="function"}async function Jf(r,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(I(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),N(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Lt(e)}function De(r,t){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Lt(r):(I(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Jf(r,t.resolveName(r)));if(Fw(r))return Jf(r,r.getAddress());if(r&&typeof r.then=="function")return Jf(r,r);N(!1,"unsupported addressable value","target",r)}const ln={};function et(r,t){let e=!1;return t<0&&(e=!0,t*=-1),new ie(ln,`${e?"":"u"}int${t}`,r,{signed:e,width:t})}function Ct(r,t){return new ie(ln,`bytes${t||""}`,r,{size:t})}const jb=Symbol.for("_ethers_typed");class ie{type;value;#t;_typedSymbol;constructor(t,e,n,l){l==null&&(l=null),La(ln,t,"Typed"),ot(this,{_typedSymbol:jb,type:e,value:n}),this.#t=l,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#t}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#t===!0?-1:this.#t===!1?this.value.length:null}static from(t,e){return new ie(ln,t,e)}static uint8(t){return et(t,8)}static uint16(t){return et(t,16)}static uint24(t){return et(t,24)}static uint32(t){return et(t,32)}static uint40(t){return et(t,40)}static uint48(t){return et(t,48)}static uint56(t){return et(t,56)}static uint64(t){return et(t,64)}static uint72(t){return et(t,72)}static uint80(t){return et(t,80)}static uint88(t){return et(t,88)}static uint96(t){return et(t,96)}static uint104(t){return et(t,104)}static uint112(t){return et(t,112)}static uint120(t){return et(t,120)}static uint128(t){return et(t,128)}static uint136(t){return et(t,136)}static uint144(t){return et(t,144)}static uint152(t){return et(t,152)}static uint160(t){return et(t,160)}static uint168(t){return et(t,168)}static uint176(t){return et(t,176)}static uint184(t){return et(t,184)}static uint192(t){return et(t,192)}static uint200(t){return et(t,200)}static uint208(t){return et(t,208)}static uint216(t){return et(t,216)}static uint224(t){return et(t,224)}static uint232(t){return et(t,232)}static uint240(t){return et(t,240)}static uint248(t){return et(t,248)}static uint256(t){return et(t,256)}static uint(t){return et(t,256)}static int8(t){return et(t,-8)}static int16(t){return et(t,-16)}static int24(t){return et(t,-24)}static int32(t){return et(t,-32)}static int40(t){return et(t,-40)}static int48(t){return et(t,-48)}static int56(t){return et(t,-56)}static int64(t){return et(t,-64)}static int72(t){return et(t,-72)}static int80(t){return et(t,-80)}static int88(t){return et(t,-88)}static int96(t){return et(t,-96)}static int104(t){return et(t,-104)}static int112(t){return et(t,-112)}static int120(t){return et(t,-120)}static int128(t){return et(t,-128)}static int136(t){return et(t,-136)}static int144(t){return et(t,-144)}static int152(t){return et(t,-152)}static int160(t){return et(t,-160)}static int168(t){return et(t,-168)}static int176(t){return et(t,-176)}static int184(t){return et(t,-184)}static int192(t){return et(t,-192)}static int200(t){return et(t,-200)}static int208(t){return et(t,-208)}static int216(t){return et(t,-216)}static int224(t){return et(t,-224)}static int232(t){return et(t,-232)}static int240(t){return et(t,-240)}static int248(t){return et(t,-248)}static int256(t){return et(t,-256)}static int(t){return et(t,-256)}static bytes1(t){return Ct(t,1)}static bytes2(t){return Ct(t,2)}static bytes3(t){return Ct(t,3)}static bytes4(t){return Ct(t,4)}static bytes5(t){return Ct(t,5)}static bytes6(t){return Ct(t,6)}static bytes7(t){return Ct(t,7)}static bytes8(t){return Ct(t,8)}static bytes9(t){return Ct(t,9)}static bytes10(t){return Ct(t,10)}static bytes11(t){return Ct(t,11)}static bytes12(t){return Ct(t,12)}static bytes13(t){return Ct(t,13)}static bytes14(t){return Ct(t,14)}static bytes15(t){return Ct(t,15)}static bytes16(t){return Ct(t,16)}static bytes17(t){return Ct(t,17)}static bytes18(t){return Ct(t,18)}static bytes19(t){return Ct(t,19)}static bytes20(t){return Ct(t,20)}static bytes21(t){return Ct(t,21)}static bytes22(t){return Ct(t,22)}static bytes23(t){return Ct(t,23)}static bytes24(t){return Ct(t,24)}static bytes25(t){return Ct(t,25)}static bytes26(t){return Ct(t,26)}static bytes27(t){return Ct(t,27)}static bytes28(t){return Ct(t,28)}static bytes29(t){return Ct(t,29)}static bytes30(t){return Ct(t,30)}static bytes31(t){return Ct(t,31)}static bytes32(t){return Ct(t,32)}static address(t){return new ie(ln,"address",t)}static bool(t){return new ie(ln,"bool",!!t)}static bytes(t){return new ie(ln,"bytes",t)}static string(t){return new ie(ln,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new ie(ln,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===jb}static dereference(t,e){if(ie.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class WO extends vn{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=ie.dereference(e,"string");try{n=Lt(n)}catch(l){return this._throwError(l.message,e)}return t.writeValue(n)}decode(t){return Lt(ts(t.readValue(),20))}}class $O extends vn{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function Iw(r,t,e){let n=[];if(Array.isArray(e))n=e;else if(e&&typeof e=="object"){let d={};n=t.map(p=>{const m=p.localName;return I(m,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:p},value:e}),I(!d[m],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:p},value:e}),d[m]=!0,e[m]})}else N(!1,"invalid tuple value","tuple",e);N(t.length===n.length,"types/value length mismatch","tuple",e);let l=new bd,o=new bd,c=[];t.forEach((d,p)=>{let m=n[p];if(d.dynamic){let y=o.length;d.encode(o,m);let v=l.writeUpdatableValue();c.push(E=>{v(E+y)})}else d.encode(l,m)}),c.forEach(d=>{d(l.length)});let f=r.appendWriter(l);return f+=r.appendWriter(o),f}function Qw(r,t){let e=[],n=[],l=r.subReader(0);return t.forEach(o=>{let c=null;if(o.dynamic){let f=r.readIndex(),d=l.subReader(f);try{c=o.decode(d)}catch(p){if(Oe(p,"BUFFER_OVERRUN"))throw p;c=p,c.baseType=o.name,c.name=o.localName,c.type=o.type}}else try{c=o.decode(r)}catch(f){if(Oe(f,"BUFFER_OVERRUN"))throw f;c=f,c.baseType=o.name,c.name=o.localName,c.type=o.type}if(c==null)throw new Error("investigate");e.push(c),n.push(o.localName||null)}),fn.fromItems(e,n)}class tM extends vn{coder;length;constructor(t,e,n){const l=t.type+"["+(e>=0?e:"")+"]",o=e===-1||t.dynamic;super("array",l,n,o),ot(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let n=0;n<this.length;n++)e.push(t);return e}encode(t,e){const n=ie.dereference(e,"array");Array.isArray(n)||this._throwError("expected array value",n);let l=this.length;l===-1&&(l=n.length,t.writeValue(n.length)),tw(n.length,l,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let c=0;c<n.length;c++)o.push(this.coder);return Iw(t,o,n)}decode(t){let e=this.length;e===-1&&(e=t.readIndex(),I(e*Ue<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*Ue,length:t.dataLength}));let n=[];for(let l=0;l<e;l++)n.push(new $O(this.coder));return Qw(t,n)}}class eM extends vn{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=ie.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class qw extends vn{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=_e(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class iM extends qw{constructor(t){super("bytes",t)}decode(t){return tt(super.decode(t))}}class nM extends vn{size;constructor(t,e){let n="bytes"+String(t);super(n,n,e,!1),ot(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let n=_e(ie.dereference(e,this.type));return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}decode(t){return tt(t.readBytes(this.size))}}const sM=new Uint8Array([]);class rM extends vn{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(sM)}decode(t){return t.readBytes(0),null}}const lM=BigInt(0),aM=BigInt(1),oM=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class uM extends vn{size;signed;constructor(t,e,n){const l=(e?"int":"uint")+t*8;super(l,l,n,!1),ot(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let n=it(ie.dereference(e,this.type)),l=Cs(oM,Ue*8);if(this.signed){let o=Cs(l,this.size*8-1);(n>o||n<-(o+aM))&&this._throwError("value out-of-bounds",e),n=nw(n,8*Ue)}else(n<lM||n>Cs(l,this.size*8))&&this._throwError("value out-of-bounds",e);return t.writeValue(n)}decode(t){let e=Cs(t.readValue(),this.size*8);return this.signed&&(e=Nu(e,this.size*8)),e}}class cM extends qw{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,gn(ie.dereference(e,"string")))}decode(t){return Cu(super.decode(t))}}class yu extends vn{coders;constructor(t,e){let n=!1;const l=[];t.forEach(c=>{c.dynamic&&(n=!0),l.push(c.type)});const o="tuple("+l.join(",")+")";super("tuple",o,e,n),ot(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const e=this.coders.reduce((n,l)=>{const o=l.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,l)=>{let o=n.localName;!o||e[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[l]))}),Object.freeze(t)}encode(t,e){const n=ie.dereference(e,"tuple");return Iw(t,this.coders,n)}decode(t){return Qw(t,this.coders)}}function Xf(r,t){return{address:Lt(r),storageKeys:t.map((e,n)=>(N(Qt(e,32),"invalid slot",`storageKeys[${n}]`,e),e.toLowerCase()))}}function Qs(r){if(Array.isArray(r))return r.map((e,n)=>Array.isArray(e)?(N(e.length===2,"invalid slot set",`value[${n}]`,e),Xf(e[0],e[1])):(N(e!=null&&typeof e=="object","invalid address-slot set","value",r),Xf(e.address,e.storageKeys)));N(r!=null&&typeof r=="object","invalid access list","value",r);const t=Object.keys(r).map(e=>{const n=r[e].reduce((l,o)=>(l[o]=!0,l),{});return Xf(e,Object.keys(n).sort())});return t.sort((e,n)=>e.address.localeCompare(n.address)),t}function jw(r){return{address:Lt(r.address),nonce:it(r.nonce!=null?r.nonce:0),chainId:it(r.chainId!=null?r.chainId:0),signature:ee.from(r.signature)}}function hM(r){let t;return typeof r=="string"?t=un.computePublicKey(r,!1):t=r.publicKey,Lt(he("0x"+t.substring(4)).substring(26))}function fM(r,t){return hM(un.recoverPublicKey(r,t))}const ve=BigInt(0),dM=BigInt(2),gM=BigInt(27),pM=BigInt(28),mM=BigInt(35),yM=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zf=4096*32;function bM(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return vt(r.blobToKzgCommitment(tt(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return vt(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return vt(r.blobToKZGCommitment(tt(n)));N(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,l)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return vt(r.computeBlobProof(tt(n),tt(l)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,l);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return vt(r.computeBlobKZGProof(tt(n),tt(l)));N(!1,"unsupported KZG library","kzg",r)}}}function Yb(r,t){let e=r.toString(16);for(;e.length<2;)e="0"+e;return e+=sl(t).substring(4),"0x"+e}function rl(r){return r==="0x"?null:Lt(r)}function Xu(r,t){try{return Qs(r)}catch(e){N(!1,e.message,t,r)}}function vM(r,t){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const e=[];for(let n=0;n<r.length;n++){const l=r[n];if(!Array.isArray(l))throw new Error(`authorization[${n}]: invalid array`);if(l.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!l[1])throw new Error(`authorization[${n}]: null address`);e.push({address:rl(l[1]),nonce:Gt(l[2],"nonce"),chainId:Gt(l[0],"chainId"),signature:ee.from({yParity:qs(l[3],"yParity"),r:mn(l[4],32),s:mn(l[5],32)})})}return e}catch(e){N(!1,e.message,t,r)}}function qs(r,t){return r==="0x"?0:wt(r,t)}function Gt(r,t){if(r==="0x")return ve;const e=it(r,t);return N(e<=yM,"value exceeds uint size",t,e),e}function Ot(r,t){const e=it(r,"value"),n=ge(e);return N(n.length<=32,"value too large",`tx.${t}`,e),n}function Zu(r){return Qs(r).map(t=>[t.address,t.storageKeys])}function wM(r){return r.map(t=>[Ot(t.chainId,"chainId"),t.address,Ot(t.nonce,"nonce"),Ot(t.signature.yParity,"yParity"),ge(t.signature.r),ge(t.signature.s)])}function AM(r,t){N(Array.isArray(r),`invalid ${t}`,"value",r);for(let e=0;e<r.length;e++)N(Qt(r[e],32),"invalid ${ param } hash",`value[${e}]`,r[e]);return r}function EM(r){const t=_a(r);N(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",r);const e={type:0,nonce:qs(t[0],"nonce"),gasPrice:Gt(t[1],"gasPrice"),gasLimit:Gt(t[2],"gasLimit"),to:rl(t[3]),value:Gt(t[4],"value"),data:tt(t[5]),chainId:ve};if(t.length===6)return e;const n=Gt(t[6],"v"),l=Gt(t[7],"r"),o=Gt(t[8],"s");if(l===ve&&o===ve)e.chainId=n;else{let c=(n-mM)/dM;c<ve&&(c=ve),e.chainId=c,N(c!==ve||n===gM||n===pM,"non-canonical legacy v","v",t[6]),e.signature=ee.from({r:mn(t[7],32),s:mn(t[8],32),v:n})}return e}function SM(r,t){const e=[Ot(r.nonce,"nonce"),Ot(r.gasPrice||0,"gasPrice"),Ot(r.gasLimit,"gasLimit"),r.to||"0x",Ot(r.value,"value"),r.data];let n=ve;if(r.chainId!=ve)n=it(r.chainId,"tx.chainId"),N(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(r.signature){const o=r.signature.legacyChainId;o!=null&&(n=o)}if(!t)return n!==ve&&(e.push(ge(n)),e.push("0x"),e.push("0x")),es(e);let l=BigInt(27+t.yParity);return n!==ve?l=ee.getChainIdV(n,t.v):BigInt(t.v)!==l&&N(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(ge(l)),e.push(ge(t.r)),e.push(ge(t.s)),es(e)}function Wu(r,t){let e;try{if(e=qs(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{N(!1,"invalid yParity","yParity",t[0])}const n=mn(t[1],32),l=mn(t[2],32),o=ee.from({r:n,s:l,yParity:e});r.signature=o}function xM(r){const t=_a(vt(r).slice(1));N(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",tt(r));const e={type:2,chainId:Gt(t[0],"chainId"),nonce:qs(t[1],"nonce"),maxPriorityFeePerGas:Gt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Gt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Gt(t[4],"gasLimit"),to:rl(t[5]),value:Gt(t[6],"value"),data:tt(t[7]),accessList:Xu(t[8],"accessList")};return t.length===9||Wu(e,t.slice(9)),e}function TM(r,t){const e=[Ot(r.chainId,"chainId"),Ot(r.nonce,"nonce"),Ot(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ot(r.maxFeePerGas||0,"maxFeePerGas"),Ot(r.gasLimit,"gasLimit"),r.to||"0x",Ot(r.value,"value"),r.data,Zu(r.accessList||[])];return t&&(e.push(Ot(t.yParity,"yParity")),e.push(ge(t.r)),e.push(ge(t.s))),ne(["0x02",es(e)])}function OM(r){const t=_a(vt(r).slice(1));N(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",tt(r));const e={type:1,chainId:Gt(t[0],"chainId"),nonce:qs(t[1],"nonce"),gasPrice:Gt(t[2],"gasPrice"),gasLimit:Gt(t[3],"gasLimit"),to:rl(t[4]),value:Gt(t[5],"value"),data:tt(t[6]),accessList:Xu(t[7],"accessList")};return t.length===8||Wu(e,t.slice(8)),e}function MM(r,t){const e=[Ot(r.chainId,"chainId"),Ot(r.nonce,"nonce"),Ot(r.gasPrice||0,"gasPrice"),Ot(r.gasLimit,"gasLimit"),r.to||"0x",Ot(r.value,"value"),r.data,Zu(r.accessList||[])];return t&&(e.push(Ot(t.yParity,"recoveryParam")),e.push(ge(t.r)),e.push(ge(t.s))),ne(["0x01",es(e)])}function NM(r){let t=_a(vt(r).slice(1)),e="3",n=null;if(t.length===4&&Array.isArray(t[0])){e="3 (network format)";const o=t[1],c=t[2],f=t[3];N(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),N(Array.isArray(c),"invalid network format: commitments not an array","fields[2]",c),N(Array.isArray(f),"invalid network format: proofs not an array","fields[3]",f),N(o.length===c.length,"invalid network format: blobs/commitments length mismatch","fields",t),N(o.length===f.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let d=0;d<t[1].length;d++)n.push({data:o[d],commitment:c[d],proof:f[d]});t=t[0]}N(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${e}`,"data",tt(r));const l={type:3,chainId:Gt(t[0],"chainId"),nonce:qs(t[1],"nonce"),maxPriorityFeePerGas:Gt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Gt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Gt(t[4],"gasLimit"),to:rl(t[5]),value:Gt(t[6],"value"),data:tt(t[7]),accessList:Xu(t[8],"accessList"),maxFeePerBlobGas:Gt(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(l.blobs=n),N(l.to!=null,`invalid address for transaction type: ${e}`,"data",r),N(Array.isArray(l.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let o=0;o<l.blobVersionedHashes.length;o++)N(Qt(l.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",r);return t.length===11||Wu(l,t.slice(11)),l}function CM(r,t,e){const n=[Ot(r.chainId,"chainId"),Ot(r.nonce,"nonce"),Ot(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ot(r.maxFeePerGas||0,"maxFeePerGas"),Ot(r.gasLimit,"gasLimit"),r.to||Sa,Ot(r.value,"value"),r.data,Zu(r.accessList||[]),Ot(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),AM(r.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(Ot(t.yParity,"yParity")),n.push(ge(t.r)),n.push(ge(t.s)),e)?ne(["0x03",es([n,e.map(l=>l.data),e.map(l=>l.commitment),e.map(l=>l.proof)])]):ne(["0x03",es(n)])}function BM(r){const t=_a(vt(r).slice(1));N(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",tt(r));const e={type:4,chainId:Gt(t[0],"chainId"),nonce:qs(t[1],"nonce"),maxPriorityFeePerGas:Gt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Gt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Gt(t[4],"gasLimit"),to:rl(t[5]),value:Gt(t[6],"value"),data:tt(t[7]),accessList:Xu(t[8],"accessList"),authorizationList:vM(t[9],"authorizationList")};return t.length===10||Wu(e,t.slice(10)),e}function RM(r,t){const e=[Ot(r.chainId,"chainId"),Ot(r.nonce,"nonce"),Ot(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ot(r.maxFeePerGas||0,"maxFeePerGas"),Ot(r.gasLimit,"gasLimit"),r.to||"0x",Ot(r.value,"value"),r.data,Zu(r.accessList||[]),wM(r.authorizationList||[])];return t&&(e.push(Ot(t.yParity,"yParity")),e.push(ge(t.r)),e.push(ge(t.s))),ne(["0x04",es(e)])}class Ti{#t;#e;#i;#n;#s;#l;#r;#a;#h;#u;#g;#p;#o;#c;#f;#d;#y;get type(){return this.#t}set type(t){switch(t){case null:this.#t=null;break;case 0:case"legacy":this.#t=0;break;case 1:case"berlin":case"eip-2930":this.#t=1;break;case 2:case"london":case"eip-1559":this.#t=2;break;case 3:case"cancun":case"eip-4844":this.#t=3;break;case 4:case"pectra":case"eip-7702":this.#t=4;break;default:N(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=this.#e;return t==null&&this.type===3?Sa:t}set to(t){this.#e=t==null?null:Lt(t)}get nonce(){return this.#n}set nonce(t){this.#n=wt(t,"value")}get gasLimit(){return this.#s}set gasLimit(t){this.#s=it(t)}get gasPrice(){const t=this.#l;return t==null&&(this.type===0||this.type===1)?ve:t}set gasPrice(t){this.#l=t==null?null:it(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#r;return t??(this.type===2||this.type===3?ve:null)}set maxPriorityFeePerGas(t){this.#r=t==null?null:it(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#a;return t??(this.type===2||this.type===3?ve:null)}set maxFeePerGas(t){this.#a=t==null?null:it(t,"maxFeePerGas")}get data(){return this.#i}set data(t){this.#i=tt(t)}get value(){return this.#h}set value(t){this.#h=it(t,"value")}get chainId(){return this.#u}set chainId(t){this.#u=it(t)}get signature(){return this.#g||null}set signature(t){this.#g=t==null?null:ee.from(t)}get accessList(){const t=this.#p||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){this.#p=t==null?null:Qs(t)}get authorizationList(){const t=this.#y||null;return t==null&&this.type===4?[]:t}set authorizationList(t){this.#y=t==null?null:t.map(e=>jw(e))}get maxFeePerBlobGas(){const t=this.#o;return t==null&&this.type===3?ve:t}set maxFeePerBlobGas(t){this.#o=t==null?null:it(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#c;return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){N(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)N(Qt(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}this.#c=t}get blobs(){return this.#d==null?null:this.#d.map(t=>Object.assign({},t))}set blobs(t){if(t==null){this.#d=null;return}const e=[],n=[];for(let l=0;l<t.length;l++){const o=t[l];if(Wd(o)){I(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let c=vt(o);if(N(c.length<=Zf,"blob is too large",`blobs[${l}]`,o),c.length!==Zf){const p=new Uint8Array(Zf);p.set(c),c=p}const f=this.#f.blobToKzgCommitment(c),d=tt(this.#f.computeBlobKzgProof(c,f));e.push({data:tt(c),commitment:tt(f),proof:d}),n.push(Yb(1,f))}else{const c=tt(o.commitment);e.push({data:tt(o.data),commitment:c,proof:tt(o.proof)}),n.push(Yb(1,c))}}this.#d=e,this.#c=n}get kzg(){return this.#f}set kzg(t){t==null?this.#f=null:this.#f=bM(t)}constructor(){this.#t=null,this.#e=null,this.#n=0,this.#s=ve,this.#l=null,this.#r=null,this.#a=null,this.#i="0x",this.#h=ve,this.#u=ve,this.#g=null,this.#p=null,this.#o=null,this.#c=null,this.#f=null,this.#d=null,this.#y=null}get hash(){return this.signature==null?null:he(this.#m(!0,!1))}get unsignedHash(){return he(this.unsignedSerialized)}get from(){return this.signature==null?null:fM(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:un.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(t,e){I(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=t?this.signature:null;switch(this.inferType()){case 0:return SM(this,n);case 1:return MM(this,n);case 2:return TM(this,n);case 3:return CM(this,n,e?this.blobs:null);case 4:return RM(this,n)}I(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,l=this.#o!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&I(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),I(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),I(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):e?o.push(2):t?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(l&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ti.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new Ti;if(typeof t=="string"){const n=vt(t);if(n[0]>=127)return Ti.from(EM(n));switch(n[0]){case 1:return Ti.from(OM(n));case 2:return Ti.from(xM(n));case 3:return Ti.from(NM(n));case 4:return Ti.from(BM(n))}I(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new Ti;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=ee.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.authorizationList!=null&&(e.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(e.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(e.kzg=t.kzg),t.blobs!=null&&(e.blobs=t.blobs),t.hash!=null&&(N(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),N(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(N(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),N(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}function Gs(r){return he(gn(r))}var LM="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";const Kb=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Jb=4;function _M(r){let t=0;function e(){return r[t++]<<8|r[t++]}let n=e(),l=1,o=[0,1];for(let Q=1;Q<n;Q++)o.push(l+=e());let c=e(),f=t;t+=c;let d=0,p=0;function m(){return d==0&&(p=p<<8|r[t++],d=8),p>>--d&1}const y=31,v=2**y,E=v>>>1,S=E>>1,A=v-1;let M=0;for(let Q=0;Q<y;Q++)M=M<<1|m();let R=[],H=0,k=v;for(;;){let Q=Math.floor(((M-H+1)*l-1)/k),K=0,$=n;for(;$-K>1;){let dt=K+$>>>1;Q<o[dt]?$=dt:K=dt}if(K==0)break;R.push(K);let J=H+Math.floor(k*o[K]/l),ut=H+Math.floor(k*o[K+1]/l)-1;for(;((J^ut)&E)==0;)M=M<<1&A|m(),J=J<<1&A,ut=ut<<1&A|1;for(;J&~ut&S;)M=M&E|M<<1&A>>>1|m(),J=J<<1^E,ut=(ut^E)<<1|E|1;H=J,k=1+ut-J}let Y=n-4;return R.map(Q=>{switch(Q-Y){case 3:return Y+65792+(r[f++]<<16|r[f++]<<8|r[f++]);case 2:return Y+256+(r[f++]<<8|r[f++]);case 1:return Y+r[f++];default:return Q-1}})}function UM(r){let t=0;return()=>r[t++]}function Yw(r){return UM(_M(DM(r)))}function DM(r){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((l,o)=>t[l.charCodeAt(0)]=o);let e=r.length,n=new Uint8Array(6*e>>3);for(let l=0,o=0,c=0,f=0;l<e;l++)f=f<<6|t[r.charCodeAt(l)],c+=6,c>=8&&(n[o++]=f>>(c-=8));return n}function zM(r){return r&1?~r>>1:r>>1}function kM(r,t){let e=Array(r);for(let n=0,l=0;n<r;n++)e[n]=l+=zM(t());return e}function xa(r,t=0){let e=[];for(;;){let n=r(),l=r();if(!l)break;t+=n;for(let o=0;o<l;o++)e.push(t+o);t+=l+1}return e}function Kw(r){return Ta(()=>{let t=xa(r);if(t.length)return t})}function Jw(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(PM(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(HM(e,r))}return t.flat()}function Ta(r){let t=[];for(;;){let e=r(t.length);if(!e)break;t.push(e)}return t}function Xw(r,t,e){let n=Array(r).fill().map(()=>[]);for(let l=0;l<t;l++)kM(r,e).forEach((o,c)=>n[c].push(o));return n}function PM(r,t){let e=1+t(),n=t(),l=Ta(t);return Xw(l.length,1+r,t).flatMap((c,f)=>{let[d,...p]=c;return Array(l[f]).fill().map((m,y)=>{let v=y*n;return[d+y*e,p.map(E=>E+v)]})})}function HM(r,t){let e=1+t();return Xw(e,1+r,t).map(l=>[l[0],l.slice(1)])}function GM(r){let t=[],e=xa(r);return l(n([]),[]),t;function n(o){let c=r(),f=Ta(()=>{let d=xa(r).map(p=>e[p]);if(d.length)return n(d)});return{S:c,B:f,Q:o}}function l({S:o,B:c},f,d){if(!(o&4&&d===f[f.length-1])){o&2&&(d=f[f.length-1]),o&1&&t.push(f);for(let p of c)for(let m of p.Q)l(p,[...f,m],d)}}}function VM(r){return r.toString(16).toUpperCase().padStart(2,"0")}function Zw(r){return`{${VM(r)}}`}function FM(r){let t=[];for(let e=0,n=r.length;e<n;){let l=r.codePointAt(e);e+=l<65536?1:2,t.push(l)}return t}function tl(r){let e=r.length;if(e<4096)return String.fromCodePoint(...r);let n=[];for(let l=0;l<e;)n.push(String.fromCodePoint(...r.slice(l,l+=4096)));return n.join("")}function IM(r,t){let e=r.length,n=e-t.length;for(let l=0;n==0&&l<e;l++)n=r[l]-t[l];return n}var QM="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";const Oa=44032,Ru=4352,Lu=4449,_u=4519,Ww=19,$w=21,el=28,Uu=$w*el,qM=Ww*Uu,jM=Oa+qM,YM=Ru+Ww,KM=Lu+$w,JM=_u+el;function ua(r){return r>>24&255}function t1(r){return r&16777215}let xd,Xb,Td,Eu;function XM(){let r=Yw(QM);xd=new Map(Kw(r).flatMap((t,e)=>t.map(n=>[n,e+1<<24]))),Xb=new Set(xa(r)),Td=new Map,Eu=new Map;for(let[t,e]of Jw(r)){if(!Xb.has(t)&&e.length==2){let[n,l]=e,o=Eu.get(n);o||(o=new Map,Eu.set(n,o)),o.set(l,t)}Td.set(t,e.reverse())}}function e1(r){return r>=Oa&&r<jM}function ZM(r,t){if(r>=Ru&&r<YM&&t>=Lu&&t<KM)return Oa+(r-Ru)*Uu+(t-Lu)*el;if(e1(r)&&t>_u&&t<JM&&(r-Oa)%el==0)return r+(t-_u);{let e=Eu.get(r);return e&&(e=e.get(t),e)?e:-1}}function i1(r){xd||XM();let t=[],e=[],n=!1;function l(o){let c=xd.get(o);c&&(n=!0,o|=c),t.push(o)}for(let o of r)for(;;){if(o<128)t.push(o);else if(e1(o)){let c=o-Oa,f=c/Uu|0,d=c%Uu/el|0,p=c%el;l(Ru+f),l(Lu+d),p>0&&l(_u+p)}else{let c=Td.get(o);c?e.push(...c):l(o)}if(!e.length)break;o=e.pop()}if(n&&t.length>1){let o=ua(t[0]);for(let c=1;c<t.length;c++){let f=ua(t[c]);if(f==0||o<=f){o=f;continue}let d=c-1;for(;;){let p=t[d+1];if(t[d+1]=t[d],t[d]=p,!d||(o=ua(t[--d]),o<=f))break}o=ua(t[c])}}return t}function WM(r){let t=[],e=[],n=-1,l=0;for(let o of r){let c=ua(o),f=t1(o);if(n==-1)c==0?n=f:t.push(f);else if(l>0&&l>=c)c==0?(t.push(n,...e),e.length=0,n=f):e.push(f),l=c;else{let d=ZM(n,f);d>=0?n=d:l==0&&c==0?(t.push(n),n=f):(e.push(f),l=c)}}return n>=0&&t.push(n,...e),t}function n1(r){return i1(r).map(t1)}function $M(r){return WM(i1(r))}const Zb=45,s1=".",r1=65039,l1=1,Du=r=>Array.from(r);function Ma(r,t){return r.P.has(t)||r.Q.has(t)}class tN extends Array{get is_emoji(){return!0}}let Od,a1,Rs,Md,o1,Qr,Wf,Dr,Ts,Wb,Nd;function u0(){if(Od)return;let r=Yw(LM);const t=()=>xa(r),e=()=>new Set(t()),n=(m,y)=>y.forEach(v=>m.add(v));Od=new Map(Jw(r)),a1=e(),Rs=t(),Md=new Set(t().map(m=>Rs[m])),Rs=new Set(Rs),o1=e(),e();let l=Kw(r),o=r();const c=()=>{let m=new Set;return t().forEach(y=>n(m,l[y])),n(m,t()),m};Qr=Ta(m=>{let y=Ta(r).map(v=>v+96);if(y.length){let v=m>=o;y[0]-=32,y=tl(y),v&&(y=`Restricted[${y}]`);let E=c(),S=c(),A=!r();return{N:y,P:E,Q:S,M:A,R:v}}}),Wf=e(),Dr=new Map;let f=t().concat(Du(Wf)).sort((m,y)=>m-y);f.forEach((m,y)=>{let v=r(),E=f[y]=v?f[y-v]:{V:[],M:new Map};E.V.push(m),Wf.has(m)||Dr.set(m,E)});for(let{V:m,M:y}of new Set(Dr.values())){let v=[];for(let S of m){let A=Qr.filter(R=>Ma(R,S)),M=v.find(({G:R})=>A.some(H=>R.has(H)));M||(M={G:new Set,V:[]},v.push(M)),M.V.push(S),n(M.G,A)}let E=v.flatMap(S=>Du(S.G));for(let{G:S,V:A}of v){let M=new Set(E.filter(R=>!S.has(R)));for(let R of A)y.set(R,M)}}Ts=new Set;let d=new Set;const p=m=>Ts.has(m)?d.add(m):Ts.add(m);for(let m of Qr){for(let y of m.P)p(y);for(let y of m.Q)p(y)}for(let m of Ts)!Dr.has(m)&&!d.has(m)&&Dr.set(m,l1);n(Ts,n1(Ts)),Wb=GM(r).map(m=>tN.from(m)).sort(IM),Nd=new Map;for(let m of Wb){let y=[Nd];for(let v of m){let E=y.map(S=>{let A=S.get(v);return A||(A=new Map,S.set(v,A)),A});v===r1?y.push(...E):y=E}for(let v of y)v.V=m}}function c0(r){return(u1(r)?"":`${h0($u([r]))} `)+Zw(r)}function h0(r){return`"${r}"`}function eN(r){if(r.length>=4&&r[2]==Zb&&r[3]==Zb)throw new Error(`invalid label extension: "${tl(r.slice(0,4))}"`)}function iN(r){for(let e=r.lastIndexOf(95);e>0;)if(r[--e]!==95)throw new Error("underscore allowed only at start")}function nN(r){let t=r[0],e=Kb.get(t);if(e)throw pa(`leading ${e}`);let n=r.length,l=-1;for(let o=1;o<n;o++){t=r[o];let c=Kb.get(t);if(c){if(l==o)throw pa(`${e} + ${c}`);l=o+1,e=c}}if(l==n)throw pa(`trailing ${e}`)}function $u(r,t=1/0,e=Zw){let n=[];sN(r[0])&&n.push(""),r.length>t&&(t>>=1,r=[...r.slice(0,t),8230,...r.slice(-t)]);let l=0,o=r.length;for(let c=0;c<o;c++){let f=r[c];u1(f)&&(n.push(tl(r.slice(l,c))),n.push(e(f)),l=c+1)}return n.push(tl(r.slice(l,o))),n.join("")}function sN(r){return u0(),Rs.has(r)}function u1(r){return u0(),o1.has(r)}function rN(r){return uN(lN(r,$M,fN))}function lN(r,t,e){if(!r)return[];u0();let n=0;return r.split(s1).map(l=>{let o=FM(l),c={input:o,offset:n};n+=o.length+1;try{let f=c.tokens=hN(o,t,e),d=f.length,p;if(!d)throw new Error("empty label");let m=c.output=f.flat();if(iN(m),!(c.emoji=d>1||f[0].is_emoji)&&m.every(v=>v<128))eN(m),p="ASCII";else{let v=f.flatMap(E=>E.is_emoji?[]:E);if(!v.length)p="Emoji";else{if(Rs.has(m[0]))throw pa("leading combining mark");for(let A=1;A<d;A++){let M=f[A];if(!M.is_emoji&&Rs.has(M[0]))throw pa(`emoji + combining mark: "${tl(f[A-1])} + ${$u([M[0]])}"`)}nN(m);let E=Du(new Set(v)),[S]=oN(E);cN(S,v),aN(S,E),p=S.N}}c.type=p}catch(f){c.error=f}return c})}function aN(r,t){let e,n=[];for(let l of t){let o=Dr.get(l);if(o===l1)return;if(o){let c=o.M.get(l);if(e=e?e.filter(f=>c.has(f)):Du(c),!e.length)return}else n.push(l)}if(e){for(let l of e)if(n.every(o=>Ma(l,o)))throw new Error(`whole-script confusable: ${r.N}/${l.N}`)}}function oN(r){let t=Qr;for(let e of r){let n=t.filter(l=>Ma(l,e));if(!n.length)throw Qr.some(l=>Ma(l,e))?h1(t[0],e):c1(e);if(t=n,n.length==1)break}return t}function uN(r){return r.map(({input:t,error:e,output:n})=>{if(e){let l=e.message;throw new Error(r.length==1?l:`Invalid label ${h0($u(t,63))}: ${l}`)}return tl(n)}).join(s1)}function c1(r){return new Error(`disallowed character: ${c0(r)}`)}function h1(r,t){let e=c0(t),n=Qr.find(l=>l.P.has(t));return n&&(e=`${n.N} ${e}`),new Error(`illegal mixture: ${r.N} + ${e}`)}function pa(r){return new Error(`illegal placement: ${r}`)}function cN(r,t){for(let e of t)if(!Ma(r,e))throw h1(r,e);if(r.M){let e=n1(t);for(let n=1,l=e.length;n<l;n++)if(Md.has(e[n])){let o=n+1;for(let c;o<l&&Md.has(c=e[o]);o++)for(let f=n;f<o;f++)if(e[f]==c)throw new Error(`duplicate non-spacing marks: ${c0(c)}`);if(o-n>Jb)throw new Error(`excessive non-spacing marks: ${h0($u(e.slice(n-1,o)))} (${o-n}/${Jb})`);n=o}}}function hN(r,t,e){let n=[],l=[];for(r=r.slice().reverse();r.length;){let o=dN(r);if(o)l.length&&(n.push(t(l)),l=[]),n.push(e(o));else{let c=r.pop();if(Ts.has(c))l.push(c);else{let f=Od.get(c);if(f)l.push(...f);else if(!a1.has(c))throw c1(c)}}}return l.length&&n.push(t(l)),n}function fN(r){return r.filter(t=>t!=r1)}function dN(r,t){let e=Nd,n,l=r.length;for(;l&&(e=e.get(r[--l]),!!e);){let{V:o}=e;o&&(n=o,r.length=l)}return n}const f1=new Uint8Array(32);f1.fill(0);function $b(r){return N(r.length!==0,"invalid ENS name; empty component","comp",r),r}function d1(r){const t=gn(gN(r)),e=[];if(r.length===0)return e;let n=0;for(let l=0;l<t.length;l++)t[l]===46&&(e.push($b(t.slice(n,l))),n=l+1);return N(n<t.length,"invalid ENS name; empty component","name",r),e.push($b(t.slice(n))),e}function gN(r){try{if(r.length===0)throw new Error("empty label");return rN(r)}catch(t){N(!1,`invalid ENS name (${t.message})`,"name",r)}}function Cd(r){N(typeof r=="string","invalid ENS name; not a string","name",r),N(r.length,"invalid ENS name (empty label)","name",r);let t=f1;const e=d1(r);for(;e.length;)t=he(ne([t,he(e.pop())]));return tt(t)}function pN(r,t){const e=t;return N(e<=255,"DNS encoded label cannot exceed 255","length",e),tt(ne(d1(r).map(n=>{N(n.length<=e,`label ${JSON.stringify(r)} exceeds ${e} bytes`,"name",r);const l=new Uint8Array(n.length+1);return l.set(n,1),l[0]=l.length-1,l})))+"00"}const g1=new Uint8Array(32);g1.fill(0);const mN=BigInt(-1),p1=BigInt(0),m1=BigInt(1),yN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bN(r){const t=vt(r),e=t.length%32;return e?ne([t,g1.slice(e)]):tt(t)}const vN=ts(m1,32),wN=ts(p1,32),tv={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},$f=["name","version","chainId","verifyingContract","salt"];function ev(r){return function(t){return N(typeof t=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const AN={name:ev("name"),version:ev("version"),chainId:function(r){const t=it(r,"domain.chainId");return N(t>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(t)?Number(t):Oi(t)},verifyingContract:function(r){try{return Lt(r).toLowerCase()}catch{}N(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const t=vt(r,"domain.salt");return N(t.length===32,'invalid domain value "salt"',"domain.salt",r),tt(t)}};function td(r){{const t=r.match(/^(u?)int(\d+)$/);if(t){const e=t[1]==="",n=parseInt(t[2]);N(n%8===0&&n!==0&&n<=256&&t[2]===String(n),"invalid numeric width","type",r);const l=Cs(yN,e?n-1:n),o=e?(l+m1)*mN:p1;return function(c){const f=it(c,"value");return N(f>=o&&f<=l,`value out-of-bounds for ${r}`,"value",f),ts(e?nw(f,256):f,32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return N(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",r),function(n){const l=vt(n);return N(l.length===e,`invalid length for ${r}`,"value",n),bN(n)}}}switch(r){case"address":return function(t){return mn(Lt(t),32)};case"bool":return function(t){return t?vN:wN};case"bytes":return function(t){return he(t)};case"string":return function(t){return Gs(t)}}return null}function iv(r,t){return`${r}(${t.map(({name:e,type:n})=>n+" "+e).join(",")})`}function bu(r){const t=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:r}}class ni{primaryType;#t;get types(){return JSON.parse(this.#t)}#e;#i;constructor(t){this.#e=new Map,this.#i=new Map;const e=new Map,n=new Map,l=new Map,o={};Object.keys(t).forEach(d=>{o[d]=t[d].map(({name:p,type:m})=>{let{base:y,index:v}=bu(m);return y==="int"&&!t.int&&(y="int256"),y==="uint"&&!t.uint&&(y="uint256"),{name:p,type:y+(v||"")}}),e.set(d,new Set),n.set(d,[]),l.set(d,new Set)}),this.#t=JSON.stringify(o);for(const d in o){const p=new Set;for(const m of o[d]){N(!p.has(m.name),`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(d)}`,"types",t),p.add(m.name);const y=bu(m.type).base;N(y!==d,`circular type reference to ${JSON.stringify(y)}`,"types",t),!td(y)&&(N(n.has(y),`unknown type ${JSON.stringify(y)}`,"types",t),n.get(y).push(d),e.get(d).add(y))}}const c=Array.from(n.keys()).filter(d=>n.get(d).length===0);N(c.length!==0,"missing primary type","types",t),N(c.length===1,`ambiguous primary types or unused types: ${c.map(d=>JSON.stringify(d)).join(", ")}`,"types",t),ot(this,{primaryType:c[0]});function f(d,p){N(!p.has(d),`circular type reference to ${JSON.stringify(d)}`,"types",t),p.add(d);for(const m of e.get(d))if(n.has(m)){f(m,p);for(const y of p)l.get(y).add(m)}p.delete(d)}f(this.primaryType,new Set);for(const[d,p]of l){const m=Array.from(p);m.sort(),this.#e.set(d,iv(d,o[d])+m.map(y=>iv(y,o[y])).join(""))}}getEncoder(t){let e=this.#i.get(t);return e||(e=this.#n(t),this.#i.set(t,e)),e}#n(t){{const l=td(t);if(l)return l}const e=bu(t).array;if(e){const l=e.prefix,o=this.getEncoder(l);return c=>{N(e.count===-1||e.count===c.length,`array length mismatch; expected length ${e.count}`,"value",c);let f=c.map(o);return this.#e.has(l)&&(f=f.map(he)),he(ne(f))}}const n=this.types[t];if(n){const l=Gs(this.#e.get(t));return o=>{const c=n.map(({name:f,type:d})=>{const p=this.getEncoder(d)(o[f]);return this.#e.has(d)?he(p):p});return c.unshift(l),ne(c)}}N(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#e.get(t);return N(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return he(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(td(t))return n(t,e);const l=bu(t).array;if(l)return N(l.count===-1||l.count===e.length,`array length mismatch; expected length ${l.count}`,"value",e),e.map(c=>this._visit(l.prefix,c,n));const o=this.types[t];if(o)return o.reduce((c,{name:f,type:d})=>(c[f]=this._visit(d,e[f],n),c),{});N(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new ni(t)}static getPrimaryType(t){return ni.from(t).primaryType}static hashStruct(t,e,n){return ni.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){if(t[n]==null)continue;const l=tv[n];N(l,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:l})}return e.sort((n,l)=>$f.indexOf(n.name)-$f.indexOf(l.name)),ni.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return ne(["0x1901",ni.hashDomain(t),ni.from(e).hash(n)])}static hash(t,e,n){return he(ni.encode(t,e,n))}static async resolveNames(t,e,n,l){t=Object.assign({},t);for(const f in t)t[f]==null&&delete t[f];const o={};t.verifyingContract&&!Qt(t.verifyingContract,20)&&(o[t.verifyingContract]="0x");const c=ni.from(e);c.visit(n,(f,d)=>(f==="address"&&!Qt(d,20)&&(o[d]="0x"),d));for(const f in o)o[f]=await l(f);return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=c.visit(n,(f,d)=>f==="address"&&o[d]?o[d]:d),{domain:t,value:n}}static getPayload(t,e,n){ni.hashDomain(t);const l={},o=[];$f.forEach(d=>{const p=t[d];p!=null&&(l[d]=AN[d](p),o.push({name:d,type:tv[d]}))});const c=ni.from(e);e=c.types;const f=Object.assign({},e);return N(f.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),f.EIP712Domain=o,c.encode(n),{types:f,domain:l,primaryType:c.primaryType,message:c.visit(n,(d,p)=>{if(d.match(/^bytes(\d*)/))return tt(vt(p));if(d.match(/^u?int/))return it(p).toString();switch(d){case"address":return p.toLowerCase();case"bool":return!!p;case"string":return N(typeof p=="string","invalid string","value",p),p}N(!1,"unsupported type","type",d)})}}}function ze(r){const t=new Set;return r.forEach(e=>t.add(e)),Object.freeze(t)}const EN="external public payable override",SN=ze(EN.split(" ")),y1="constant external internal payable private public pure view override",xN=ze(y1.split(" ")),b1="constructor error event fallback function receive struct",v1=ze(b1.split(" ")),w1="calldata memory storage payable indexed",TN=ze(w1.split(" ")),ON="tuple returns",MN=[b1,w1,ON,y1].join(" "),NN=ze(MN.split(" ")),CN={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},BN=new RegExp("^(\\s*)"),RN=new RegExp("^([0-9]+)"),LN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),A1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),E1=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class vi{#t;#e;get offset(){return this.#t}get length(){return this.#e.length-this.#t}constructor(t){this.#t=0,this.#e=t.slice()}clone(){return new vi(this.#e)}reset(){this.#t=0}#i(t=0,e=0){return new vi(this.#e.slice(t,e).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=this.#i(this.#t+1,t.match+1);return this.#t=t.match+1,e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;this.#t<t.match-1;){const n=this.peek().linkNext;e.push(this.#i(this.#t+1,n)),this.#t=n}return this.#t=t.match+1,e}peek(){if(this.#t>=this.#e.length)throw new Error("out-of-bounds");return this.#e[this.#t]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#t++,t}toString(){const t=[];for(let e=this.#t;e<this.#e.length;e++){const n=this.#e[e];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}}function is(r){const t=[],e=c=>{const f=o<r.length?JSON.stringify(r[o]):"$EOI";throw new Error(`invalid token ${f} at ${o}: ${c}`)};let n=[],l=[],o=0;for(;o<r.length;){let c=r.substring(o),f=c.match(BN);f&&(o+=f[1].length,c=r.substring(o));const d={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};t.push(d);let p=CN[c[0]]||"";if(p){if(d.type=p,d.text=c[0],o++,p==="OPEN_PAREN")n.push(t.length-1),l.push(t.length-1);else if(p=="CLOSE_PAREN")n.length===0&&e("no matching open bracket"),d.match=n.pop(),t[d.match].match=t.length-1,d.depth--,d.linkBack=l.pop(),t[d.linkBack].linkNext=t.length-1;else if(p==="COMMA")d.linkBack=l.pop(),t[d.linkBack].linkNext=t.length-1,l.push(t.length-1);else if(p==="OPEN_BRACKET")d.type="BRACKET";else if(p==="CLOSE_BRACKET"){let m=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const y=t.pop().text;m=y+m,t[t.length-1].value=wt(y)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=m}continue}if(f=c.match(LN),f){if(d.text=f[1],o+=d.text.length,NN.has(d.text)){d.type="KEYWORD";continue}if(d.text.match(E1)){d.type="TYPE";continue}d.type="ID";continue}if(f=c.match(RN),f){d.text=f[1],d.type="NUMBER",o+=d.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(c[0])} at position ${o}`)}return new vi(t.map(c=>Object.freeze(c)))}function nv(r,t){let e=[];for(const n in t.keys())r.has(n)&&e.push(n);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function tc(r,t){if(t.peekKeyword(v1)){const e=t.pop().text;if(e!==r)throw new Error(`expected ${r}, got ${e}`)}return t.popType("ID")}function yn(r,t){const e=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(r.pop(),e.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);e.add(n)}return Object.freeze(e)}function S1(r){let t=yn(r,xN);return nv(t,ze("constant payable nonpayable".split(" "))),nv(t,ze("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function pn(r,t){return r.popParams().map(e=>It.from(e,t))}function x1(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return it(r.pop().text);throw new Error("invalid gas")}return null}function Vs(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const _N=new RegExp(/^(.*)\[([0-9]*)\]$/);function sv(r){const t=r.match(E1);if(N(t,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(t[2]){const e=parseInt(t[2]);N(e!==0&&e<=32,"invalid bytes length","type",r)}else if(t[3]){const e=parseInt(t[3]);N(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",r)}return r}const Jt={},Ye=Symbol.for("_ethers_internal"),rv="_ParamTypeInternal",lv="_ErrorInternal",av="_EventInternal",ov="_ConstructorInternal",uv="_FallbackInternal",cv="_FunctionInternal",hv="_StructInternal";class It{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,n,l,o,c,f,d){if(La(t,Jt,"ParamType"),Object.defineProperty(this,Ye,{value:rv}),c&&(c=Object.freeze(c.slice())),l==="array"){if(f==null||d==null)throw new Error("")}else if(f!=null||d!=null)throw new Error("");if(l==="tuple"){if(c==null)throw new Error("")}else if(c!=null)throw new Error("");ot(this,{name:e,type:n,baseType:l,indexed:o,components:c,arrayLength:f,arrayChildren:d})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const l={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(l.indexed=this.indexed),this.isTuple()&&(l.components=this.components.map(o=>JSON.parse(o.format(t)))),JSON.stringify(l)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(l=>n.arrayChildren.walk(l,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((l,o)=>n.components[o].walk(l,e))}return e(this.type,t)}#t(t,e,n,l){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const c=this.arrayChildren,f=e.slice();f.forEach((d,p)=>{c.#t(t,d,n,m=>{f[p]=m})}),l(f);return}if(this.isTuple()){const c=this.components;let f;if(Array.isArray(e))f=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");f=c.map(d=>{if(!d.name)throw new Error("cannot use object value with unnamed components");if(!(d.name in e))throw new Error(`missing value for component ${d.name}`);return e[d.name]})}if(f.length!==this.components.length)throw new Error("array is wrong length");f.forEach((d,p)=>{c[p].#t(t,d,n,m=>{f[p]=m})}),l(f);return}const o=n(this.type,e);o.then?t.push(async function(){l(await o)}()):l(o)}async walkAsync(t,e){const n=[],l=[t];return this.#t(n,t,e,o=>{l[0]=o}),n.length&&await Promise.all(n),l[0]}static from(t,e){if(It.isParamType(t))return t;if(typeof t=="string")try{return It.from(is(t),e)}catch{N(!1,"invalid param type","obj",t)}else if(t instanceof vi){let f="",d="",p=null;yn(t,ze(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(d="tuple",p=t.popParams().map(A=>It.from(A)),f=`tuple(${p.map(A=>A.format()).join(",")})`):(f=sv(t.popType("TYPE")),d=f);let m=null,y=null;for(;t.length&&t.peekType("BRACKET");){const A=t.pop();m=new It(Jt,"",f,d,null,p,y,m),y=A.value,f+=A.text,d="array",p=null}let v=null;if(yn(t,TN).has("indexed")){if(!e)throw new Error("");v=!0}const S=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new It(Jt,S,f,d,v,p,y,m)}const n=t.name;N(!n||typeof n=="string"&&n.match(A1),"invalid name","obj.name",n);let l=t.indexed;l!=null&&(N(e,"parameter cannot be indexed","obj.indexed",t.indexed),l=!!l);let o=t.type,c=o.match(_N);if(c){const f=parseInt(c[2]||"-1"),d=It.from({type:c[1],components:t.components});return new It(Jt,n||"",o,"array",l,null,f,d)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const f=t.components!=null?t.components.map(p=>It.from(p)):null;return new It(Jt,n||"",o,"tuple",l,f,null,null)}return o=sv(t.type),new It(Jt,n||"",o,o,l,null,null,null)}static isParamType(t){return t&&t[Ye]===rv}}class Fs{type;inputs;constructor(t,e,n){La(t,Jt,"Fragment"),n=Object.freeze(n.slice()),ot(this,{type:e,inputs:n})}static from(t){if(typeof t=="string"){try{Fs.from(JSON.parse(t))}catch{}return Fs.from(is(t))}if(t instanceof vi)switch(t.peekKeyword(v1)){case"constructor":return dn.from(t);case"error":return qe.from(t);case"event":return Gi.from(t);case"fallback":case"receive":return an.from(t);case"function":return Vi.from(t);case"struct":return Ds.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return dn.from(t);case"error":return qe.from(t);case"event":return Gi.from(t);case"fallback":case"receive":return an.from(t);case"function":return Vi.from(t);case"struct":return Ds.from(t)}I(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}N(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return dn.isFragment(t)}static isError(t){return qe.isFragment(t)}static isEvent(t){return Gi.isFragment(t)}static isFunction(t){return Vi.isFragment(t)}static isStruct(t){return Ds.isFragment(t)}}class ec extends Fs{name;constructor(t,e,n,l){super(t,e,l),N(typeof n=="string"&&n.match(A1),"invalid identifier","name",n),l=Object.freeze(l.slice()),ot(this,{name:n})}}function Na(r,t){return"("+t.map(e=>e.format(r)).join(r==="full"?", ":",")+")"}class qe extends ec{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,Ye,{value:lv})}get selector(){return Gs(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+Na(t,this.inputs)),e.join(" ")}static from(t){if(qe.isFragment(t))return t;if(typeof t=="string")return qe.from(is(t));if(t instanceof vi){const e=tc("error",t),n=pn(t);return Vs(t),new qe(Jt,e,n)}return new qe(Jt,t.name,t.inputs?t.inputs.map(It.from):[])}static isFragment(t){return t&&t[Ye]===lv}}class Gi extends ec{anonymous;constructor(t,e,n,l){super(t,"event",e,n),Object.defineProperty(this,Ye,{value:av}),ot(this,{anonymous:l})}get topicHash(){return Gs(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("event"),e.push(this.name+Na(t,this.inputs)),t!=="sighash"&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map(l=>It.from(l)),new Gi(Jt,t,e,!1).topicHash}static from(t){if(Gi.isFragment(t))return t;if(typeof t=="string")try{return Gi.from(is(t))}catch{N(!1,"invalid event fragment","obj",t)}else if(t instanceof vi){const e=tc("event",t),n=pn(t,!0),l=!!yn(t,ze(["anonymous"])).has("anonymous");return Vs(t),new Gi(Jt,e,n,l)}return new Gi(Jt,t.name,t.inputs?t.inputs.map(e=>It.from(e,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Ye]===av}}class dn extends Fs{payable;gas;constructor(t,e,n,l,o){super(t,e,n),Object.defineProperty(this,Ye,{value:ov}),ot(this,{payable:l,gas:o})}format(t){if(I(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[`constructor${Na(t,this.inputs)}`];return this.payable&&e.push("payable"),this.gas!=null&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(dn.isFragment(t))return t;if(typeof t=="string")try{return dn.from(is(t))}catch{N(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof vi){yn(t,ze(["constructor"]));const e=pn(t),n=!!yn(t,SN).has("payable"),l=x1(t);return Vs(t),new dn(Jt,"constructor",e,n,l)}return new dn(Jt,"constructor",t.inputs?t.inputs.map(It.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Ye]===ov}}class an extends Fs{payable;constructor(t,e,n){super(t,"fallback",e),Object.defineProperty(this,Ye,{value:uv}),ot(this,{payable:n})}format(t){const e=this.inputs.length===0?"receive":"fallback";if(t==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:n})}return`${e}()${this.payable?" payable":""}`}static from(t){if(an.isFragment(t))return t;if(typeof t=="string")try{return an.from(is(t))}catch{N(!1,"invalid fallback fragment","obj",t)}else if(t instanceof vi){const e=t.toString(),n=t.peekKeyword(ze(["fallback","receive"]));if(N(n,"type must be fallback or receive","obj",e),t.popKeyword(ze(["fallback","receive"]))==="receive"){const f=pn(t);return N(f.length===0,"receive cannot have arguments","obj.inputs",f),yn(t,ze(["payable"])),Vs(t),new an(Jt,[],!0)}let o=pn(t);o.length?N(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(f=>f.format("minimal")).join(", ")):o=[It.from("bytes")];const c=S1(t);if(N(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),yn(t,ze(["returns"])).has("returns")){const f=pn(t);N(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(d=>d.format("minimal")).join(", "))}return Vs(t),new an(Jt,o,c==="payable")}if(t.type==="receive")return new an(Jt,[],!0);if(t.type==="fallback"){const e=[It.from("bytes")],n=t.stateMutability==="payable";return new an(Jt,e,n)}N(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Ye]===uv}}class Vi extends ec{constant;outputs;stateMutability;payable;gas;constructor(t,e,n,l,o,c){super(t,"function",e,l),Object.defineProperty(this,Ye,{value:cv}),o=Object.freeze(o.slice()),ot(this,{constant:n==="view"||n==="pure",gas:c,outputs:o,payable:n==="payable",stateMutability:n})}get selector(){return Gs(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("function"),e.push(this.name+Na(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(Na(t,this.outputs))),this.gas!=null&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){return e=(e||[]).map(l=>It.from(l)),new Vi(Jt,t,"view",e,[],null).selector}static from(t){if(Vi.isFragment(t))return t;if(typeof t=="string")try{return Vi.from(is(t))}catch{N(!1,"invalid function fragment","obj",t)}else if(t instanceof vi){const n=tc("function",t),l=pn(t),o=S1(t);let c=[];yn(t,ze(["returns"])).has("returns")&&(c=pn(t));const f=x1(t);return Vs(t),new Vi(Jt,n,o,l,c,f)}let e=t.stateMutability;return e==null&&(e="payable",typeof t.constant=="boolean"?(e="view",t.constant||(e="payable",typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable")),new Vi(Jt,t.name,e,t.inputs?t.inputs.map(It.from):[],t.outputs?t.outputs.map(It.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Ye]===cv}}class Ds extends ec{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,Ye,{value:hv})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return Ds.from(is(t))}catch{N(!1,"invalid struct fragment","obj",t)}else if(t instanceof vi){const e=tc("struct",t),n=pn(t);return Vs(t),new Ds(Jt,e,n)}return new Ds(Jt,t.name,t.inputs?t.inputs.map(It.from):[])}static isFragment(t){return t&&t[Ye]===hv}}const Ci=new Map;Ci.set(0,"GENERIC_PANIC");Ci.set(1,"ASSERT_FALSE");Ci.set(17,"OVERFLOW");Ci.set(18,"DIVIDE_BY_ZERO");Ci.set(33,"ENUM_RANGE_ERROR");Ci.set(34,"BAD_STORAGE_DATA");Ci.set(49,"STACK_UNDERFLOW");Ci.set(50,"ARRAY_RANGE_ERROR");Ci.set(65,"OUT_OF_MEMORY");Ci.set(81,"UNINITIALIZED_FUNCTION_CALL");const UN=new RegExp(/^bytes([0-9]*)$/),DN=new RegExp(/^(u?int)([0-9]*)$/);let ed=null,fv=1024;function zN(r,t,e,n){let l="missing revert data",o=null;const c=null;let f=null;if(e){l="execution reverted";const p=vt(e);if(e=tt(e),p.length===0)l+=" (no data present; likely require(false) occurred",o="require(false)";else if(p.length%32!==4)l+=" (could not decode reason; invalid data length)";else if(tt(p.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],p.slice(4))[0],f={signature:"Error(string)",name:"Error",args:[o]},l+=`: ${JSON.stringify(o)}`}catch{l+=" (could not decode reason; invalid string data)"}else if(tt(p.slice(0,4))==="0x4e487b71")try{const m=Number(n.decode(["uint256"],p.slice(4))[0]);f={signature:"Panic(uint256)",name:"Panic",args:[m]},o=`Panic due to ${Ci.get(m)||"UNKNOWN"}(${m})`,l+=`: ${o}`}catch{l+=" (could not decode panic code)"}else l+=" (unknown custom error)"}const d={to:t.to?Lt(t.to):null,data:t.data||"0x"};return t.from&&(d.from=Lt(t.from)),Kt(l,"CALL_EXCEPTION",{action:r,data:e,reason:o,transaction:d,invocation:c,revert:f})}class il{#t(t){if(t.isArray())return new tM(this.#t(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new yu(t.components.map(n=>this.#t(n)),t.name);switch(t.baseType){case"address":return new WO(t.name);case"bool":return new eM(t.name);case"string":return new cM(t.name);case"bytes":return new iM(t.name);case"":return new rM(t.name)}let e=t.type.match(DN);if(e){let n=parseInt(e[2]||"256");return N(n!==0&&n<=256&&n%8===0,"invalid "+e[1]+" bit length","param",t),new uM(n/8,e[1]==="int",t.name)}if(e=t.type.match(UN),e){let n=parseInt(e[1]);return N(n!==0&&n<=32,"invalid bytes length","param",t),new nM(n,t.name)}N(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map(l=>this.#t(It.from(l)));return new yu(e,"_").defaultValue()}encode(t,e){tw(e.length,t.length,"types/values length mismatch");const n=t.map(c=>this.#t(It.from(c))),l=new yu(n,"_"),o=new bd;return l.encode(o,e),o.data}decode(t,e,n){const l=t.map(c=>this.#t(It.from(c)));return new yu(l,"_").decode(new $d(e,n,fv))}static _setDefaultMaxInflation(t){N(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),fv=t}static defaultAbiCoder(){return ed==null&&(ed=new il),ed}static getBuiltinCallException(t,e,n){return zN(t,e,n,il.defaultAbiCoder())}}class kN{fragment;name;signature;topic;args;constructor(t,e,n){const l=t.name,o=t.format();ot(this,{fragment:t,name:l,signature:o,topic:e,args:n})}}class PN{fragment;name;args;signature;selector;value;constructor(t,e,n,l){const o=t.name,c=t.format();ot(this,{fragment:t,name:o,args:n,signature:c,selector:e,value:l})}}class HN{fragment;name;args;signature;selector;constructor(t,e,n){const l=t.name,o=t.format();ot(this,{fragment:t,name:l,args:n,signature:o,selector:e})}}class dv{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){ot(this,{hash:t,_isIndexed:!0})}}const gv={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},pv={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let t="unknown panic code";return r>=0&&r<=255&&gv[r.toString()]&&(t=gv[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${t})`}}};class Ns{fragments;deploy;fallback;receive;#t;#e;#i;#n;constructor(t){let e=[];typeof t=="string"?e=JSON.parse(t):e=t,this.#i=new Map,this.#t=new Map,this.#e=new Map;const n=[];for(const c of e)try{n.push(Fs.from(c))}catch(f){console.log(`[Warning] Invalid Fragment ${JSON.stringify(c)}:`,f.message)}ot(this,{fragments:Object.freeze(n)});let l=null,o=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((c,f)=>{let d;switch(c.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ot(this,{deploy:c});return;case"fallback":c.inputs.length===0?o=!0:(N(!l||c.payable!==l.payable,"conflicting fallback fragments",`fragments[${f}]`,c),l=c,o=l.payable);return;case"function":d=this.#i;break;case"event":d=this.#e;break;case"error":d=this.#t;break;default:return}const p=c.format();d.has(p)||d.set(p,c)}),this.deploy||ot(this,{deploy:dn.from("constructor()")}),ot(this,{fallback:l,receive:o})}format(t){const e=t?"minimal":"full";return this.fragments.map(l=>l.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return il.defaultAbiCoder()}#s(t,e,n){if(Qt(t)){const o=t.toLowerCase();for(const c of this.#i.values())if(o===c.selector)return c;return null}if(t.indexOf("(")===-1){const o=[];for(const[c,f]of this.#i)c.split("(")[0]===t&&o.push(f);if(e){const c=e.length>0?e[e.length-1]:null;let f=e.length,d=!0;ie.isTyped(c)&&c.type==="overrides"&&(d=!1,f--);for(let p=o.length-1;p>=0;p--){const m=o[p].inputs.length;m!==f&&(!d||m!==f-1)&&o.splice(p,1)}for(let p=o.length-1;p>=0;p--){const m=o[p].inputs;for(let y=0;y<e.length;y++)if(ie.isTyped(e[y])){if(y>=m.length){if(e[y].type==="overrides")continue;o.splice(p,1);break}if(e[y].type!==m[y].baseType){o.splice(p,1);break}}}}if(o.length===1&&e&&e.length!==o[0].inputs.length){const c=e[e.length-1];(c==null||Array.isArray(c)||typeof c!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){const c=o.map(f=>JSON.stringify(f.format())).join(", ");N(!1,`ambiguous function description (i.e. matches ${c})`,"key",t)}return o[0]}const l=this.#i.get(Vi.from(t).format());return l||null}getFunctionName(t){const e=this.#s(t,null,!1);return N(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#s(t,null,!1)}getFunction(t,e){return this.#s(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#i.keys());e.sort((n,l)=>n.localeCompare(l));for(let n=0;n<e.length;n++){const l=e[n];t(this.#i.get(l),n)}}#l(t,e,n){if(Qt(t)){const o=t.toLowerCase();for(const c of this.#e.values())if(o===c.topicHash)return c;return null}if(t.indexOf("(")===-1){const o=[];for(const[c,f]of this.#e)c.split("(")[0]===t&&o.push(f);if(e){for(let c=o.length-1;c>=0;c--)o[c].inputs.length<e.length&&o.splice(c,1);for(let c=o.length-1;c>=0;c--){const f=o[c].inputs;for(let d=0;d<e.length;d++)if(ie.isTyped(e[d])&&e[d].type!==f[d].baseType){o.splice(c,1);break}}}if(o.length===0)return null;if(o.length>1&&n){const c=o.map(f=>JSON.stringify(f.format())).join(", ");N(!1,`ambiguous event description (i.e. matches ${c})`,"key",t)}return o[0]}const l=this.#e.get(Gi.from(t).format());return l||null}getEventName(t){const e=this.#l(t,null,!1);return N(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#l(t,null,!1)}getEvent(t,e){return this.#l(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#e.keys());e.sort((n,l)=>n.localeCompare(l));for(let n=0;n<e.length;n++){const l=e[n];t(this.#e.get(l),n)}}getError(t,e){if(Qt(t)){const l=t.toLowerCase();if(pv[l])return qe.from(pv[l].signature);for(const o of this.#t.values())if(l===o.selector)return o;return null}if(t.indexOf("(")===-1){const l=[];for(const[o,c]of this.#t)o.split("(")[0]===t&&l.push(c);if(l.length===0)return t==="Error"?qe.from("error Error(string)"):t==="Panic"?qe.from("error Panic(uint256)"):null;if(l.length>1){const o=l.map(c=>JSON.stringify(c.format())).join(", ");N(!1,`ambiguous error description (i.e. ${o})`,"name",t)}return l[0]}if(t=qe.from(t).format(),t==="Error(string)")return qe.from("error Error(string)");if(t==="Panic(uint256)")return qe.from("error Panic(uint256)");const n=this.#t.get(t);return n||null}forEachError(t){const e=Array.from(this.#t.keys());e.sort((n,l)=>n.localeCompare(l));for(let n=0;n<e.length;n++){const l=e[n];t(this.#t.get(l),n)}}_decodeParams(t,e){return this.#n.decode(t,e)}_encodeParams(t,e){return this.#n.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);N(n,"unknown error","fragment",t),t=n}return N(te(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,te(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);N(n,"unknown error","fragment",t),t=n}return ne([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}return N(te(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,te(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}return ne([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const o=this.getFunction(t);N(o,"unknown function","fragment",t),t=o}let n="invalid length for result data";const l=_e(e);if(l.length%32===0)try{return this.#n.decode(t.outputs,l)}catch{n="could not decode result data"}I(!1,n,"BAD_DATA",{value:tt(l),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=vt(t,"data"),l=il.getBuiltinCallException("call",e,n);if(l.message.startsWith("execution reverted (unknown custom error)")){const f=tt(n.slice(0,4)),d=this.getError(f);if(d)try{const p=this.#n.decode(d.inputs,n.slice(4));l.revert={name:d.name,signature:d.format(),args:p},l.reason=l.revert.signature,l.message=`execution reverted: ${l.reason}`}catch{l.message="execution reverted (coult not decode custom error)"}}const c=this.parseTransaction(e);return c&&(l.invocation={method:c.name,signature:c.signature,args:c.args}),l}encodeFunctionResult(t,e){if(typeof t=="string"){const n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}return tt(this.#n.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const o=this.getEvent(t);N(o,"unknown event","eventFragment",t),t=o}I(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const l=(o,c)=>o.type==="string"?Gs(c):o.type==="bytes"?he(tt(c)):(o.type==="bool"&&typeof c=="boolean"?c=c?"0x01":"0x00":o.type.match(/^u?int/)?c=ts(c):o.type.match(/^bytes/)?c=iT(c,32):o.type==="address"&&this.#n.encode(["address"],[c]),mn(tt(c),32));for(e.forEach((o,c)=>{const f=t.inputs[c];if(!f.indexed){N(o==null,"cannot filter non-indexed parameters; must be null","contract."+f.name,o);return}o==null?n.push(null):f.baseType==="array"||f.baseType==="tuple"?N(!1,"filtering with tuples or arrays not supported","contract."+f.name,o):Array.isArray(o)?n.push(o.map(d=>l(f,d))):n.push(l(f,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){if(typeof t=="string"){const c=this.getEvent(t);N(c,"unknown event","eventFragment",t),t=c}const n=[],l=[],o=[];return t.anonymous||n.push(t.topicHash),N(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((c,f)=>{const d=e[f];if(c.indexed)if(c.type==="string")n.push(Gs(d));else if(c.type==="bytes")n.push(he(d));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([c.type],[d]))}else l.push(c),o.push(d)}),{data:this.#n.encode(l,o),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"){const E=this.getEvent(t);N(E,"unknown event","eventFragment",t),t=E}if(n!=null&&!t.anonymous){const E=t.topicHash;N(Qt(n[0],32)&&n[0].toLowerCase()===E,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const l=[],o=[],c=[];t.inputs.forEach((E,S)=>{E.indexed?E.type==="string"||E.type==="bytes"||E.baseType==="tuple"||E.baseType==="array"?(l.push(It.from({type:"bytes32",name:E.name})),c.push(!0)):(l.push(E),c.push(!1)):(o.push(E),c.push(!1))});const f=n!=null?this.#n.decode(l,ne(n)):null,d=this.#n.decode(o,e,!0),p=[],m=[];let y=0,v=0;return t.inputs.forEach((E,S)=>{let A=null;if(E.indexed)if(f==null)A=new dv(null);else if(c[S])A=new dv(f[v++]);else try{A=f[v++]}catch(M){A=M}else try{A=d[y++]}catch(M){A=M}p.push(A),m.push(E.name||null)}),fn.fromItems(p,m)}parseTransaction(t){const e=vt(t.data,"tx.data"),n=it(t.value!=null?t.value:0,"tx.value"),l=this.getFunction(tt(e.slice(0,4)));if(!l)return null;const o=this.#n.decode(l.inputs,e.slice(4));return new PN(l,l.selector,o,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new kN(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=tt(t),n=this.getError(te(e,0,4));if(!n)return null;const l=this.#n.decode(n.inputs,te(e,4));return new HN(n,n.selector,l)}static from(t){return t instanceof Ns?t:typeof t=="string"?new Ns(JSON.parse(t)):typeof t.formatJson=="function"?new Ns(t.formatJson()):typeof t.format=="function"?new Ns(t.format("json")):new Ns(t)}}const T1=BigInt(0);function qr(r){return r??null}function le(r){return r==null?null:r.toString()}class mv{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,n){ot(this,{gasPrice:qr(t),maxFeePerGas:qr(e),maxPriorityFeePerGas:qr(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:le(t),maxFeePerGas:le(e),maxPriorityFeePerGas:le(n)}}}function zu(r){const t={};r.to&&(t.to=r.to),r.from&&(t.from=r.from),r.data&&(t.data=tt(r.data));const e="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const l of e)!(l in r)||r[l]==null||(t[l]=it(r[l],`request.${l}`));const n="type,nonce".split(/,/);for(const l of n)!(l in r)||r[l]==null||(t[l]=wt(r[l],`request.${l}`));return r.accessList&&(t.accessList=Qs(r.accessList)),r.authorizationList&&(t.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(t.blockTag=r.blockTag),"enableCcipRead"in r&&(t.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(t.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(t.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(t.kzg=r.kzg),"blobs"in r&&r.blobs&&(t.blobs=r.blobs.map(l=>Wd(l)?tt(l):Object.assign({},l))),t}class GN{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#t;constructor(t,e){this.#t=t.transactions.map(n=>typeof n!="string"?new za(n,e):n),ot(this,{provider:e,hash:qr(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:qr(t.prevRandao),extraData:t.extraData,baseFeePerGas:qr(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#t.map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=this.#t.slice();return t.length===0?[]:(I(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:n,gasLimit:l,gasUsed:o,hash:c,miner:f,prevRandao:d,nonce:p,number:m,parentHash:y,parentBeaconBlockRoot:v,stateRoot:E,receiptsRoot:S,timestamp:A,transactions:M}=this;return{_type:"Block",baseFeePerGas:le(t),difficulty:le(e),extraData:n,gasLimit:le(l),gasUsed:le(o),blobGasUsed:le(this.blobGasUsed),excessBlobGas:le(this.excessBlobGas),hash:c,miner:f,prevRandao:d,nonce:p,number:m,parentHash:y,timestamp:A,parentBeaconBlockRoot:v,stateRoot:E,receiptsRoot:S,transactions:M}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#t.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=this.#t[t];else{const n=t.toLowerCase();for(const l of this.#t)if(typeof l=="string"){if(l!==n)continue;e=l;break}else{if(l.hash!==n)continue;e=l;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const n of e)if(n.hash===t)return n;N(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return VN(this)}}class Da{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const n=Object.freeze(t.topics.slice());ot(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:n,data:l,index:o,removed:c,topics:f,transactionHash:d,transactionIndex:p}=this;return{_type:"log",address:t,blockHash:e,blockNumber:n,data:l,index:o,removed:c,topics:f,transactionHash:d,transactionIndex:p}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return I(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return I(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return I(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return FN(this)}}class O1{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#t;constructor(t,e){this.#t=Object.freeze(t.logs.map(l=>new Da(l,e)));let n=T1;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&&(n=t.gasPrice),ot(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:n,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#t}toJSON(){const{to:t,from:e,contractAddress:n,hash:l,index:o,blockHash:c,blockNumber:f,logsBloom:d,logs:p,status:m,root:y}=this;return{_type:"TransactionReceipt",blockHash:c,blockNumber:f,contractAddress:n,cumulativeGasUsed:le(this.cumulativeGasUsed),from:e,gasPrice:le(this.gasPrice),blobGasUsed:le(this.blobGasUsed),blobGasPrice:le(this.blobGasPrice),gasUsed:le(this.gasUsed),hash:l,index:o,logs:p,logsBloom:d,root:y,status:m,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return N1(this)}reorderedEvent(t){return I(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),M1(this,t)}}class za{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#t;constructor(t,e){this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,this.#t=-1}toJSON(){const{blockNumber:t,blockHash:e,index:n,hash:l,type:o,to:c,from:f,nonce:d,data:p,signature:m,accessList:y,blobVersionedHashes:v}=this;return{_type:"TransactionResponse",accessList:y,blockNumber:t,blockHash:e,blobVersionedHashes:v,chainId:le(this.chainId),data:p,from:f,gasLimit:le(this.gasLimit),gasPrice:le(this.gasPrice),hash:l,maxFeePerGas:le(this.maxFeePerGas),maxPriorityFeePerGas:le(this.maxPriorityFeePerGas),maxFeePerBlobGas:le(this.maxFeePerBlobGas),nonce:d,signature:m,to:c,index:n,type:o,value:le(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&&(t=n.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:n}=await Le({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:n-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const n=t??1,l=e??0;let o=this.#t,c=-1,f=o===-1;const d=async()=>{if(f)return null;const{blockNumber:v,nonce:E}=await Le({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(E<this.nonce){o=v;return}if(f)return null;const S=await this.getTransaction();if(!(S&&S.blockNumber!=null))for(c===-1&&(c=o-3,c<this.#t&&(c=this.#t));c<=v;){if(f)return null;const A=await this.provider.getBlock(c,!0);if(A==null)return;for(const M of A)if(M===this.hash)return;for(let M=0;M<A.length;M++){const R=await A.getTransaction(M);if(R.from===this.from&&R.nonce===this.nonce){if(f)return null;const H=await this.provider.getTransactionReceipt(R.hash);if(H==null||v-H.blockNumber+1<n)return;let k="replaced";R.data===this.data&&R.to===this.to&&R.value===this.value?k="repriced":R.data==="0x"&&R.from===R.to&&R.value===T1&&(k="cancelled"),I(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:R.replaceableTransaction(o),hash:R.hash,receipt:H})}}c++}},p=v=>{if(v==null||v.status!==0)return v;I(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:v.to,from:v.from,data:""},receipt:v})},m=await this.provider.getTransactionReceipt(this.hash);if(n===0)return p(m);if(m){if(n===1||await m.confirmations()>=n)return p(m)}else if(await d(),n===0)return null;return await new Promise((v,E)=>{const S=[],A=()=>{S.forEach(R=>R())};if(S.push(()=>{f=!0}),l>0){const R=setTimeout(()=>{A(),E(Kt("wait for transaction timeout","TIMEOUT"))},l);S.push(()=>{clearTimeout(R)})}const M=async R=>{if(await R.confirmations()>=n){A();try{v(p(R))}catch(H){E(H)}}};if(S.push(()=>{this.provider.off(this.hash,M)}),this.provider.on(this.hash,M),o>=0){const R=async()=>{try{await d()}catch(H){if(Oe(H,"TRANSACTION_REPLACED")){A(),E(H);return}}f||this.provider.once("block",R)};S.push(()=>{this.provider.off("block",R)}),this.provider.once("block",R)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return I(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),N1(this)}reorderedEvent(t){return I(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),I(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),M1(this,t)}replaceableTransaction(t){N(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new za(this,this.provider);return e.#t=t,e}}function VN(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function M1(r,t){return{orphan:"reorder-transaction",tx:r,other:t}}function N1(r){return{orphan:"drop-transaction",tx:r}}function FN(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class f0 extends Da{interface;fragment;args;constructor(t,e,n){super(t,t.provider);const l=e.decodeEventLog(n,t.data,t.topics);ot(this,{args:l,fragment:n,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class C1 extends Da{error;constructor(t,e){super(t,t.provider),ot(this,{error:e})}}class IN extends O1{#t;constructor(t,e,n){super(n,e),this.#t=t}get logs(){return super.logs.map(t=>{const e=t.topics.length?this.#t.getEvent(t.topics[0]):null;if(e)try{return new f0(t,this.#t,e)}catch(n){return new C1(t,n)}return t})}}class d0 extends za{#t;constructor(t,e,n){super(n,e),this.#t=t}async wait(t,e){const n=await super.wait(t,e);return n==null?null:new IN(this.#t,this.provider,n)}}class B1 extends sw{log;constructor(t,e,n,l){super(t,e,n),ot(this,{log:l})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class QN extends B1{constructor(t,e,n,l,o){super(t,e,n,new f0(o,t.interface,l));const c=t.interface.decodeEventLog(l,this.log.data,this.log.topics);ot(this,{args:c,fragment:l})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const yv=BigInt(0);function R1(r){return r&&typeof r.call=="function"}function L1(r){return r&&typeof r.estimateGas=="function"}function ic(r){return r&&typeof r.resolveName=="function"}function _1(r){return r&&typeof r.sendTransaction=="function"}function U1(r){if(r!=null){if(ic(r))return r;if(r.provider)return r.provider}}class qN{#t;fragment;constructor(t,e,n){if(ot(this,{fragment:e}),e.inputs.length<n.length)throw new Error("too many arguments");const l=Is(t.runner,"resolveName"),o=ic(l)?l:null;this.#t=async function(){const c=await Promise.all(e.inputs.map((f,d)=>n[d]==null?null:f.walkAsync(n[d],(m,y)=>m==="address"?Array.isArray(y)?Promise.all(y.map(v=>De(v,o))):De(y,o):y)));return t.interface.encodeFilterTopics(e,c)}()}getTopicFilter(){return this.#t}}function Is(r,t){return r==null?null:typeof r[t]=="function"?r:r.provider&&typeof r.provider[t]=="function"?r.provider:null}function Ls(r){return r==null?null:r.provider||null}async function D1(r,t){const e=ie.dereference(r,"overrides");N(typeof e=="object","invalid overrides parameter","overrides",r);const n=zu(e);return N(n.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),N(n.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function jN(r,t,e){const n=Is(r,"resolveName"),l=ic(n)?n:null;return await Promise.all(t.map((o,c)=>o.walkAsync(e[c],(f,d)=>(d=ie.dereference(d,f),f==="address"?De(d,l):d))))}function YN(r){const t=async function(c){const f=await D1(c,["data"]);f.to=await r.getAddress(),f.from&&(f.from=await De(f.from,U1(r.runner)));const d=r.interface,p=it(f.value||yv,"overrides.value")===yv,m=(f.data||"0x")==="0x";d.fallback&&!d.fallback.payable&&d.receive&&!m&&!p&&N(!1,"cannot send data to receive or send value to non-payable fallback","overrides",c),N(d.fallback||m,"cannot send data to receive-only contract","overrides.data",f.data);const y=d.receive||d.fallback&&d.fallback.payable;return N(y||p,"cannot send value to non-payable fallback","overrides.value",f.value),N(d.fallback||m,"cannot send data to receive-only contract","overrides.data",f.data),f},e=async function(c){const f=Is(r.runner,"call");I(R1(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await t(c);try{return await f.call(d)}catch(p){throw Zd(p)&&p.data?r.interface.makeError(p.data,d):p}},n=async function(c){const f=r.runner;I(_1(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await f.sendTransaction(await t(c)),p=Ls(r.runner);return new d0(r.interface,p,d)},l=async function(c){const f=Is(r.runner,"estimateGas");return I(L1(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await t(c))},o=async c=>await n(c);return ot(o,{_contract:r,estimateGas:l,populateTransaction:t,send:n,staticCall:e}),o}function KN(r,t){const e=function(...p){const m=r.interface.getFunction(t,p);return I(m,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:p}}),m},n=async function(...p){const m=e(...p);let y={};if(m.inputs.length+1===p.length&&(y=await D1(p.pop()),y.from&&(y.from=await De(y.from,U1(r.runner)))),m.inputs.length!==p.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const v=await jN(r.runner,m.inputs,p);return Object.assign({},y,await Le({to:r.getAddress(),data:r.interface.encodeFunctionData(m,v)}))},l=async function(...p){const m=await f(...p);return m.length===1?m[0]:m},o=async function(...p){const m=r.runner;I(_1(m),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const y=await m.sendTransaction(await n(...p)),v=Ls(r.runner);return new d0(r.interface,v,y)},c=async function(...p){const m=Is(r.runner,"estimateGas");return I(L1(m),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await m.estimateGas(await n(...p))},f=async function(...p){const m=Is(r.runner,"call");I(R1(m),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const y=await n(...p);let v="0x";try{v=await m.call(y)}catch(S){throw Zd(S)&&S.data?r.interface.makeError(S.data,y):S}const E=e(...p);return r.interface.decodeFunctionResult(E,v)},d=async(...p)=>e(...p).constant?await l(...p):await o(...p);return ot(d,{name:r.interface.getFunctionName(t),_contract:r,_key:t,getFragment:e,estimateGas:c,populateTransaction:n,send:o,staticCall:l,staticCallResult:f}),Object.defineProperty(d,"fragment",{configurable:!1,enumerable:!0,get:()=>{const p=r.interface.getFunction(t);return I(p,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),p}}),d}function JN(r,t){const e=function(...l){const o=r.interface.getEvent(t,l);return I(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:l}}),o},n=function(...l){return new qN(r,e(...l),l)};return ot(n,{name:r.interface.getEventName(t),_contract:r,_key:t,getFragment:e}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=r.interface.getEvent(t);return I(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),l}}),n}const ku=Symbol.for("_ethersInternal_contract"),z1=new WeakMap;function XN(r,t){z1.set(r[ku],t)}function si(r){return z1.get(r[ku])}function ZN(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function g0(r,t){let e,n=null;if(Array.isArray(t)){const o=function(c){if(Qt(c,32))return c;const f=r.interface.getEvent(c);return N(f,"unknown fragment","name",c),f.topicHash};e=t.map(c=>c==null?null:Array.isArray(c)?c.map(o):o(c))}else t==="*"?e=[null]:typeof t=="string"?Qt(t,32)?e=[t]:(n=r.interface.getEvent(t),N(n,"unknown fragment","event",t),e=[n.topicHash]):ZN(t)?e=await t.getTopicFilter():"fragment"in t?(n=t.fragment,e=[n.topicHash]):N(!1,"unknown event name","event",t);e=e.map(o=>{if(o==null)return null;if(Array.isArray(o)){const c=Array.from(new Set(o.map(f=>f.toLowerCase())).values());return c.length===1?c[0]:(c.sort(),c)}return o.toLowerCase()});const l=e.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:l,topics:e}}async function ca(r,t){const{subs:e}=si(r);return e.get((await g0(r,t)).tag)||null}async function bv(r,t,e){const n=Ls(r.runner);I(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:l,tag:o,topics:c}=await g0(r,e),{addr:f,subs:d}=si(r);let p=d.get(o);if(!p){const y={address:f||r,topics:c},v=M=>{let R=l;if(R==null)try{R=r.interface.getEvent(M.topics[0])}catch{}if(R){const H=R,k=l?r.interface.decodeEventLog(l,M.data,M.topics):[];Rd(r,e,k,Y=>new QN(r,Y,e,H,M))}else Rd(r,e,[],H=>new B1(r,H,e,M))};let E=[];p={tag:o,listeners:[],start:()=>{E.length||E.push(n.on(y,v))},stop:async()=>{if(E.length==0)return;let M=E;E=[],await Promise.all(M),n.off(y,v)}},d.set(o,p)}return p}let Bd=Promise.resolve();async function WN(r,t,e,n){await Bd;const l=await ca(r,t);if(!l)return!1;const o=l.listeners.length;return l.listeners=l.listeners.filter(({listener:c,once:f})=>{const d=Array.from(e);n&&d.push(n(f?null:c));try{c.call(r,...d)}catch{}return!f}),l.listeners.length===0&&(l.stop(),si(r).subs.delete(l.tag)),o>0}async function Rd(r,t,e,n){try{await Bd}catch{}const l=WN(r,t,e,n);return Bd=l,await l}const vu=["then"];class ma{target;interface;runner;filters;[ku];fallback;constructor(t,e,n,l){N(typeof t=="string"||Fw(t),"invalid value for Contract target","target",t),n==null&&(n=null);const o=Ns.from(e);ot(this,{target:t,runner:n,interface:o}),Object.defineProperty(this,ku,{value:{}});let c,f=null,d=null;if(l){const y=Ls(n);d=new d0(this.interface,y,l)}let p=new Map;if(typeof t=="string")if(Qt(t))f=t,c=Promise.resolve(t);else{const y=Is(n,"resolveName");if(!ic(y))throw Kt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});c=y.resolveName(t).then(v=>{if(v==null)throw Kt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return si(this).addr=v,v})}else c=t.getAddress().then(y=>{if(y==null)throw new Error("TODO");return si(this).addr=y,y});XN(this,{addrPromise:c,addr:f,deployTx:d,subs:p});const m=new Proxy({},{get:(y,v,E)=>{if(typeof v=="symbol"||vu.indexOf(v)>=0)return Reflect.get(y,v,E);try{return this.getEvent(v)}catch(S){if(!Oe(S,"INVALID_ARGUMENT")||S.argument!=="key")throw S}},has:(y,v)=>vu.indexOf(v)>=0?Reflect.has(y,v):Reflect.has(y,v)||this.interface.hasEvent(String(v))});return ot(this,{filters:m}),ot(this,{fallback:o.receive||o.fallback?YN(this):null}),new Proxy(this,{get:(y,v,E)=>{if(typeof v=="symbol"||v in y||vu.indexOf(v)>=0)return Reflect.get(y,v,E);try{return y.getFunction(v)}catch(S){if(!Oe(S,"INVALID_ARGUMENT")||S.argument!=="key")throw S}},has:(y,v)=>typeof v=="symbol"||v in y||vu.indexOf(v)>=0?Reflect.has(y,v):y.interface.hasFunction(v)})}connect(t){return new ma(this.target,this.interface,t)}attach(t){return new ma(t,this.interface,this.runner)}async getAddress(){return await si(this).addrPromise}async getDeployedCode(){const t=Ls(this.runner);I(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Ls(this.runner);return I(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((l,o)=>{const c=async()=>{try{if(await this.getDeployedCode()!=null)return l(this);n.once("block",c)}catch(f){o(f)}};c()})}deploymentTransaction(){return si(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),KN(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),JN(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){e==null&&(e=0),n==null&&(n="latest");const{addr:l,addrPromise:o}=si(this),c=l||await o,{fragment:f,topics:d}=await g0(this,t),p={address:c,topics:d,fromBlock:e,toBlock:n},m=Ls(this.runner);return I(m,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await m.getLogs(p)).map(y=>{let v=f;if(v==null)try{v=this.interface.getEvent(y.topics[0])}catch{}if(v)try{return new f0(y,this.interface,v)}catch(E){return new C1(y,E)}return new Da(y,m)})}async on(t,e){const n=await bv(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await bv(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t,...e){return await Rd(this,t,e,null)}async listenerCount(t){if(t){const l=await ca(this,t);return l?l.listeners.length:0}const{subs:e}=si(this);let n=0;for(const{listeners:l}of e.values())n+=l.length;return n}async listeners(t){if(t){const l=await ca(this,t);return l?l.listeners.map(({listener:o})=>o):[]}const{subs:e}=si(this);let n=[];for(const{listeners:l}of e.values())n=n.concat(l.map(({listener:o})=>o));return n}async off(t,e){const n=await ca(this,t);if(!n)return this;if(e){const l=n.listeners.map(({listener:o})=>o).indexOf(e);l>=0&&n.listeners.splice(l,1)}return(e==null||n.listeners.length===0)&&(n.stop(),si(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await ca(this,t);if(!e)return this;e.stop(),si(this).subs.delete(e.tag)}else{const{subs:e}=si(this);for(const{tag:n,stop:l}of e.values())l(),e.delete(n)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends ma{constructor(l,o=null){super(l,t,o)}}return e}static from(t,e,n){return n==null&&(n=null),new this(t,e,n)}}function $N(){return ma}class ya extends $N(){}function id(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):N(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class tC{name;constructor(t){ot(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const k1=new RegExp("^(ipfs)://(.*)$","i"),vv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),k1,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class jr{provider;address;name;#t;#e;constructor(t,e,n){ot(this,{provider:t,address:e,name:n}),this.#t=null,this.#e=new ya(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return this.#t==null&&(this.#t=(async()=>{try{return await this.#e.supportsInterface("0x9061b923")}catch(t){if(Oe(t,"CALL_EXCEPTION"))return!1;throw this.#t=null,t}})()),await this.#t}async#i(t,e){e=(e||[]).slice();const n=this.#e.interface;e.unshift(Cd(this.name));let l=null;await this.supportsWildcard()&&(l=n.getFunction(t),I(l,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[pN(this.name,255),n.encodeFunctionData(l,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const o=await this.#e[t](...e);return l?n.decodeFunctionResult(l,o)[0]:o}catch(o){if(!Oe(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(t){if(t==null&&(t=60),t===60)try{const o=await this.#i("addr(bytes32)");return o==null||o===Sa?null:o}catch(o){if(Oe(o,"CALL_EXCEPTION"))return null;throw o}if(t>=0&&t<2147483648){let o=t+2147483648;const c=await this.#i("addr(bytes32,uint)",[o]);if(Qt(c,20))return Lt(c)}let e=null;for(const o of this.provider.plugins)if(o instanceof tC&&o.supportsCoinType(t)){e=o;break}if(e==null)return null;const n=await this.#i("addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const l=await e.decodeAddress(t,n);if(l!=null)return l;I(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const e=await this.#i("text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await this.#i("contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const l=e[1]==="e3010170"?"ipfs":"ipns",o=parseInt(e[4],16);if(e[5].length===o*2)return`${l}://${sT("0x"+e[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;I(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let n=0;n<vv.length;n++){const l=e.match(vv[n]);if(l==null)continue;const o=l[1].toLowerCase();switch(o){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const c=id(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:c}),{linkage:t,url:c}}case"erc721":case"erc1155":{const c=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:o,value:e});const f=await this.getAddress();if(f==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const d=(l[2]||"").split("/");if(d.length!==2)return t.push({type:`!${o}caip`,value:l[2]||""}),{url:null,linkage:t};const p=d[1],m=new ya(d[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const A=await m.ownerOf(p);if(f!==A)return t.push({type:"!owner",value:A}),{url:null,linkage:t};t.push({type:"owner",value:A})}else if(o==="erc1155"){const A=await m.balanceOf(f,p);if(!A)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:A.toString()})}let y=await m[c](p);if(y==null||y==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:y}),o==="erc1155"&&(y=y.replace("{id}",ts(p,32).substring(2)),t.push({type:"metadata-url-expanded",value:y})),y.match(/^ipfs:/i)&&(y=id(y)),t.push({type:"metadata-url",value:y});let v={};const E=await new Ii(y).send();E.assertOk();try{v=E.bodyJson}catch{try{t.push({type:"!metadata",value:E.bodyText})}catch{const R=E.body;return R&&t.push({type:"!metadata",value:tt(R)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!v)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(v)});let S=v.image;if(typeof S!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!S.match(/^(https:\/\/|data:)/i)){if(S.match(k1)==null)return t.push({type:"!imageUrl-ipfs",value:S}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:S}),S=id(S)}return t.push({type:"url",value:S}),{linkage:t,url:S}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),n=e.getPlugin("org.ethers.plugins.network.Ens");return I(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),n.address}static async#n(t,e){const n=await jr.getEnsAddress(t);try{const o=await new ya(n,["function resolver(bytes32) view returns (address)"],t).resolver(Cd(e),{enableCcipRead:!0});return o===Sa?null:o}catch(l){throw l}return null}static async fromName(t,e){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const l=await jr.#n(t,n);if(l!=null){const o=new jr(t,l,e);return n!==e&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}}const wv=BigInt(0);function Tt(r,t){return function(e){return e==null?t:r(e)}}function Ca(r,t){return e=>{if(t&&e==null)return null;if(!Array.isArray(e))throw new Error("not an array");return e.map(n=>r(n))}}function ka(r,t){return e=>{const n={};for(const l in r){let o=l;if(t&&l in t&&!(o in e)){for(const c of t[l])if(c in e){o=c;break}}try{const c=r[l](e[o]);c!==void 0&&(n[l]=c)}catch(c){const f=c instanceof Error?c.message:"not-an-error";I(!1,`invalid value for value.${l} (${f})`,"BAD_DATA",{value:e})}}return n}}function eC(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}N(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function nl(r){return N(Qt(r,!0),"invalid data","value",r),r}function Te(r){return N(Qt(r,32),"invalid hash","value",r),r}const iC=ka({address:Lt,blockHash:Te,blockNumber:wt,data:nl,index:wt,removed:Tt(eC,!1),topics:Ca(Te),transactionHash:Te,transactionIndex:wt},{index:["logIndex"]});function nC(r){return iC(r)}const sC=ka({hash:Tt(Te),parentHash:Te,parentBeaconBlockRoot:Tt(Te,null),number:wt,timestamp:wt,nonce:Tt(nl),difficulty:it,gasLimit:it,gasUsed:it,stateRoot:Tt(Te,null),receiptsRoot:Tt(Te,null),blobGasUsed:Tt(it,null),excessBlobGas:Tt(it,null),miner:Tt(Lt),prevRandao:Tt(Te,null),extraData:nl,baseFeePerGas:Tt(it)},{prevRandao:["mixHash"]});function rC(r){const t=sC(r);return t.transactions=r.transactions.map(e=>typeof e=="string"?e:P1(e)),t}const lC=ka({transactionIndex:wt,blockNumber:wt,transactionHash:Te,address:Lt,topics:Ca(Te),data:nl,index:wt,blockHash:Te},{index:["logIndex"]});function aC(r){return lC(r)}const oC=ka({to:Tt(Lt,null),from:Tt(Lt,null),contractAddress:Tt(Lt,null),index:wt,root:Tt(tt),gasUsed:it,blobGasUsed:Tt(it,null),logsBloom:Tt(nl),blockHash:Te,hash:Te,logs:Ca(aC),blockNumber:wt,cumulativeGasUsed:it,effectiveGasPrice:Tt(it),blobGasPrice:Tt(it,null),status:Tt(wt),type:Tt(wt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function uC(r){return oC(r)}function P1(r){r.to&&it(r.to)===wv&&(r.to="0x0000000000000000000000000000000000000000");const t=ka({hash:Te,index:Tt(wt,void 0),type:e=>e==="0x"||e==null?0:wt(e),accessList:Tt(Qs,null),blobVersionedHashes:Tt(Ca(Te,!0),null),authorizationList:Tt(Ca(e=>{let n;if(e.signature)n=e.signature;else{let l=e.yParity;l==="0x1b"?l=0:l==="0x1c"&&(l=1),n=Object.assign({},e,{yParity:l})}return{address:Lt(e.address),chainId:it(e.chainId),nonce:it(e.nonce),signature:ee.from(n)}},!1),null),blockHash:Tt(Te,null),blockNumber:Tt(wt,null),transactionIndex:Tt(wt,null),from:Lt,gasPrice:Tt(it),maxPriorityFeePerGas:Tt(it),maxFeePerGas:Tt(it),maxFeePerBlobGas:Tt(it,null),gasLimit:it,to:Tt(Lt,null),value:it,nonce:wt,data:nl,creates:Tt(Lt,null),chainId:Tt(it,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(t.to==null&&t.creates==null&&(t.creates=ZO(t)),(r.type===1||r.type===2)&&r.accessList==null&&(t.accessList=[]),r.signature?t.signature=ee.from(r.signature):t.signature=ee.from(r),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&it(t.blockHash)===wv&&(t.blockHash=null),t}const cC="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Pa{name;constructor(t){ot(this,{name:t})}clone(){return new Pa(this.name)}}class nc extends Pa{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const n={effectiveBlock:t};function l(o,c){let f=(e||{})[o];f==null&&(f=c),N(typeof f=="number",`invalud value for ${o}`,"costs",e),n[o]=f}l("txBase",21e3),l("txCreate",32e3),l("txDataZero",4),l("txDataNonzero",16),l("txAccessListStorageKey",1900),l("txAccessListAddress",2400),ot(this,n)}clone(){return new nc(this.effectiveBlock,this)}}class sc extends Pa{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),ot(this,{address:t||cC,targetNetwork:e??1})}clone(){return new sc(this.address,this.targetNetwork)}}class hC extends Pa{#t;#e;get url(){return this.#t}get processFunc(){return this.#e}constructor(t,e){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#t=t,this.#e=e}clone(){return this}}const nd=new Map;class ri{#t;#e;#i;constructor(t,e){this.#t=t,this.#e=it(e),this.#i=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(t){this.#t=t}get chainId(){return this.#e}set chainId(t){this.#e=it(t,"chainId")}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===it(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===it(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===it(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(this.#i.values())}attachPlugin(t){if(this.#i.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#i.set(t.name,t.clone()),this}getPlugin(t){return this.#i.get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new ri(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new nc;let n=e.txBase;if(t.to==null&&(n+=e.txCreate),t.data)for(let l=2;l<t.data.length;l+=2)t.data.substring(l,l+2)==="00"?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){const l=Qs(t.accessList);for(const o in l)n+=e.txAccessListAddress+e.txAccessListStorageKey*l[o].storageKeys.length}return n}static from(t){if(fC(),t==null)return ri.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=nd.get(t);if(e)return e();if(typeof t=="bigint")return new ri("unknown",t);N(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){N(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new ri(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new sc(t.ensAddress,t.ensNetwork)),e}N(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const n=nd.get(t);n&&N(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),nd.set(t,e)}}function Av(r,t){const e=String(r);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=e.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let l=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||l++,n[1]=l.toString()}return BigInt(n[0]+n[1])}function Ev(r){return new hC(r,async(t,e,n)=>{n.setHeader("User-Agent","ethers");let l;try{const[o,c]=await Promise.all([n.send(),t()]);l=o;const f=l.bodyJson.standard;return{gasPrice:c.gasPrice,maxFeePerGas:Av(f.maxFee,9),maxPriorityFeePerGas:Av(f.maxPriorityFee,9)}}catch(o){I(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:l,error:o})}})}let Sv=!1;function fC(){if(Sv)return;Sv=!0;function r(t,e,n){const l=function(){const o=new ri(t,e);return n.ensNetwork!=null&&o.attachPlugin(new sc(null,n.ensNetwork)),o.attachPlugin(new nc),(n.plugins||[]).forEach(c=>{o.attachPlugin(c)}),o};ri.register(t,l),ri.register(e,l),n.altNames&&n.altNames.forEach(o=>{ri.register(o,l)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[Ev("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Ev("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function Ld(r){return JSON.parse(JSON.stringify(r))}class dC{#t;#e;#i;#n;constructor(t){this.#t=t,this.#e=null,this.#i=4e3,this.#n=-2}get pollingInterval(){return this.#i}set pollingInterval(t){this.#i=t}async#s(){try{const t=await this.#t.getBlockNumber();if(this.#n===-2){this.#n=t;return}if(t!==this.#n){for(let e=this.#n+1;e<=t;e++){if(this.#e==null)return;await this.#t.emit("block",e)}this.#n=t}}catch{}this.#e!=null&&(this.#e=this.#t._setTimeout(this.#s.bind(this),this.#i))}start(){this.#e||(this.#e=this.#t._setTimeout(this.#s.bind(this),this.#i),this.#s())}stop(){this.#e&&(this.#t._clearTimeout(this.#e),this.#e=null)}pause(t){this.stop(),t&&(this.#n=-2)}resume(){this.start()}}class p0{#t;#e;#i;constructor(t){this.#t=t,this.#i=!1,this.#e=e=>{this._poll(e,this.#t)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#i||(this.#i=!0,this.#e(-2),this.#t.on("block",this.#e))}stop(){this.#i&&(this.#i=!1,this.#t.off("block",this.#e))}pause(t){this.stop()}resume(){this.start()}}class gC extends p0{#t;#e;constructor(t,e){super(t),this.#t=e,this.#e=-2}pause(t){t&&(this.#e=-2),super.pause(t)}async _poll(t,e){const n=await e.getBlock(this.#t);n!=null&&(this.#e===-2?this.#e=n.number:n.number>this.#e&&(e.emit(this.#t,n.number),this.#e=n.number))}}class pC extends p0{#t;constructor(t,e){super(t),this.#t=Ld(e)}async _poll(t,e){throw new Error("@TODO")}}class mC extends p0{#t;constructor(t,e){super(t),this.#t=e}async _poll(t,e){const n=await e.getTransactionReceipt(this.#t);n&&e.emit(this.#t,n)}}class m0{#t;#e;#i;#n;#s;constructor(t,e){this.#t=t,this.#e=Ld(e),this.#i=this.#l.bind(this),this.#n=!1,this.#s=-2}async#l(t){if(this.#s===-2)return;const e=Ld(this.#e);e.fromBlock=this.#s+1,e.toBlock=t;const n=await this.#t.getLogs(e);if(n.length===0){this.#s<t-60&&(this.#s=t-60);return}for(const l of n)this.#t.emit(this.#e,l),this.#s=l.blockNumber}start(){this.#n||(this.#n=!0,this.#s===-2&&this.#t.getBlockNumber().then(t=>{this.#s=t}),this.#t.on("block",this.#i))}stop(){this.#n&&(this.#n=!1,this.#t.off("block",this.#i))}pause(t){this.stop(),t&&(this.#s=-2)}resume(){this.start()}}const yC=BigInt(2),bC=10;function wu(r){return r&&typeof r.then=="function"}function Su(r,t){return r+":"+JSON.stringify(t,(e,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const l=Object.keys(n);return l.sort(),l.reduce((o,c)=>(o[c]=n[c],o),{})}return n})}class H1{name;constructor(t){ot(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function vC(r){return JSON.parse(JSON.stringify(r))}function _d(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function sd(r,t){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(Qt(r,32)){const e=r.toLowerCase();return{type:"transaction",tag:Su("tx",{hash:e}),hash:e}}if(r.orphan){const e=r;return{type:"orphan",tag:Su("orphan",e),filter:vC(e)}}if(r.address||r.topics){const e=r,n={topics:(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?_d(l.map(o=>o.toLowerCase())):l.toLowerCase())};if(e.address){const l=[],o=[],c=f=>{Qt(f)?l.push(f):o.push((async()=>{l.push(await De(f,t))})())};Array.isArray(e.address)?e.address.forEach(c):c(e.address),o.length&&await Promise.all(o),n.address=_d(l.map(f=>f.toLowerCase()))}return{filter:n,tag:Su("event",n),type:"event"}}N(!1,"unknown ProviderEvent","event",r)}function rd(){return new Date().getTime()}const wC={cacheTimeout:250,pollingInterval:4e3};class AC{#t;#e;#i;#n;#s;#l;#r;#a;#h;#u;#g;#p;constructor(t,e){if(this.#p=Object.assign({},wC,e||{}),t==="any")this.#l=!0,this.#s=null;else if(t){const n=ri.from(t);this.#l=!1,this.#s=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#l=!1,this.#s=null;this.#a=-1,this.#r=new Map,this.#t=new Map,this.#e=new Map,this.#i=null,this.#n=!1,this.#h=1,this.#u=new Map,this.#g=!1}get pollingInterval(){return this.#p.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#e.values())}attachPlugin(t){if(this.#e.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#e.set(t.name,t.connect(this)),this}getPlugin(t){return this.#e.get(t)||null}get disableCcipRead(){return this.#g}set disableCcipRead(t){this.#g=!!t}async#o(t){const e=this.#p.cacheTimeout;if(e<0)return await this._perform(t);const n=Su(t.method,t);let l=this.#r.get(n);return l||(l=this._perform(t),this.#r.set(n,l),setTimeout(()=>{this.#r.get(n)===l&&this.#r.delete(n)},e)),await l}async ccipReadFetch(t,e,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const l=t.to.toLowerCase(),o=e.toLowerCase(),c=[];for(let f=0;f<n.length;f++){const d=n[f],p=d.replace("{sender}",l).replace("{data}",o),m=new Ii(p);d.indexOf("{data}")===-1&&(m.body={data:o,sender:l}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:m,index:f,urls:n});let y="unknown error",v;try{v=await m.send()}catch(E){c.push(E.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:m,result:{error:E}});continue}try{const E=v.bodyJson;if(E.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:m,result:E}),E.data;E.message&&(y=E.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:m,result:E})}catch{}I(v.statusCode<400||v.statusCode>=500,`response not found during CCIP fetch: ${y}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:d,errorMessage:y}}),c.push(y)}I(!1,`error encountered during CCIP fetch: ${c.map(f=>JSON.stringify(f)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:c}})}_wrapBlock(t,e){return new GN(rC(t),this)}_wrapLog(t,e){return new Da(nC(t),this)}_wrapTransactionReceipt(t,e){return new O1(uC(t),this)}_wrapTransactionResponse(t,e){return new za(P1(t),this)}_detectNetwork(){I(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){I(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=wt(await this.#o({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=t),t}_getAddress(t){return De(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(Qt(t))return Qt(t,32)?t:Oi(t);if(typeof t=="bigint"&&(t=wt(t,"blockTag")),typeof t=="number")return t>=0?Oi(t):this.#a>=0?Oi(this.#a+t):this.getBlockNumber().then(e=>Oi(e+t));N(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(d=>d==null?null:Array.isArray(d)?_d(d.map(p=>p.toLowerCase())):d.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,l=(d,p,m)=>{let y;switch(d.length){case 0:break;case 1:y=d[0];break;default:d.sort(),y=d}if(n&&(p!=null||m!=null))throw new Error("invalid filter");const v={};return y&&(v.address=y),e.length&&(v.topics=e),p&&(v.fromBlock=p),m&&(v.toBlock=m),n&&(v.blockHash=n),v};let o=[];if(t.address)if(Array.isArray(t.address))for(const d of t.address)o.push(this._getAddress(d));else o.push(this._getAddress(t.address));let c;"fromBlock"in t&&(c=this._getBlockTag(t.fromBlock));let f;return"toBlock"in t&&(f=this._getBlockTag(t.toBlock)),o.filter(d=>typeof d!="string").length||c!=null&&typeof c!="string"||f!=null&&typeof f!="string"?Promise.all([Promise.all(o),c,f]).then(d=>l(d[0],d[1],d[2])):l(o,c,f)}_getTransactionRequest(t){const e=zu(t),n=[];if(["to","from"].forEach(l=>{if(e[l]==null)return;const o=De(e[l],this);wu(o)?n.push(async function(){e[l]=await o}()):e[l]=o}),e.blockTag!=null){const l=this._getBlockTag(e.blockTag);wu(l)?n.push(async function(){e.blockTag=await l}()):e.blockTag=l}return n.length?async function(){return await Promise.all(n),e}():e}async getNetwork(){if(this.#s==null){const l=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#s===l&&(this.#s=null),o}})();return this.#s=l,(await l).clone()}const t=this.#s,[e,n]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==n.chainId&&(this.#l?(this.emit("network",n,e),this.#s===t&&(this.#s=Promise.resolve(n))):I(!1,`network changed: ${e.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:l,gasPrice:o,priorityFee:c}=await Le({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const m=await this.#o({method:"getGasPrice"});return it(m,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const m=await this.#o({method:"getPriorityFee"});return it(m,"%response")}catch{}return null})()});let f=null,d=null;const p=this._wrapBlock(l,t);return p&&p.baseFeePerGas&&(d=c??BigInt("1000000000"),f=p.baseFeePerGas*yC+d),new mv(o,f,d)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const l=new Ii(n.url),o=await n.processFunc(e,this,l);return new mv(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return wu(e)&&(e=await e),it(await this.#o({method:"estimateGas",transaction:e}),"%response")}async#c(t,e,n){I(n<bC,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const l=zu(t);try{return tt(await this._perform({method:"call",transaction:l,blockTag:e}))}catch(o){if(!this.disableCcipRead&&Zd(o)&&o.data&&n>=0&&e==="latest"&&l.to!=null&&te(o.data,0,4)==="0x556f1830"){const c=o.data,f=await De(l.to,this);let d;try{d=OC(te(o.data,4))}catch(y){I(!1,y.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:l,info:{data:c}})}I(d.sender.toLowerCase()===f.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:c,reason:"OffchainLookup",transaction:l,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:d.errorArgs}});const p=await this.ccipReadFetch(l,d.calldata,d.urls);I(p!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:l,info:{data:o.data,errorArgs:d.errorArgs}});const m={to:f,data:ne([d.selector,TC([p,d.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:m});try{const y=await this.#c(m,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},m),result:y}),y}catch(y){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},m),error:y}),y}}throw o}}async#f(t){const{value:e}=await Le({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:n}=await Le({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#f(this.#c(e,n,t.enableCcipRead?0:-1))}async#d(t,e,n){let l=this._getAddress(e),o=this._getBlockTag(n);return(typeof l!="string"||typeof o!="string")&&([l,o]=await Promise.all([l,o])),await this.#f(this.#o(Object.assign(t,{address:l,blockTag:o})))}async getBalance(t,e){return it(await this.#d({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return wt(await this.#d({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return tt(await this.#d({method:"getCode"},t,e))}async getStorage(t,e,n){const l=it(e,"position");return tt(await this.#d({method:"getStorage",position:l},t,n))}async broadcastTransaction(t){const{blockNumber:e,hash:n,network:l}=await Le({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),o=Ti.from(t);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,l).replaceableTransaction(e)}async#y(t,e){if(Qt(t,32))return await this.#o({method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await this.#o({method:"getBlock",blockTag:n,includeTransactions:e})}async getBlock(t,e){const{network:n,params:l}=await Le({network:this.getNetwork(),params:this.#y(t,!!e)});return l==null?null:this._wrapBlock(l,n)}async getTransaction(t){const{network:e,params:n}=await Le({network:this.getNetwork(),params:this.#o({method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,e)}async getTransactionReceipt(t){const{network:e,params:n}=await Le({network:this.getNetwork(),params:this.#o({method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const l=await this.#o({method:"getTransaction",hash:t});if(l==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=l.gasPrice}return this._wrapTransactionReceipt(n,e)}async getTransactionResult(t){const{result:e}=await Le({network:this.getNetwork(),result:this.#o({method:"getTransactionResult",hash:t})});return e==null?null:tt(e)}async getLogs(t){let e=this._getFilter(t);wu(e)&&(e=await e);const{network:n,params:l}=await Le({network:this.getNetwork(),params:this.#o({method:"getLogs",filter:e})});return l.map(o=>this._wrapLog(o,n))}_getProvider(t){I(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await jr.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=Lt(t);const e=Cd(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await jr.getEnsAddress(this),o=await new ya(n,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(o==null||o===Sa)return null;const f=await new ya(o,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(f)!==t?null:f}catch(n){if(Oe(n,"BAD_DATA")&&n.value==="0x"||Oe(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,e,n){const l=e??1;return l===0?this.getTransactionReceipt(t):new Promise(async(o,c)=>{let f=null;const d=async p=>{try{const m=await this.getTransactionReceipt(t);if(m!=null&&p-m.blockNumber+1>=l){o(m),f&&(clearTimeout(f),f=null);return}}catch(m){console.log("EEE",m)}this.once("block",d)};n!=null&&(f=setTimeout(()=>{f!=null&&(f=null,this.off("block",d),c(Kt("timeout","TIMEOUT",{reason:"timeout"})))},n)),d(await this.getBlockNumber())})}async waitForBlock(t){I(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#u.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#u.delete(t))}_setTimeout(t,e){e==null&&(e=0);const n=this.#h++,l=()=>{this.#u.delete(n),t()};if(this.paused)this.#u.set(n,{timer:null,func:l,time:e});else{const o=setTimeout(l,e);this.#u.set(n,{timer:o,func:l,time:rd()})}return n}_forEachSubscriber(t){for(const e of this.#t.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new H1(t.type);case"block":{const e=new dC(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new gC(this,t.type);case"event":return new m0(this,t.filter);case"transaction":return new mC(this,t.hash);case"orphan":return new pC(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const n of this.#t.values())if(n.subscriber===t){n.started&&n.subscriber.stop(),n.subscriber=e,n.started&&e.start(),this.#i!=null&&e.pause(this.#i);break}}async#m(t,e){let n=await sd(t,this);return n.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(n=await sd({orphan:"drop-log",log:e[0]},this)),this.#t.get(n.tag)||null}async#b(t){const e=await sd(t,this),n=e.tag;let l=this.#t.get(n);return l||(l={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#t.set(n,l)),l}async on(t,e){const n=await this.#b(t);return n.listeners.push({listener:e,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#i!=null&&n.subscriber.pause(this.#i)),this}async once(t,e){const n=await this.#b(t);return n.listeners.push({listener:e,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#i!=null&&n.subscriber.pause(this.#i)),this}async emit(t,...e){const n=await this.#m(t,e);if(!n||n.listeners.length===0)return!1;const l=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:c})=>{const f=new sw(this,c?null:o,t);try{o.call(this,...e,f)}catch{}return!c}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#t.delete(n.tag)),l>0}async listenerCount(t){if(t){const n=await this.#m(t);return n?n.listeners.length:0}let e=0;for(const{listeners:n}of this.#t.values())e+=n.length;return e}async listeners(t){if(t){const n=await this.#m(t);return n?n.listeners.map(({listener:l})=>l):[]}let e=[];for(const{listeners:n}of this.#t.values())e=e.concat(n.map(({listener:l})=>l));return e}async off(t,e){const n=await this.#m(t);if(!n)return this;if(e){const l=n.listeners.map(({listener:o})=>o).indexOf(e);l>=0&&n.listeners.splice(l,1)}return(!e||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#t.delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:n,subscriber:l}=await this.#b(t);n&&l.stop(),this.#t.delete(e)}else for(const[e,{started:n,subscriber:l}]of this.#t)n&&l.stop(),this.#t.delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const t of this.#u.keys())this._clearTimeout(t);this.#n=!0}get paused(){return this.#i!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#a=-1,this.#i!=null){if(this.#i==!!t)return;I(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),this.#i=!!t;for(const e of this.#u.values())e.timer&&clearTimeout(e.timer),e.time=rd()-e.time}resume(){if(this.#i!=null){this._forEachSubscriber(t=>t.resume()),this.#i=null;for(const t of this.#u.values()){let e=t.time;e<0&&(e=0),t.time=rd(),setTimeout(t.func,e)}}}}function EC(r,t){try{const e=Ud(r,t);if(e)return Cu(e)}catch{}return null}function Ud(r,t){if(r==="0x")return null;try{const e=wt(te(r,t,t+32)),n=wt(te(r,e,e+32));return te(r,e+32,e+32+n)}catch{}return null}function xv(r){const t=ge(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function SC(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}const xC=new Uint8Array([]);function TC(r){const t=[];let e=0;for(let n=0;n<r.length;n++)t.push(xC),e+=32;for(let n=0;n<r.length;n++){const l=vt(r[n]);t[n]=xv(e),t.push(xv(l.length)),t.push(SC(l)),e+=32+Math.ceil(l.length/32)*32}return ne(t)}const Tv="0x0000000000000000000000000000000000000000000000000000000000000000";function OC(r){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};I(Fr(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=te(r,0,32);I(te(e,0,12)===te(Tv,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=te(e,12);try{const n=[],l=wt(te(r,32,64)),o=wt(te(r,l,l+32)),c=te(r,l+32);for(let f=0;f<o;f++){const d=EC(c,f*32);if(d==null)throw new Error("abort");n.push(d)}t.urls=n}catch{I(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Ud(r,64);if(n==null)throw new Error("abort");t.calldata=n}catch{I(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}I(te(r,100,128)===te(Tv,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=te(r,96,100);try{const n=Ud(r,128);if(n==null)throw new Error("abort");t.extraData=n}catch{I(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>t[n]),t}function xs(r,t){if(r.provider)return r.provider;I(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Ov(r,t){let e=zu(t);if(e.to!=null&&(e.to=De(e.to,r)),e.from!=null){const n=e.from;e.from=Promise.all([r.getAddress(),De(n,r)]).then(([l,o])=>(N(l.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),l))}else e.from=r.getAddress();return await Le(e)}class MC{provider;constructor(t){ot(this,{provider:t||null})}async getNonce(t){return xs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await Ov(this,t)}async populateTransaction(t){const e=xs(this,"populateTransaction"),n=await Ov(this,t);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const l=await this.provider.getNetwork();if(n.chainId!=null){const c=it(n.chainId);N(c===l.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=l.chainId;const o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?N(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&&o&&N(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const c=await e.getFeeData();I(c.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=c.gasPrice)}else{const c=await e.getFeeData();if(n.type==null)if(c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const f=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=f,n.maxPriorityFeePerGas=f}else n.maxFeePerGas==null&&(n.maxFeePerGas=c.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=c.maxPriorityFeePerGas);else c.gasPrice!=null?(I(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=c.gasPrice),n.type=0):I(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=c.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=c.maxPriorityFeePerGas))}return await Le(n)}async populateAuthorization(t){const e=Object.assign({},t);return e.chainId==null&&(e.chainId=(await xs(this,"getNetwork").getNetwork()).chainId),e.nonce==null&&(e.nonce=await this.getNonce()),e}async estimateGas(t){return xs(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return xs(this,"call").call(await this.populateCall(t))}async resolveName(t){return await xs(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=xs(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const l=Ti.from(n);return await e.broadcastTransaction(await this.signTransaction(l))}authorize(t){I(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function NC(r){return JSON.parse(JSON.stringify(r))}class G1{#t;#e;#i;#n;#s;#l;constructor(t){this.#t=t,this.#e=null,this.#i=this.#r.bind(this),this.#n=!1,this.#s=null,this.#l=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#r(t){try{this.#e==null&&(this.#e=this._subscribe(this.#t));let e=null;try{e=await this.#e}catch(o){if(!Oe(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(e==null){this.#e=null,this.#t._recoverSubscriber(this,this._recover(this.#t));return}const n=await this.#t.getNetwork();if(this.#s||(this.#s=n),this.#s.chainId!==n.chainId)throw new Error("chaid changed");if(this.#l)return;const l=await this.#t.send("eth_getFilterChanges",[e]);await this._emitResults(this.#t,l)}catch(e){console.log("@TODO",e)}this.#t.once("block",this.#i)}#a(){const t=this.#e;t&&(this.#e=null,t.then(e=>{this.#t.destroyed||this.#t.send("eth_uninstallFilter",[e])}))}start(){this.#n||(this.#n=!0,this.#r(-2))}stop(){this.#n&&(this.#n=!1,this.#l=!0,this.#a(),this.#t.off("block",this.#i))}pause(t){t&&this.#a(),this.#t.off("block",this.#i)}resume(){this.start()}}class CC extends G1{#t;constructor(t,e){super(t),this.#t=NC(e)}_recover(t){return new m0(t,this.#t)}async _subscribe(t){return await t.send("eth_newFilter",[this.#t])}async _emitResults(t,e){for(const n of e)t.emit(this.#t,t._wrapLog(n,t._network))}}class BC extends G1{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const n of e)t.emit("pending",n)}}const RC="bigint,boolean,function,number,string,symbol".split(/,/g);function xu(r){if(r==null||RC.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(xu);if(typeof r=="object")return Object.keys(r).reduce((t,e)=>(t[e]=r[e],t),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function LC(r){return new Promise(t=>{setTimeout(t,r)})}function Ur(r){return r&&r.toLowerCase()}function Mv(r){return r&&typeof r.pollingInterval=="number"}const V1={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class ld extends MC{address;constructor(t,e){super(t),e=Lt(e),ot(this,{address:e})}connect(t){I(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=xu(t),n=[];if(e.from){const o=e.from;n.push((async()=>{const c=await De(o,this.provider);N(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=c})())}else e.from=this.address;if(e.gasLimit==null&&n.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),e.to!=null){const o=e.to;n.push((async()=>{e.to=await De(o,this.provider)})())}n.length&&await Promise.all(n);const l=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[l])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(t);return await new Promise((l,o)=>{const c=[1e3,100];let f=0;const d=async()=>{try{const p=await this.provider.getTransaction(n);if(p!=null){l(p.replaceableTransaction(e));return}}catch(p){if(Oe(p,"CANCELLED")||Oe(p,"BAD_DATA")||Oe(p,"NETWORK_ERROR")||Oe(p,"UNSUPPORTED_OPERATION")){p.info==null&&(p.info={}),p.info.sendTransactionHash=n,o(p);return}if(Oe(p,"INVALID_ARGUMENT")&&(f++,p.info==null&&(p.info={}),p.info.sendTransactionHash=n,f>10)){o(p);return}this.provider.emit("error",Kt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:p}))}this.provider._setTimeout(()=>{d()},c.pop()||4e3)};d()})}async signTransaction(t){const e=xu(t);if(e.from){const l=await De(e.from,this.provider);N(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=l}else e.from=this.address;const n=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[n])}async signMessage(t){const e=typeof t=="string"?gn(t):t;return await this.provider.send("personal_sign",[tt(e),this.address.toLowerCase()])}async signTypedData(t,e,n){const l=xu(n),o=await ni.resolveNames(t,e,l,async c=>{const f=await De(c);return N(f!=null,"TypedData does not support null address","value",c),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ni.getPayload(o.domain,e,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e=typeof t=="string"?gn(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),tt(e)])}}class _C extends AC{#t;#e;#i;#n;#s;#l;#r;#a(){if(this.#n)return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const e=this.#i;for(this.#i=[];e.length;){const n=[e.shift()];for(;e.length&&n.length!==this.#t.batchMaxCount;)if(n.push(e.shift()),JSON.stringify(n.map(o=>o.payload)).length>this.#t.batchMaxSize){e.unshift(n.pop());break}(async()=>{const l=n.length===1?n[0].payload:n.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:l});try{const o=await this._send(l);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:c,reject:f,payload:d}of n){if(this.destroyed){f(Kt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:d.method}));continue}const p=o.filter(m=>m.id===d.id)[0];if(p==null){const m=Kt("missing response for request","BAD_DATA",{value:o,info:{payload:d}});this.emit("error",m),f(m);continue}if("error"in p){f(this.getRpcError(d,p));continue}c(p.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:c}of n)c(o)}})()}},t)}constructor(t,e){super(t,e),this.#e=1,this.#t=Object.assign({},V1,e||{}),this.#i=[],this.#n=null,this.#l=null,this.#r=null;{let l=null;const o=new Promise(c=>{l=c});this.#s={promise:o,resolve:l}}const n=this._getOption("staticNetwork");typeof n=="boolean"?(N(!n||t!=="any","staticNetwork cannot be used on special network 'any'","options",e),n&&t!=null&&(this.#l=ri.from(t))):n&&(N(t==null||n.matches(t),"staticNetwork MUST match network object","options",e),this.#l=n)}_getOption(t){return this.#t[t]}get _network(){return I(this.#l,"network is not available yet","NETWORK_ERROR"),this.#l}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let n=t.transaction;if(n&&n.type!=null&&it(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const l=await this.getFeeData();l.maxFeePerGas==null&&l.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},n,{type:void 0})}))}}const e=this.getRpcRequest(t);return e!=null?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(this.#l)return this.#l}else return t;return this.#r?await this.#r:this.ready?(this.#r=(async()=>{try{const e=ri.from(it(await this.send("eth_chainId",[])));return this.#r=null,e}catch(e){throw this.#r=null,e}})(),await this.#r):(this.#r=(async()=>{const e={id:this.#e++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:e});let n;try{n=(await this._send(e))[0],this.#r=null}catch(l){throw this.#r=null,this.emit("debug",{action:"receiveRpcError",error:l}),l}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return ri.from(it(n.result));throw this.getRpcError(e,n)})(),await this.#r)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#l==null&&!this.destroyed;)try{this.#l=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Kt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await LC(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(t){return t.type==="pending"?new BC(this):t.type==="event"?this._getOption("polling")?new m0(this,t.filter):new CC(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new H1("orphan"):super._getSubscriber(t)}get ready(){return this.#s==null}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(t[n]==null)return;let l=n;n==="gasLimit"&&(l="gas"),e[l]=Oi(it(t[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{t[n]!=null&&(e[n]=tt(t[n]))}),t.accessList&&(e.accessList=Qs(t.accessList)),t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.map(n=>n.toLowerCase())),t.authorizationList&&(e.authorizationList=t.authorizationList.map(n=>{const l=jw(n);return{address:l.address,nonce:Oi(l.nonce),chainId:Oi(l.chainId),yParity:Oi(l.signature.yParity),r:Oi(l.signature.r),s:Oi(l.signature.s)}})),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ur(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ur(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ur(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ur(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Ur):t.filter.address=Ur(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:n}=t,{error:l}=e;if(n==="eth_estimateGas"&&l.message){const f=l.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return Kt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:l}});if(f.match(/nonce/i)&&f.match(/too low/i))return Kt("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:l}})}if(n==="eth_call"||n==="eth_estimateGas"){const f=Dd(l),d=il.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",t.params[0],f?f.data:null);return d.info={error:l,payload:t},d}const o=JSON.stringify(DC(l));if(typeof l.message=="string"&&l.message.match(/user denied|ethers-user-denied/i))return Kt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:t,error:l}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const f=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Kt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:l}});if(o.match(/nonce/i)&&o.match(/too low/i))return Kt("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:l}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Kt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:l}});if(o.match(/only replay-protected/i))return Kt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:f,info:{error:l}}})}let c=!!o.match(/the method .* does not exist/i);return c||l&&l.details&&l.details.startsWith("Unauthorized method:")&&(c=!0),c?Kt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:l,payload:t}}):Kt("could not coalesce error","UNKNOWN_ERROR",{error:l,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(Kt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const n=this.#e++,l=new Promise((o,c)=>{this.#i.push({resolve:o,reject:c,payload:{method:t,params:e,id:n,jsonrpc:"2.0"}})});return this.#a(),l}async getSigner(t){t==null&&(t=0);const e=this.send("eth_accounts",[]);if(typeof t=="number"){const l=await e;if(t>=l.length)throw new Error("no such account");return new ld(this,l[t])}const{accounts:n}=await Le({network:this.getNetwork(),accounts:e});t=Lt(t);for(const l of n)if(Lt(l)===t)return new ld(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new ld(this,e))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:t,reject:e}of this.#i)e(Kt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#i=[],super.destroy()}}class UC extends _C{#t;constructor(t,e){super(t,e);let n=this._getOption("pollingInterval");n==null&&(n=V1.pollingInterval),this.#t=n}_getSubscriber(t){const e=super._getSubscriber(t);return Mv(e)&&(e.pollingInterval=this.#t),e}get pollingInterval(){return this.#t}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#t=t,this._forEachSubscriber(e=>{Mv(e)&&(e.pollingInterval=this.#t)})}}class ad extends UC{#t;constructor(t,e,n){t==null&&(t="http://localhost:8545"),super(e,n),typeof t=="string"?this.#t=new Ii(t):this.#t=t.clone()}_getConnection(){return this.#t.clone()}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){const e=this._getConnection();e.body=JSON.stringify(t),e.setHeader("content-type","application/json");const n=await e.send();n.assertOk();let l=n.bodyJson;return Array.isArray(l)||(l=[l]),l}}function Dd(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&Qt(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const t in r){const e=Dd(r[t]);if(e)return e}return null}if(typeof r=="string")try{return Dd(JSON.parse(r))}catch{}return null}function zd(r,t){if(r!=null){if(typeof r.message=="string"&&t.push(r.message),typeof r=="object")for(const e in r)zd(r[e],t);if(typeof r=="string")try{return zd(JSON.parse(r),t)}catch{}}}function DC(r){const t=[];return zd(r,t),t}const od={ethereum:"https://ethereum.publicnode.com",polygon:"https://polygon-bor.publicnode.com",arbitrum:"https://arbitrum-one.publicnode.com"},zC=()=>{const r=bi(t=>t.updateGasData);Yr.useEffect(()=>{const t={ethereum:new ad(od.ethereum),polygon:new ad(od.polygon),arbitrum:new ad(od.arbitrum)},e=async(l,o)=>{try{if(l==="ethereum"){const c=await o.getBlock("latest"),f=c.baseFeePerGas?parseFloat(Tb(c.baseFeePerGas,"gwei")):0;r(l,f,2)}else{const c=await o.getFeeData(),f=c.gasPrice?parseFloat(Tb(c.gasPrice,"gwei")):0;r(l,f,1.5)}}catch(c){console.error(`${l} gas fetch error`,c.message)}},n=setInterval(()=>{Object.entries(t).forEach(([l,o])=>{e(l,o)})},6e3);return()=>clearInterval(n)},[r])},kC=()=>{const r=bi(t=>t.updateUsdPrice);Yr.useEffect(()=>{const t=async()=>{try{const o=(await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json()).ethereum.usd;r(o)}catch(n){console.error("ETH price fetch error:",n.message)}};t();const e=setInterval(t,1e4);return()=>clearInterval(e)},[r])};function PC(){const[r,t]=Yr.useState(""),e=bi(o=>o.setMode),n=bi(o=>o.setSimulationValue),l=o=>{const c=o.target.value;t(c);const f=parseFloat(c);!isNaN(f)&&f>0?(e("simulation"),n(f)):(e("live"),n(0))};return Rt.jsxs("div",{className:"widget",children:[Rt.jsx("h2",{children:"Simulate Transaction"}),Rt.jsx("input",{type:"number",placeholder:"Enter ETH amount (e.g. 0.5)",value:r,onChange:l})]})}function HC(){return zC(),kC(),Rt.jsxs("div",{className:"app container",children:[Rt.jsx("h1",{children:"Real-Time Ethereum Gas Tracker"}),Rt.jsxs("div",{className:"widgets",children:[Rt.jsx(PC,{}),Rt.jsx(SS,{}),Rt.jsx(xS,{}),Rt.jsx(TS,{})]}),Rt.jsx($x,{})]})}bS.createRoot(document.getElementById("root")).render(Rt.jsx(ud.StrictMode,{children:Rt.jsx(HC,{})}));
